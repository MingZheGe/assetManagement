{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nexport default {\n  props: ['searchProductName'],\n  watch: {\n    searchProductName: function (newVal, oldVal) {\n      // searchProductName 发生变化时，执行 findList4 方法\n      this.findList4();\n    }\n  },\n  data() {\n    return {\n      loading4: false,\n      tableData4: [],\n      tablePage4: {\n        currentPage: 1,\n        pageSize: 6,\n        pageSizes: [6, 10, 15, 20],\n        totalResult: 0\n      }\n    };\n  },\n  created() {\n    this.findList4();\n  },\n  methods: {\n    headerCellClassName({\n      column,\n      columnIndex\n    }) {\n      if (column.property === 'name') {\n        return 'col-blue';\n      }\n    },\n    showDetailEvent(row) {\n      this.$router.push('/query');\n      this.selectRow = row;\n      console.log(row.name);\n      this.showDetails = true;\n      this.$router.push({\n        path: '/query',\n        query: {\n          //   eventType:row.name, //事件类型\n          eventType: \"调价事件\",\n          range: row.trigger,\n          //触发词\n          dataFrom: \"query2\",\n          region: row.adjust_area,\n          //调价地区\n          time: row.adjust_time,\n          productName: row.adjust_product,\n          method: row.adjust_method,\n          context: row.context\n          // type:row.element4\n        }\n      });\n    },\n\n    findList4() {\n      this.loading4 = true;\n      setTimeout(() => {\n        //json串位置//加了个name=调价事件\n        const jsonString = '[{\"name\":\"调价事件\",\"event_id\": 1, \"adjust_area\": \"中国\",\"time_start\":1,\"trigger\":\"上涨\",\"method_start\":15,\"product_start\":20,\"method_end\":17,\"adjust_product\":\"新能源汽车\",\"area_start\":14,\"product_end\":22,\"context\":\"2025年10月,锂价格发生变化，因此中国地区比亚迪公司决定上涨新能源汽车价格。\",\"adjust_method\":\"上涨\",\"adjust_time\":\"2025年10月\",\"trigger_end\":5,\"trigger_start\":3,\"time_end\":8,\"area_end\":16}, {\"id\": 2, \"name\": \"获批事件\"}]';\n        // 使用JSON.parse()将JSON字符串转为数组\n        // const list = JSON.parse(jsonString);\n        const list = [];\n        axios.post('http://39.101.141.53:8086/SelectAllAdjust').then(response => {\n          // 处理请求成功的响应数据\n          console.log(response.data);\n          console.log(response.data[0].adjust_time);\n          const responseData = response.data;\n          responseData.forEach(item => {\n            list.push(item);\n          });\n          //  console.log(list.context)\n          // console.log(list)\n          this.context = list.context;\n          var filteredList = list;\n          if (this.searchProductName != \"\")\n            //搜索\n            filteredList = list.filter(item => item.adjust_product === this.searchProductName);\n          this.loading4 = false;\n          this.tablePage4.totalResult = list.length;\n          const tableData3 = filteredList.slice((this.tablePage4.currentPage - 1) * this.tablePage4.pageSize, this.tablePage4.currentPage * this.tablePage4.pageSize);\n          this.tableData4 = tableData3.map(item => {\n            return {\n              ...item,\n              // 保留原有的属性\n              name: '调价事件' // 添加新的 name 属性\n            };\n          });\n        }).catch(error => {\n          // 处理请求失败的情况\n          console.error(error);\n        });\n      }, 300);\n    },\n    handlePageChange4({\n      currentPage,\n      pageSize\n    }) {\n      this.tablePage4.currentPage = currentPage;\n      this.tablePage4.pageSize = pageSize;\n      this.findList4();\n    },\n    getSelectEvent() {\n      const selectRecords = this.$refs.xTable4.getCheckboxRecords();\n      this.$XModal.alert(selectRecords.length);\n    },\n    getSelectReserveEvent() {\n      const selectReserveRecords = this.$refs.xTable4.getCheckboxReserveRecords();\n      this.$XModal.alert(selectReserveRecords.length);\n    }\n  }\n  /*\r\n           computed:{\r\n            filteredList() {\r\n        // 使用 Array.prototype.filter 方法过滤出 name 为 \"调价事件\" 的元素\r\n        return this.list.filter(item => item.name === '调价事件');\r\n           },\r\n           }\r\n           */\n};","map":{"version":3,"names":["axios","props","watch","searchProductName","newVal","oldVal","findList4","data","loading4","tableData4","tablePage4","currentPage","pageSize","pageSizes","totalResult","created","methods","headerCellClassName","column","columnIndex","property","showDetailEvent","row","$router","push","selectRow","console","log","name","showDetails","path","query","eventType","range","trigger","dataFrom","region","adjust_area","time","adjust_time","productName","adjust_product","method","adjust_method","context","setTimeout","jsonString","list","post","then","response","responseData","forEach","item","filteredList","filter","length","tableData3","slice","map","catch","error","handlePageChange4","getSelectEvent","selectRecords","$refs","xTable4","getCheckboxRecords","$XModal","alert","getSelectReserveEvent","selectReserveRecords","getCheckboxReserveRecords"],"sources":["src/components/scrollTable.vue"],"sourcesContent":["<template>\r\n   <div class=\"scrollTable\">\r\n\r\n     \r\n<!-- size=\"mini\"-->\r\n\r\n       <vxe-table\r\n         border\r\n         class=\"mytable-scrollbar\"\r\n         show-overflow\r\n         ref=\"xTable4\"\r\n         height=\"400\"\r\n         row-id=\"id\"\r\n         show-footer\r\n         header-align=\"center\"\r\n         :loading=\"loading4\"\r\n         :header-cell-class-name=\"headerCellClassName\"\r\n         :cell-style=\"cellStyle\"\r\n         :footer-method=\"footerMethod\"\r\n         :seq-config=\"{startIndex: (tablePage4.currentPage - 1) * tablePage4.pageSize}\"\r\n         :checkbox-config=\"{reserve: true}\"\r\n         :data=\"tableData4\">\r\n         <!--type=\"seq\"-->\r\n         <vxe-table-column field=\"event_id\" title=\"序号\" width=\"60\"></vxe-table-column>\r\n         <vxe-table-column field=\"name\" title=\"事件类型\" width=\"100\" ></vxe-table-column>\r\n         <vxe-table-column field=\"trigger\" title=\"触发词\" width=\"100\" ></vxe-table-column>\r\n         <vxe-table-column \r\n         field=\"adjust_time\" title=\"论元1\" width=\"250\"  show-overflow align=\"center\"><!--width=这里改单元格宽度-->\r\n          <template v-slot=\"{ row }\"><!--公司-->\r\n  \t\t       <span>\r\n                <b>调价时间：</b>\r\n             </span>\r\n             <span >{{ row.adjust_time }}</span>\r\n  \t      </template>\r\n         </vxe-table-column>\r\n         <vxe-table-column field=\"adjust_product\" title=\"论元2\" width=\"250\"  show-overflow align=\"center\">\r\n          <template v-slot=\"{ row }\"><!--公司-->\r\n  \t\t       <span>\r\n                <b>调价产品：</b>\r\n             </span>\r\n             <span >{{ row.adjust_product }}</span>\r\n  \t      </template>\r\n         </vxe-table-column>\r\n         <vxe-table-column field=\"adjust_method\" title=\"论元3\" width=\"250\" show-overflow align=\"center\">\r\n          <template v-slot=\"{ row }\"><!--产品-->\r\n  \t\t       <span>\r\n                <b>调价方式：</b>\r\n             </span>\r\n             <span >{{ row.adjust_method }}</span>\r\n  \t      </template>\r\n         </vxe-table-column>\r\n         <vxe-table-column field=\"adjust_area\" title=\"论元4\" width=\"250\" show-overflow align=\"center\">\r\n          <template v-slot=\"{ row }\"><!--作用范围-->\r\n  \t\t       <span>\r\n                <b>调价地区：</b>\r\n             </span>\r\n             <span >{{ row.adjust_area }}</span>\r\n  \t      </template>\r\n\r\n         </vxe-table-column>\r\n        <!-- <vxe-table-column field=\"element5\" title=\"论元5\" width=\"250\" show-overflow></vxe-table-column>-->\r\n         <vxe-table-column type=\"seq\" title=\"查看\" width=\"160\" :resizable=\"false\" show-overflow align=\"center\">\r\n         <template v-slot=\"{ row }\">\r\n              <vxe-button @click=\"showDetailEvent(row)\">查看</vxe-button>\r\n            </template>\r\n         </vxe-table-column>\r\n       </vxe-table>\r\n\r\n       <vxe-pager\r\n         perfect\r\n         size=\"mini\"\r\n         :loading=\"loading\"\r\n         :current-page=\"tablePage4.currentPage\"\r\n         :page-size=\"tablePage4.pageSize\"\r\n         :page-sizes=\"tablePage4.pageSizes\"\r\n         :total=\"tablePage4.totalResult\"\r\n         :layouts=\"['PrevPage', 'JumpNumber', 'NextPage', 'FullJump', 'Sizes', 'Total']\"\r\n         @page-change=\"handlePageChange4\">\r\n       </vxe-pager>\r\n\r\n   </div>\r\n   </template>\r\n   \r\n   <script>\r\n     import axios from \"axios\";\r\n    export default {\r\n\r\n      props: ['searchProductName'],\r\n\r\n      watch:{\r\n\r\nsearchProductName: function(newVal, oldVal) {\r\n// searchProductName 发生变化时，执行 findList4 方法\r\nthis.findList4();\r\n}\r\n\r\n},\r\n  \r\n         data () {\r\n           return {\r\n             loading4: false,    \r\n             tableData4: [],\r\n             tablePage4: {\r\n               currentPage: 1,\r\n               pageSize: 6,\r\n               pageSizes: [6, 10, 15, 20],\r\n               totalResult: 0\r\n             },\r\n    \r\n           }\r\n         },\r\n         created () {\r\n           this.findList4()\r\n         },\r\n         methods: {\r\n\r\n          headerCellClassName ({ column, columnIndex }) {\r\n              if (column.property === 'name') {\r\n                return 'col-blue'\r\n              }\r\n            },\r\n            showDetailEvent (row) {\r\n               this.$router.push('/query');\r\n              this.selectRow = row\r\n              console.log(row.name)\r\n              this.showDetails = true\r\n              this.$router.push({ path: '/query', query: { \r\n             //   eventType:row.name, //事件类型\r\n             eventType:\"调价事件\",\r\n                range:row.trigger,//触发词\r\n                dataFrom:\"query2\",\r\n                region:row.adjust_area,//调价地区\r\n                time:row.adjust_time,\r\n                productName:row.adjust_product,\r\n                method:row.adjust_method,\r\n                context:row.context,\r\n               // type:row.element4\r\n              } });\r\n            },\r\n           findList4 () {\r\n             this.loading4 = true\r\n             setTimeout(() => {   \r\n              //json串位置//加了个name=调价事件\r\n              const jsonString = '[{\"name\":\"调价事件\",\"event_id\": 1, \"adjust_area\": \"中国\",\"time_start\":1,\"trigger\":\"上涨\",\"method_start\":15,\"product_start\":20,\"method_end\":17,\"adjust_product\":\"新能源汽车\",\"area_start\":14,\"product_end\":22,\"context\":\"2025年10月,锂价格发生变化，因此中国地区比亚迪公司决定上涨新能源汽车价格。\",\"adjust_method\":\"上涨\",\"adjust_time\":\"2025年10月\",\"trigger_end\":5,\"trigger_start\":3,\"time_end\":8,\"area_end\":16}, {\"id\": 2, \"name\": \"获批事件\"}]';\r\n// 使用JSON.parse()将JSON字符串转为数组\r\n             // const list = JSON.parse(jsonString);\r\n             const list=[];\r\n              axios.post('http://39.101.141.53:8086/SelectAllAdjust')\r\n  .then(response => {\r\n    // 处理请求成功的响应数据\r\n    console.log(response.data);\r\n    console.log(response.data[0].adjust_time);\r\n    const responseData = response.data;\r\n    responseData.forEach(item => {\r\n  list.push(item);\r\n});\r\n            //  console.log(list.context)\r\n             // console.log(list)\r\nthis.context=list.context\r\n           var filteredList=list\r\n   if(this.searchProductName!=\"\")//搜索\r\n    filteredList = list.filter(item => item.adjust_product === this.searchProductName);\r\n               this.loading4 = false\r\n               this.tablePage4.totalResult = list.length\r\n               const tableData3 = filteredList.slice((this.tablePage4.currentPage - 1) * this.tablePage4.pageSize, this.tablePage4.currentPage * this.tablePage4.pageSize)\r\n              this.tableData4 = tableData3.map(item => {\r\n  return {\r\n    ...item, // 保留原有的属性\r\n    name: '调价事件' // 添加新的 name 属性\r\n  };\r\n});\r\n  })\r\n  .catch(error => {\r\n    // 处理请求失败的情况\r\n    console.error(error);\r\n  });\r\n          \r\n             }, 300)\r\n           },\r\n           handlePageChange4 ({ currentPage, pageSize }) {\r\n             this.tablePage4.currentPage = currentPage\r\n             this.tablePage4.pageSize = pageSize\r\n             this.findList4()\r\n           },\r\n           getSelectEvent () {\r\n             const selectRecords = this.$refs.xTable4.getCheckboxRecords()\r\n             this.$XModal.alert(selectRecords.length)\r\n           },\r\n           getSelectReserveEvent () {\r\n             const selectReserveRecords = this.$refs.xTable4.getCheckboxReserveRecords()\r\n             this.$XModal.alert(selectReserveRecords.length)\r\n           }\r\n         },\r\n/*\r\n         computed:{\r\n          filteredList() {\r\n      // 使用 Array.prototype.filter 方法过滤出 name 为 \"调价事件\" 的元素\r\n      return this.list.filter(item => item.name === '调价事件');\r\n         },\r\n         }\r\n         */\r\n       }\r\n   </script>\r\n   \r\n   \r\n\r\n\r\n\r\n    <style lang=\"less\">\r\n /*\r\n .scrollTable {\r\n    background-color: #ffffff;\r\n    position:fixed;\r\n    top:35%;\r\n    width:85%;\r\n    height:62%;\r\n    margin-left:10px;\r\n    bottom:5px;\r\n }\r\n*/\r\n\r\n.scrollTable {\r\n  /*\r\n    background-color: #ffffff;\r\n    position:relative;\r\n    top:35%;\r\n    width:87%;\r\n    height:62%;\r\n    margin-left:0px;\r\n    bottom:5px;\r\n    */\r\n    width:90%;\r\n    height:100%;\r\n }\r\n\r\n\r\n       /*滚动条整体部分*/\r\n       .mytable-scrollbar ::-webkit-scrollbar {\r\n         width: 10px;\r\n         height: 10px;\r\n       }\r\n       /*滚动条的轨道*/\r\n       .mytable-scrollbar ::-webkit-scrollbar-track {\r\n         background-color: #FFFFFF;\r\n       }\r\n       /*滚动条里面的小方块，能向上向下移动*/\r\n       .mytable-scrollbar ::-webkit-scrollbar-thumb {\r\n         background-color: #bfbfbf;\r\n         border-radius: 5px;\r\n         border: 1px solid #F1F1F1;\r\n         box-shadow: inset 0 0 6px rgba(0,0,0,.3);\r\n       }\r\n       .mytable-scrollbar ::-webkit-scrollbar-thumb:hover {\r\n         background-color: #A8A8A8;\r\n       }\r\n       .mytable-scrollbar ::-webkit-scrollbar-thumb:active {\r\n         background-color: #787878;\r\n       }\r\n       /*边角，即两个滚动条的交汇处*/\r\n       .mytable-scrollbar ::-webkit-scrollbar-corner {\r\n         background-color: #FFFFFF;\r\n       }\r\n       \r\n       .mytable-scrollbar .vxe-header--column {\r\n          background-color: #ffffff;//表头背景色\r\n          color: #000000;//字体色\r\n        }\r\n\r\n        .mytable-scrollbar .vxe-table--header{\r\n        margin-bottom: 0px;\r\n         \r\n        }\r\n\r\n       //  .mytable-scrollbar .vxe-cell--label{\r\n       // font-weight: bold;\r\n         \r\n      //  }\r\n        \r\n        .table {\r\n          margin-bottom: 0px;\r\n        }\r\n      </style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}