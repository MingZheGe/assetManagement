{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.array.push.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _defineProperty2 = require(\"babel-runtime/helpers/defineProperty\");\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\nvar _getIterator2 = require(\"babel-runtime/core-js/get-iterator\");\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\nvar _map = require(\"babel-runtime/core-js/map\");\nvar _map2 = _interopRequireDefault(_map);\nvar _set = require(\"babel-runtime/core-js/set\");\nvar _set2 = _interopRequireDefault(_set);\nvar _JSStockInit$STOCK_FI;\nvar _jquery = require(\"jquery\");\nvar _jquery2 = _interopRequireDefault(_jquery);\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\n/*\r\n   Copyright (c) 2018 jones\r\n \r\n    http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n   开源项目 https://github.com/jones2000/HQChart\r\n \r\n   jones_2000@163.com\r\n\r\n   个股行情数据类\r\n*/\n\n////////////////////////////////////////////////////////////////////////////////////////\n//  股票数据\n//\n///////////////////////////////////////////////////////////////////////////////////////\n\nfunction JSStockResource() {\n  this.Domain = \"http://127.0.0.1:8886\"; //API域名\n  this.CacheDomain = \"http://127.0.0.1:8886\"; //缓存域名\n}\n\nvar g_JSStockResource = new JSStockResource();\n\n//领涨领跌\nfunction IndexTopData() {\n  this.Stop; //停牌\n  this.Down; //下跌\n  this.Up; //上涨\n  this.Unchanged; //平盘\n  this.UpStock = {\n    \"Symbol\": null,\n    \"Name\": null\n  }; //领涨\n  this.DownStock = {\n    \"Symbol\": null,\n    \"Name\": null\n  }; //领跌\n}\n\nfunction IndexHeatData() {\n  this.Good; //健康度\n  //this.Date;  //日期\n  this.GoodIncrease = {\n    \"Day1\": null,\n    'Week1': null,\n    \"Week4\": null\n  }; //周涨幅\n}\n\nfunction SortData(field, order, tagID) {\n  this.arySymbol = new Array(); //成分\n  this.SortField = field; //排序字段\n  this.Order = order; //1 降, -1 升\n  this.TagID = new _set2.default([tagID]); //绑定的元素id\n}\n\n//财务数据\nfunction FinanceData() {\n  this.ROE; //净资产收益率\n\n  this.Date; //报告日期,\n  this.PerSEarning; //每股收益\n  this.EPS; //滚动每股收益\n  this.PerNetAsset; //每股净资产\n\n  this.NProfit; //净利润\n  this.NProfitIncrease; //净利润涨幅 （当年净利润-上一年）/上一年*100\n\n  this.NnetProfit; //扣非净利润\n  this.NnProfitIncrease; //扣非净利润涨幅  （当年扣非净利润-上一年）/上一年*100\n  this.NnProfitSpeed; //扣非净利润涨速  （当前扣非净利润/上一年-1）/（上一年/上上年-1）\n  this.Benford; //财务粉饰\n\n  //TODO:财务数据要了后面再加\n\n  this.SetData = function (data) {\n    if (!isNaN(data.roe)) this.ROE = data.roe;\n    if (!isNaN(data.finance.date)) this.Date = data.finance.date;\n    if (!isNaN(data.finance.persearning)) this.PerSEarning = data.finance.persearning;\n    if (!isNaN(data.finance.eps)) this.EPS = data.finance.eps;\n    if (!isNaN(data.finance.pernetasset)) this.PerNetAsset = data.finance.pernetasset;\n    if (!isNaN(data.finance.nprofit)) this.NProfit = data.finance.nprofit;\n    if (!isNaN(data.finance.nprofitincrease)) this.NProfitIncrease = data.finance.nprofitincrease;\n    if (!isNaN(data.finance.nnetprofit)) this.NnetProfit = data.finance.nnetprofit;\n    if (!isNaN(data.finance.nnprofitincrease)) this.NnProfitIncrease = data.finance.nnprofitincrease;\n    if (!isNaN(data.finance.nnprofitspeed)) this.NnProfitSpeed = data.finance.nnprofitspeed;\n    if (!isNaN(data.finance.benford)) this.Benford = data.finance.benford;\n  };\n}\n\n//股本数据\nfunction CapitalData() {\n  this.Date; //变动日期\t\n  this.A; //流通A股\n  this.Total; //总股本\n  this.ARate; //流通A股占比\n\n  this.SetData = function (data) {\n    if (!isNaN(data.capital.date)) this.Date = data.capital.date;\n    if (!isNaN(data.capital.a)) this.A = data.capital.a;\n    if (!isNaN(data.capital.total)) this.Total = data.capital.total;\n    if (!isNaN(data.capital.arate)) this.ARate = data.capital.arate;\n  };\n}\n\n//资金流(当日)\nfunction CapitalFlowDayData() {\n  this.SuperIn; //超大单流入\n  this.SuperOut; //超大单流出\n  this.BigIn; //大单流入\n  this.BigOut; //大单流出\n  this.MidIn; //中单流入\n  this.MidOut; //中单流出\n  this.SmallIn; //小单流入\n  this.SmallOut; //小单流出\n  this.MainIn; //主力流入\n  this.MainOut; //主力流出\n  this.MainNetIn; //主力净流入\n\n  this.SetData = function (data) {\n    this.SuperIn = data.superin;\n    this.SuperOut = data.superout;\n    this.BigIn = data.bigin;\n    this.BigOut = data.bigout;\n    this.MidIn = data.midin;\n    this.MidOut = data.midout;\n    this.SmallIn = data.smallin; //小单流入\n    this.SmallOut = data.smallout; //小单流出\n    this.MainIn = data.mainin; //主力流入\n    this.MainOut = data.mainout; //主力流出\n    this.MainNetIn = data.mainnetin; //主力净流入\n  };\n}\n\n//资金流(多日)\nfunction CapitalFlowDaysData() {\n  this.SuperIn; //超大单流入\n  this.SuperOut; //超大单流出\n  this.BigIn; //大单流入\n  this.BigOut; //大单流出\n  this.MidIn; //中单流入\n  this.MidOut; //中单流出\n  this.SmallIn; //小单流入\n  this.SmallOut; //小单流出\n  this.MainIn; //主力流入\n  this.MainOut; //主力流出\n  this.MainNetIn; //主力净流入\n  this.MainNetInRatio; //多日日主力净流占比\n\n  this.SetData = function (data) {\n    this.SuperIn = data.superin;\n    this.SuperOut = data.superout;\n    this.BigIn = data.bigin;\n    this.BigOut = data.bigout;\n    this.MidIn = data.midin;\n    this.MidOut = data.midout;\n    this.SmallIn = data.smallin; //小单流入\n    this.SmallOut = data.smallout; //小单流出\n    this.MainIn = data.mainin; //主力流入\n    this.MainOut = data.mainout; //主力流出\n    this.MainNetIn = data.mainnetin; //主力净流入\n    this.MainNetInRatio = data.mainnetinratio;\n  };\n}\nfunction DDEData() {\n  this.DDX;\n  this.DDY;\n  this.DDZ;\n  this.SetData = function (data) {\n    this.DDX = data.ddx;\n    this.DDY = data.ddy;\n    this.DDZ = data.ddz;\n  };\n}\n\n//个股资料\nfunction CompanyData() {\n  this.Name;\n  this.Business; //主营业务\n  this.Vol; //发行量\n  this.Price; //发行价格\n  this.ReleaseDate; //上市日期\n  this.Competence; //核心竞争力\n\n  this.SetData = function (data) {\n    if (!data.company) return;\n    this.Name = data.company.name;\n    this.Business = data.company.business;\n    this.Vol = data.company.vol;\n    this.Price = data.company.price;\n    this.ReleaseDate = data.company.releasedate;\n    this.Competence = data.company.corecompetence;\n  };\n}\n\n//板块信息\nfunction PlateData() {\n  this.Industry; //行业分类\n  this.Region; //地区\n  this.Concept; //概念\n\n  this.SetData = function (data) {\n    this.SetIndustryData(data);\n    this.SetRegionData(data);\n    this.SetConceptData(data);\n  };\n  this.SetIndustryData = function (data) {\n    if (!data.industry) return;\n    this.Industry = [];\n    for (var i in data.industry) {\n      var item = data.industry[i];\n      this.Industry.push({\n        Name: item.name,\n        Symbol: item.symbol\n      });\n    }\n  };\n  this.SetRegionData = function (data) {\n    if (!data.region) return;\n    this.Region = [];\n    for (var i in data.region) {\n      var item = data.region[i];\n      this.Region.push({\n        Name: item.name,\n        Symbol: item.symbol\n      });\n    }\n  };\n  this.SetConceptData = function (data) {\n    if (!data.concept) return;\n    this.Concept = [];\n    for (var i in data.concept) {\n      var item = data.concept[i];\n      this.Concept.push({\n        Name: item.name,\n        Symbol: item.symbol\n      });\n    }\n  };\n}\n\n//股票属性事件,属性\nfunction EventData() {\n  this.IsMargin = false; //是否是融资融券标题\n  this.IsHK = false; //是否有港股\n  this.IsSHHK = false; //沪港通\n  this.IsSZHK = false; //深股通\n  this.STType = 0; //St标识（0：正常股票，1：st股票，2：*st股票）\n  this.HK; //港股信息 { Symbol:代码 Name:名称 }\n\n  this.SetData = function (data) {\n    if (!data.events) return;\n    if (!isNaN(data.events.margin)) this.IsMargin = data.events.margin == 1;\n    if (!isNaN(data.events.hk)) this.IsHK = data.events.hk == 1;\n    if (!isNaN(data.events.shhk)) this.IsSHHK = data.events.shhk == 1;\n    if (!isNaN(data.events.szhk)) this.IsSZHK = data.events.szhk == 1;\n    if (!isNaN(data.events.st)) this.STType = data.events.st;\n    if (this.IsHK && data.events.hksymbol && data.events.hkname) {\n      this.HK = {\n        Symbol: data.events.hksymbol,\n        Name: data.events.hkname\n      };\n    }\n  };\n}\n\n//是否是指数代码(是一个单独的类，从umychart.js复制来的)\nfunction IsIndexSymbol(symbol) {\n  var upperSymbol = symbol.toUpperCase();\n  if (upperSymbol.indexOf('.SH') > 0) {\n    upperSymbol = upperSymbol.replace('.SH', '');\n    if (upperSymbol.charAt(0) == '0' && parseInt(upperSymbol) <= 3000) return true;\n  } else if (upperSymbol.indexOf('.SZ') > 0) {\n    upperSymbol = upperSymbol.replace('.SZ', '');\n    if (upperSymbol.charAt(0) == '3' && upperSymbol.charAt(1) == '9') return true;\n  } else if (upperSymbol.indexOf('.CI') > 0)\n    //自定义指数\n    {\n      return true;\n    }\n  return false;\n}\nfunction StockData(symbol) {\n  this.Symbol = symbol; //股票代码\n  this.Name; //股票名称\n\n  //基础数据\n  this.Open; //开盘\n  this.Price; //最新\n  this.High; //最高\n  this.Low; //最低\n  this.YClose; //前收盘\n  this.Vol; //成交量\n  this.Amount; //成交金额\n  this.Date; //交易日期\n  this.Time; //交易时间\n  this.ExchangeRate; //换手率\n  this.Amplitude; //振幅\n  this.VolRatio; //量比\n\n  this.Increase; //涨幅\n  this.MaxPrice; //涨停价\n  this.MinPrice; //跌停价\n  this.RFPrice; //涨跌额 (Price-YClose)\n\n  this.IndexTop; //涨跌家数\n  this.Week; //周涨幅\n\n  this.MinuteAmplitude = {}; //1,3,5,10,15, 振幅\n  this.RiseFallSpeed = {}; //1,3,5,10,15 分钟涨速\n  this.MAmount = {}; //1,3,5,10,15 分钟成交量\n\n  this.GetBaseData = function (tagID, field) {\n    this.BaseDataTagID.add(tagID);\n    switch (field) {\n      case STOCK_FIELD_NAME.SYMBOL:\n        return this.Symbol;\n      case STOCK_FIELD_NAME.NAME:\n        return this.Name;\n      case STOCK_FIELD_NAME.OPEN:\n        return this.Open;\n      case STOCK_FIELD_NAME.PRICE:\n        return this.Price;\n      case STOCK_FIELD_NAME.YCLOSE:\n        return this.YClose;\n      case STOCK_FIELD_NAME.HIGH:\n        return this.High;\n      case STOCK_FIELD_NAME.LOW:\n        return this.Low;\n      case STOCK_FIELD_NAME.VOL:\n        return this.Vol;\n      case STOCK_FIELD_NAME.AMOUNT:\n        return this.Amount;\n      case STOCK_FIELD_NAME.DATE:\n        return this.Date;\n      case STOCK_FIELD_NAME.TIME:\n        return this.Time;\n      case STOCK_FIELD_NAME.INCREASE:\n        return this.Increase;\n      case STOCK_FIELD_NAME.EXCHANGE_RATE:\n        return this.ExchangeRate;\n      case STOCK_FIELD_NAME.AMPLITUDE:\n        return this.Amplitude;\n      case STOCK_FIELD_NAME.MAX_PRICE:\n        return this.MaxPrice;\n      case STOCK_FIELD_NAME.MIN_PRICE:\n        return this.MinPrice;\n      case STOCK_FIELD_NAME.RISE_FALL_PRICE:\n        return this.RFPrice;\n      case STOCK_FIELD_NAME.VOLRATIO:\n        return this.VolRatio;\n      case STOCK_FIELD_NAME.INDEXTOP:\n        return this.IndexTop;\n      case STOCK_FIELD_NAME.WEEK:\n        return this.Week;\n    }\n  };\n  this.Heat; //热度\n  //获取热度数据,不要直接使用变量获取\n  this.GetHeatData = function (tagID) {\n    this.HeatTagID.add(tagID);\n    return this.Heat;\n  };\n\n  //成分排序\n  this.Sort = new _map2.default(); //key=排序字段-排序方式 value=SortData 一个控件之能有1个排序规则\n  this.GetSortData = function (tagID, field, order) {\n    var key = field.toString() + '-' + order.toString();\n    if (!this.Sort.has(key)) {\n      var data = new SortData(field, order, tagID);\n      this.Sort.set(key, data);\n      return data;\n    }\n    var data = this.Sort.get(key);\n    data.TagID.add(tagID);\n    return data;\n  };\n  this.Buy5; //五档买\n  this.GetBuy5 = function (tagID) {\n    this.BuySellTagID.add(tagID);\n    return this.Buy5;\n  };\n  this.Sell5; //五档卖\n  this.GetSell5 = function (tagID) {\n    this.BuySellTagID.add(tagID);\n    return this.Sell5;\n  };\n  this.Deal; //分笔 最新10条\n  this.GetDeal = function (tagID) {\n    this.DealTagID.add(tagID);\n    return this.Deal;\n  };\n  this.MarketValue; //总市值\n  this.FlowMarketValue; //流通市值\n  this.Bookrate; //委比\n  this.Bookdiffer; //委差\n  this.PE; //市盈率\n  this.PE2; //市盈率（TTM）\n  this.PE3; //市盈率（动）\n  this.PB;\n  this.GetDerivative = function (tagID, field) {\n    this.DerivativeTagID.add(tagID);\n    switch (field) {\n      case STOCK_FIELD_NAME.MARKET_VALUE:\n        return this.MarketValue;\n      case STOCK_FIELD_NAME.FLOW_MARKET_VALUE:\n        return this.FlowMarketValue;\n      case STOCK_FIELD_NAME.BOOK_RATE:\n        return this.Bookrate;\n      case STOCK_FIELD_NAME.BOOK_DIFFER:\n        return this.Bookdiffer;\n      case STOCK_FIELD_NAME.PE:\n        return this.PE;\n      case STOCK_FIELD_NAME.PE2:\n        return this.PE2;\n      case STOCK_FIELD_NAME.PE3:\n        return this.PE3;\n      case STOCK_FIELD_NAME.PB:\n        return this.PB;\n    }\n  };\n  this.Finance; //财务数据     \n  this.GetFinance = function (tagID, field) {\n    if (!this.Finance)\n      //只请求一次\n      {\n        this.FinanceTagID.add(tagID);\n        return null;\n      }\n    switch (field) {\n      case STOCK_FIELD_NAME.ROE:\n        return this.Finance.ROE;\n      case STOCK_FIELD_NAME.FINANCE_DATE:\n        return this.Finance.Date;\n      case STOCK_FIELD_NAME.FINANCE_PERSEARNING:\n        return this.Finance.PerSEarning;\n      case STOCK_FIELD_NAME.FINANCE_PERNETASSET:\n        return this.Finance.PerNetAsset;\n      case STOCK_FIELD_NAME.FINANCE_NPROFIT:\n        return this.Finance.NProfit;\n      case STOCK_FIELD_NAME.FINANCE_NPROFITINCREASE:\n        return this.Finance.NProfitIncrease;\n      case STOCK_FIELD_NAME.FINANCE_NNETPROFIT:\n        return this.Finance.NnetProfit;\n      case STOCK_FIELD_NAME.FINANCE_NNPROFITINCREASE:\n        return this.Finance.NnProfitIncrease;\n      case STOCK_FIELD_NAME.FINANCE_NNPROFITSPEED:\n        return this.Finance.NnProfitSpeed;\n      case STOCK_FIELD_NAME.FINANCE_EPS:\n        return this.Finance.EPS;\n      case STOCK_FIELD_NAME.FINANCE_BENFORD:\n        return this.Finance.Benford;\n    }\n  };\n  this.Capital; //股本\n  this.GetCapital = function (tagID, field) {\n    if (!this.Capital)\n      //只请求一次\n      {\n        this.CapitalTagID.add(tagID);\n        return null;\n      }\n    switch (field) {\n      case STOCK_FIELD_NAME.CAPITAL_TOTAL:\n        return this.Capital.Total;\n      case STOCK_FIELD_NAME.CAPITAL_A:\n        return this.Capital.A;\n      case STOCK_FIELD_NAME.CAPTIAL_ARATE:\n        return this.Capital.ARate;\n    }\n  };\n\n  //资金流\n  this.CapitalFlowDay;\n  this.CapitalFlowDay3;\n  this.CapitalFlowDay5;\n  this.CapitalFlowDay10;\n  this.GetCapitalFlowDay = function (tagID, field) {\n    var data = null;\n    switch (field) {\n      case STOCK_FIELD_NAME.CAPITAL_FLOW_DAY:\n        this.CapitalFlowDayID.add(tagID);\n        if (this.CapitalFlowDay) data = this.CapitalFlowDay;\n        break;\n      case STOCK_FIELD_NAME.CAPITAL_FLOW_DAY3:\n        this.CapitalFlowDay3ID.add(tagID);\n        if (this.CapitalFlowDay3) data = this.CapitalFlowDay3;\n        break;\n      case STOCK_FIELD_NAME.CAPITAL_FLOW_DAY5:\n        this.CapitalFlowDay5ID.add(tagID);\n        if (this.CapitalFlowDay5) data = this.CapitalFlowDay5;\n        break;\n      case STOCK_FIELD_NAME.CAPITAL_FLOW_DAY10:\n        this.CapitalFlowDay10ID.add(tagID);\n        if (this.CapitalFlowDay10) data = this.CapitalFlowDay10;\n        break;\n    }\n    return data;\n  };\n\n  //资金流 DDE\n  this.DDE;\n  this.DDE3;\n  this.DDE5;\n  this.DDE10;\n  this.GetDDE = function (tagID, field) {\n    var data = null;\n    switch (field) {\n      case STOCK_FIELD_NAME.DDE:\n        this.DDEID.add(tagID);\n        if (this.DDE) data = this.DDE;\n        break;\n      case STOCK_FIELD_NAME.DDE3:\n        this.DDE3ID.add(tagID);\n        if (this.DDE3) data = this.DDE3;\n        break;\n      case STOCK_FIELD_NAME.DDE5:\n        this.DDE5ID.add(tagID);\n        if (this.DDE5) data = this.DDE5;\n        break;\n      case STOCK_FIELD_NAME.DDE10:\n        this.DDE10ID.add(tagID);\n        if (this.DDE10) data = this.DDE10;\n        break;\n    }\n    return data;\n  };\n  this.Event; //事件 属性\n  this.GetEvent = function (tagID, field) {\n    if (!this.Event) {\n      this.EventTagID.add(tagID);\n      return null;\n    }\n    return this.Event;\n  };\n\n  //个股资料\n  this.Company; //个股资料\n  this.GetCompany = function (tagID, field) {\n    if (!this.Company)\n      //只请求一次\n      {\n        this.CompanyTagID.add(tagID);\n        return null;\n      }\n    switch (field) {\n      case STOCK_FIELD_NAME.COMPANY_NAME:\n        return this.Company.Name;\n      case STOCK_FIELD_NAME.COMPANY_BUSINESS:\n        return this.Company.Business;\n      case STOCK_FIELD_NAME.COMPANY_VOL:\n        return this.Company.Vol;\n      case STOCK_FIELD_NAME.COMPANY_PRICE:\n        return this.Company.Price;\n      case STOCK_FIELD_NAME.COMPANY_RELEASEDATE:\n        return this.Company.ReleaseDate;\n      case STOCK_FIELD_NAME.COMPANY_COMPETENCE:\n        return this.Company.Competence;\n    }\n  };\n  this.Plate; //板块\n  this.GetPlate = function (tagID, field) {\n    if (!this.Plate)\n      //只请求一次\n      {\n        this.PlateTagID.add(tagID);\n        return null;\n      }\n    switch (field) {\n      case STOCK_FIELD_NAME.PLATE_INDUSTRY:\n        return this.Plate.Industry;\n      case STOCK_FIELD_NAME.PLATE_CONCEPT:\n        return this.Plate.Concept;\n      case STOCK_FIELD_NAME.PLATE_REGION:\n        return this.Plate.Region;\n    }\n  };\n  this.TagID = new _set2.default(); //绑定的控件id\n  this.BaseDataTagID = new _set2.default(); //基础数据的控件id\n  this.HeatTagID = new _set2.default(); //需要热度的控件id\n  this.BuySellTagID = new _set2.default(); //买卖盘的控件id\n  this.DealTagID = new _set2.default(); //分笔的控件id\n  this.DerivativeTagID = new _set2.default(); //衍生数据\n  this.FinanceTagID = new _set2.default(); //财务数据 (就请求1次)\n  this.CapitalTagID = new _set2.default(); //股本数据 (就请求1次)\n\n  this.CapitalFlowDayID = new _set2.default(); //当日资金流\n  this.CapitalFlowDay3ID = new _set2.default(); //3日资金流\n  this.CapitalFlowDay5ID = new _set2.default(); //5日资金流\n  this.CapitalFlowDay10ID = new _set2.default(); //10日资金流\n  this.DDEID = new _set2.default();\n  this.DDE3ID = new _set2.default();\n  this.DDE5ID = new _set2.default();\n  this.DDE10ID = new _set2.default();\n  this.EventTagID = new _set2.default(); //股票事件/属性\n  this.CompanyTagID = new _set2.default(); //个股资料 (就请求1次)\n  this.PlateTagID = new _set2.default(); //板块 概念 地区\n\n  this.AttachTagID = function (id) {\n    this.TagID.add(id);\n  };\n  this.ClearTagID = function () {\n    this.TagID.clear();\n    this.BaseDataTagID.clear();\n    this.HeatTagID.clear();\n    this.BuySellTagID.clear();\n    this.DealTagID.clear();\n    this.DerivativeTagID.clear();\n    this.FinanceTagID.clear();\n    this.CapitalTagID.clear();\n    this.CapitalFlowDayID.clear();\n    this.CapitalFlowDay3ID.clear();\n    this.CapitalFlowDay5ID.clear();\n    this.CapitalFlowDay10ID.clear();\n    this.DDEID.clear();\n    this.DDE3ID.clear();\n    this.DDE5ID.clear();\n    this.DDE10ID.clear();\n    this.EventTagID.clear();\n    this.CompanyTagID.clear();\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n    try {\n      for (var _iterator = (0, _getIterator3.default)(this.Sort), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var item = _step.value;\n        item[1].TagID.clear();\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  };\n  this.RemoveTagID = function (id) {\n    this.TagID.delete(id);\n    this.BaseDataTagID.delete(id);\n    this.HeatTagID.delete(id);\n    this.BuySellTagID.delete(id);\n    this.DealTagID.delete(id);\n    this.DerivativeTagID.delete(id);\n    this.FinanceTagID.delete(id);\n    this.CapitalTagID.delete(id);\n    this.CapitalFlowDayID.delete(id);\n    this.CapitalFlowDay3ID.delete(id);\n    this.CapitalFlowDay5ID.delete(id);\n    this.CapitalFlowDay10ID.delete(id);\n    this.DDEID.delete(id);\n    this.DDE3ID.delete(id);\n    this.DDE5ID.delete(id);\n    this.DDE10ID.delete(id);\n    this.EventTagID.delete(id);\n    this.CompanyTagID.delete(id);\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n    try {\n      for (var _iterator2 = (0, _getIterator3.default)(this.Sort), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var item = _step2.value;\n        item[1].TagID.delete(id);\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2.return) {\n          _iterator2.return();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n  };\n\n  //设置基础数据\n  this.SetBaseData = function (data) {\n    this.Name = data.name;\n    this.YClose = data.yclose;\n    this.Price = data.price;\n    this.High = data.high;\n    this.Low = data.low;\n    this.Open = data.open;\n    this.Vol = data.vol;\n    this.Amount = data.amount;\n    this.Date = data.date;\n    this.Time = data.time;\n    this.Increase = data.increase;\n    if (!isNaN(data.exchangerate)) this.ExchangeRate = data.exchangerate;\n    if (!isNaN(data.amplitude)) this.Amplitude = data.amplitude;\n    if (!isNaN(data.volratio)) this.VolRatio = data.volratio;\n    if (this.Name.indexOf('ST') >= 0) {\n      this.MaxPrice = (1 + 0.05) * this.Open;\n      this.MinPrice = (1 - 0.05) * this.Open;\n    } else {\n      this.MaxPrice = (1 + 0.1) * this.Open;\n      this.MinPrice = (1 - 0.1) * this.Open;\n    }\n    if (this.Price && this.YClose) this.RFPrice = this.Price - this.YClose;\n\n    //周涨幅\n    if (data.week) {\n      this.Week = {};\n      this.Week.Week1 = data.week.week1;\n      this.Week.Week4 = data.week.week4;\n      this.Week.Week13 = data.week.week13;\n      this.Week.Week26 = data.week.week26;\n      this.Week.Week52 = data.week.week52;\n    }\n  };\n  this.SetDerivativeData = function (data) {\n    this.MarketValue = data.marketvalue; //总市值\n    this.FlowMarketValue = data.flowmarketvalue; //流通市值\n    this.Bookrate = data.bookrate; //委比\n    this.Bookdiffer = data.bookdiffer; //委差\n    this.PE = data.pe; //市盈率\n    this.PE2 = data.pe2; //市盈率\n    this.PE3 = data.pe3; //市盈率\n    this.PB = data.pb; //市净率\n  };\n\n  this.SetFinanceData = function (data) {\n    console.log(data);\n    if (!data.finance) return;\n    this.Finance = new FinanceData();\n    this.Finance.SetData(data);\n  };\n  this.SetCapitalData = function (data) {\n    if (!data.capital) return;\n    this.Capital = new CapitalData();\n    this.Capital.SetData(data);\n  };\n\n  //指数基础数据\n  this.SetIndexBaseData = function (data) {\n    this.SetBaseData(data);\n    var topData = new IndexTopData();\n    if (data.indextop) {\n      topData.Up = data.indextop.up;\n      topData.Down = data.indextop.down;\n      topData.Unchanged = data.indextop.unchanged;\n      topData.Stop = data.indextop.stop;\n      topData.UpStock.Symbol = data.indextop.upstock.symbol;\n      topData.UpStock.Name = data.indextop.upstock.name;\n      topData.DownStock.Symbol = data.indextop.downstock.symbol;\n      topData.DownStock.Name = data.indextop.downstock.name;\n    }\n    this.IndexTop = topData;\n  };\n\n  //五档买卖盘\n  this.SetBuySellData = function (data) {\n    this.SetBaseData(data);\n    this.Buy5 = new Array();\n    this.Sell5 = new Array();\n    for (var i in data.buy) {\n      var item = data.buy[i];\n      this.Buy5.push({\n        \"Price\": item.price,\n        \"Vol\": item.vol\n      });\n    }\n    for (var i in data.sell) {\n      var item = data.sell[i];\n      this.Sell5.push({\n        \"Price\": item.price,\n        \"Vol\": item.vol\n      });\n    }\n  };\n\n  //分笔\n  this.SetDealData = function (data) {\n    this.Price = data.price;\n    this.High = data.high;\n    this.Low = data.low;\n    this.Vol = data.vol;\n    this.Amount = data.amount;\n    this.Date = data.date;\n    this.Time = data.time;\n    this.Increase = data.increase;\n    this.Deal = new Array();\n    for (var i in data.deal) {\n      var item = data.deal[i];\n      if (isNaN(item.price) || isNaN(item.time)) continue;\n      var bs = '';\n      if (item.bs === 0) bs = 'B';else if (item.bs === 1) bs = 'S';\n      this.Deal.push({\n        \"Price\": item.price,\n        \"Amount\": item.amount,\n        \"Vol\": item.vol,\n        \"Time\": item.time,\n        'BS': bs\n      });\n    }\n  };\n\n  //热度\n  this.SetHeatData = function (data) {\n    var heatData = new IndexHeatData();\n    heatData.Good = data.quadrant.good;\n    heatData.GoodIncrease.Day1 = data.quadrant.gincrease.day1;\n    heatData.GoodIncrease.Week1 = data.quadrant.gincrease.week1;\n    heatData.GoodIncrease.Week4 = data.quadrant.gincrease.week4;\n    this.Heat = heatData;\n  };\n  this.SetCapitalFlowDayData = function (data, datatype) {\n    if (!data) return;\n    switch (datatype) {\n      case RECV_DATA_TYPE.CAPITAL_FLOW_DAY_DATA:\n        this.CapitalFlowDay = new CapitalFlowDayData();\n        this.CapitalFlowDay.SetData(data);\n        break;\n      case RECV_DATA_TYPE.CAPITAL_FLOW_DAY3_DATA:\n        this.CapitalFlowDay3 = new CapitalFlowDaysData();\n        this.CapitalFlowDay3.SetData(data);\n        break;\n      case RECV_DATA_TYPE.CAPITAL_FLOW_DAY5_DATA:\n        this.CapitalFlowDay5 = new CapitalFlowDaysData();\n        this.CapitalFlowDay5.SetData(data);\n        break;\n      case RECV_DATA_TYPE.CAPITAL_FLOW_DAY10_DATA:\n        this.CapitalFlowDay10 = new CapitalFlowDaysData();\n        this.CapitalFlowDay10.SetData(data);\n        break;\n    }\n  };\n  this.SetDDE = function (data, datatype) {\n    if (!data) return;\n    switch (datatype) {\n      case RECV_DATA_TYPE.DDE_DAY_DATA:\n        this.DDE = new DDEData();\n        this.DDE.SetData(data);\n        break;\n      case RECV_DATA_TYPE.DDE_DAY3_DATA:\n        this.DDE3 = new DDEData();\n        this.DDE3.SetData(data);\n        break;\n      case RECV_DATA_TYPE.DDE_DAY5_DATA:\n        this.DDE5 = new DDEData();\n        this.DDE5.SetData(data);\n        break;\n      case RECV_DATA_TYPE.DDE_DAY10_DATA:\n        this.DDE10 = new DDEData();\n        this.DDE10.SetData(data);\n        break;\n    }\n    return data;\n  };\n  this.SetEventData = function (data) {\n    if (!data.events) return;\n    this.Event = new EventData();\n    this.Event.SetData(data);\n  };\n  this.SetCompanyData = function (data) {\n    if (!data.company) return;\n    this.Company = new CompanyData();\n    this.Company.SetData(data);\n  };\n  this.SetPlateData = function (data) {\n    if (!data.industry && !data.region && !data.concept) return;\n    this.Plate = new PlateData();\n    this.Plate.SetData(data);\n  };\n  //所有数据\n  this.SetData = function (data) {\n    if (data.name) this.Name = data.name;\n    if (!isNaN(data.yclose)) this.YClose = data.yclose;\n    if (!isNaN(data.price)) this.Price = data.price;\n    if (!isNaN(data.high)) this.High = data.high;\n    if (!isNaN(data.low)) this.Low = data.low;\n    if (!isNaN(data.vol)) this.Vol = data.vol;\n    if (!isNaN(data.amount)) this.Amount = data.amount;\n    if (!isNaN(data.date)) this.Date = data.date;\n    if (!isNaN(data.time)) this.Time = data.time;\n    if (!isNaN(data.increase)) this.Increase = data.increase;\n    if (!isNaN(data.marketvalue)) this.MarketValue = data.marketvalue; //总市值\n    if (!isNaN(data.flowmarketvalue)) this.FlowMarketValue = data.flowmarketvalue; //流通市值\n    if (!isNaN(data.bookrate)) this.Bookrate = data.bookrate; //委比\n    if (!isNaN(data.bookdiffer)) this.Bookdiffer = data.bookdiffer; //委差\n    if (!isNaN(data.pe)) this.PE = data.pe;\n    if (!isNaN(data.pb)) this.PB = data.pb;\n    if (data.finance) this.SetFinanceData(data);\n    if (data.finance) this.SetFinanceDetailData(data);\n    if (data.capital) this.SetCapitalData(data);\n    if (data.mamplitude) {\n      if (!isNaN(data.mamplitude[1])) this.MinuteAmplitude.M1 = data.mamplitude[1];\n      if (!isNaN(data.mamplitude[3])) this.MinuteAmplitude.M3 = data.mamplitude[3];\n      if (!isNaN(data.mamplitude[5])) this.MinuteAmplitude.M5 = data.mamplitude[5];\n      if (!isNaN(data.mamplitude[10])) this.MinuteAmplitude.M10 = data.mamplitude[10];\n      if (!isNaN(data.mamplitude[15])) this.MinuteAmplitude.M15 = data.mamplitude[15];\n    }\n    if (data.risefallspeed) {\n      if (!isNaN(data.risefallspeed[1])) this.RiseFallSpeed.M1 = data.risefallspeed[1];\n      if (!isNaN(data.risefallspeed[3])) this.RiseFallSpeed.M3 = data.risefallspeed[3];\n      if (!isNaN(data.risefallspeed[5])) this.RiseFallSpeed.M5 = data.risefallspeed[5];\n      if (!isNaN(data.risefallspeed[10])) this.RiseFallSpeed.M10 = data.risefallspeed[10];\n      if (!isNaN(data.risefallspeed[15])) this.RiseFallSpeed.M15 = data.risefallspeed[15];\n    }\n    if (data.mamount) {\n      if (!isNaN(data.mamount[1])) this.MAmount.M1 = data.mamount[1];\n      if (!isNaN(data.mamount[3])) this.MAmount.M5 = data.mamount[3];\n      if (!isNaN(data.mamount[5])) this.MAmount.M5 = data.mamount[5];\n      if (!isNaN(data.mamount[10])) this.MAmount.M10 = data.mamount[10];\n      if (!isNaN(data.mamount[15])) this.MAmount.M15 = data.mamount[15];\n    }\n\n    //if (data.pledge) this.SetPledgeData(data);\n    //if (data.year) this.SetYearData(data);\n  };\n}\n\n/////////////////////////////////////////////////////////////////////////////////////\n//\n//\n\n//股票字段枚举\nvar STOCK_FIELD_NAME = {\n  SYMBOL: 0,\n  NAME: 1,\n  OPEN: 2,\n  PRICE: 3,\n  HIGH: 4,\n  LOW: 5,\n  YCLOSE: 6,\n  VOL: 7,\n  //成交量\n  AMOUNT: 8,\n  //成交金额\n  DATE: 9,\n  TIME: 10,\n  INCREASE: 11,\n  BUY5: 12,\n  //5档买\n  SELL5: 13,\n  //5挡卖\n  DEAL: 14,\n  //分笔\n  AMPLITUDE: 15,\n  //振幅\n\n  MARKET_VALUE: 16,\n  //总市值\n  FLOW_MARKET_VALUE: 17,\n  //流通市值\n\n  BOOK_RATE: 18,\n  //委比\n  BOOK_DIFFER: 19,\n  //委差\n\n  PE: 20,\n  //市盈率=股价/滚动EPS\n  PB: 21,\n  //市净率=股价/每股净资产\n  EXCHANGE_RATE: 23,\n  //换手率\n\n  //财务数据\n  ROE: 24,\n  //净资产收益率\n  FINANCE_DATE: 25,\n  //报告日期\n  FINANCE_PERSEARNING: 26,\n  //每股收益\n  FINANCE_PERNETASSET: 27,\n  //每股净资产\n\n  FINANCE_NPROFIT: 28,\n  //净利润\n  FINANCE_NPROFITINCREASE: 29,\n  //净利润涨幅 （当年净利润-上一年）/上一年*100\n\n  FINANCE_NNETPROFIT: 30,\n  //扣非净利润\n  FINANCE_NNPROFITINCREASE: 31,\n  //扣非净利润涨幅  （当年扣非净利润-上一年）/上一年*100\n  FINANCE_NNPROFITSPEED: 32,\n  //扣非净利润涨速（当前扣非净利润/上一年-1）/（上一年/上上年-1）\n  FINANCE_EPS: 33,\n  //滚动EPS\n\n  MAX_PRICE: 34,\n  //涨停价\n  MIN_PRICE: 35,\n  //跌停价\n  RISE_FALL_PRICE: 36,\n  //涨跌额\n\n  FINANCE_BENFORD: 37,\n  //财务粉饰\n\n  //1，3，5 ，10，15 分钟涨速\n  RISEFALLSPEED_1: 38,\n  RISEFALLSPEED_3: 39,\n  RISEFALLSPEED_5: 40,\n  RISEFALLSPEED_10: 41,\n  RISEFALLSPEED_15: 42,\n  //1，3，5 ，10，15 振幅\n  MINUTE_AMPLITUDE_1: 43,\n  MINUTE_AMPLITUDE_3: 44,\n  MINUTE_AMPLITUDE_5: 45,\n  MINUTE_AMPLITUDE_10: 46,\n  MINUTE_AMPLITUDE_15: 47,\n  //1，3，5 ，10，15 分钟 成交金额\n  MINUTE_AMOUNT_1: 48,\n  MINUTE_AMOUNT_3: 49,\n  MINUTE_AMOUNT_5: 50,\n  MINUTE_AMOUNT_10: 51,\n  MINUTE_AMOUNT_15: 52,\n  //个股资料\n  COMPANY_NAME: 53,\n  //公司全称\n  PLATE_INDUSTRY: 54,\n  //所属行业\n  PLATE_CONCEPT: 55,\n  //概念\n  PLATE_REGION: 56,\n  //地区\n  COMPANY_BUSINESS: 57,\n  COMPANY_VOL: 58,\n  COMPANY_PRICE: 59,\n  COMPANY_RELEASEDATE: 60,\n  COMPANY_COMPETENCE: 61,\n  CAPITAL_FLOW_DAY: 67,\n  //当日资金流\n  CAPITAL_FLOW_DAY3: 68,\n  //3日资金流\n  CAPITAL_FLOW_DAY5: 69,\n  //5日资金流\n  CAPITAL_FLOW_DAY10: 70,\n  //10日资金流\n  DDE: 71,\n  DDE3: 72,\n  DDE5: 73,\n  DDE10: 74,\n  //股票属性|事件 包含\n  //      融资融券标,\n  //      港股,\n  //      沪港通,\n  //      St标识 0：正常股票，1：st股票，2：*st股票\n  EVENTS: 75,\n  CAPITAL_A: 76,\n  //流通A股\n  CAPITAL_TOTAL: 77,\n  //总股本\n  CAPTIAL_ARATE: 78,\n  //流通A股占比\n\n  VOLRATIO: 79,\n  //量比\n  PE2: 80,\n  //市盈率（TTM）\n  PE3: 81,\n  //市盈率（动）\n\n  INDEXTOP: 100,\n  WEEK: 101,\n  HEAT: 102\n};\nvar StockDataFieldName = {\n  m_mapFiled: new _map2.default([[STOCK_FIELD_NAME.NAME, \"name\"], [STOCK_FIELD_NAME.SYMBOL, 'symbol'], [STOCK_FIELD_NAME.PRICE, 'price'], [STOCK_FIELD_NAME.INCREASE, 'increase'], [STOCK_FIELD_NAME.PE, 'pe'], [STOCK_FIELD_NAME.FINANCE_BENFORD, 'finance.benford'], [STOCK_FIELD_NAME.YCLOSE, 'yclose'],\n  //1，3，5 ，10，15 分钟涨速\n  [STOCK_FIELD_NAME.RISEFALLSPEED_1, 'risefallspeed.1'], [STOCK_FIELD_NAME.RISEFALLSPEED_3, 'risefallspeed.3'], [STOCK_FIELD_NAME.RISEFALLSPEED_5, 'risefallspeed.5'], [STOCK_FIELD_NAME.RISEFALLSPEED_10, 'risefallspeed.10'], [STOCK_FIELD_NAME.RISEFALLSPEED_15, 'risefallspeed.15'],\n  //1，3，5 ，10，15 振幅\n  [STOCK_FIELD_NAME.MINUTE_AMPLITUDE_1, 'mamplitude.1'], [STOCK_FIELD_NAME.MINUTE_AMPLITUDE_3, 'mamplitude.3'], [STOCK_FIELD_NAME.MINUTE_AMPLITUDE_5, 'mamplitude.5'], [STOCK_FIELD_NAME.MINUTE_AMPLITUDE_10, 'mamplitude.10'], [STOCK_FIELD_NAME.MINUTE_AMPLITUDE_15, 'mamplitude.15'],\n  //1，3，5 ，10，15 分钟 成交金额\n  [STOCK_FIELD_NAME.MINUTE_AMOUNT_1, 'mamount.1'], [STOCK_FIELD_NAME.MINUTE_AMOUNT_3, 'mamount.3'], [STOCK_FIELD_NAME.MINUTE_AMOUNT_5, 'mamount.5'], [STOCK_FIELD_NAME.MINUTE_AMOUNT_10, 'mamount.10'], [STOCK_FIELD_NAME.MINUTE_AMOUNT_15, 'mamount.15']]),\n  GetFieldName: function GetFieldName(fieldID) {\n    if (!this.m_mapFiled.has(fieldID)) return null;\n    return this.m_mapFiled.get(fieldID);\n  }\n};\nfunction StockRead(stock, tagID) {\n  this.JSStock = stock;\n  this.TagID = tagID;\n  this.Get = function (symbol, field) {\n    var data = stock.Get(symbol, this.TagID);\n    if (!data) return null;\n    switch (field) {\n      case STOCK_FIELD_NAME.SYMBOL:\n      case STOCK_FIELD_NAME.NAME:\n      case STOCK_FIELD_NAME.OPEN:\n      case STOCK_FIELD_NAME.PRICE:\n      case STOCK_FIELD_NAME.YCLOSE:\n      case STOCK_FIELD_NAME.HIGH:\n      case STOCK_FIELD_NAME.LOW:\n      case STOCK_FIELD_NAME.VOL:\n      case STOCK_FIELD_NAME.AMOUNT:\n      case STOCK_FIELD_NAME.DATE:\n      case STOCK_FIELD_NAME.TIME:\n      case STOCK_FIELD_NAME.INCREASE:\n      case STOCK_FIELD_NAME.EXCHANGE_RATE:\n      case STOCK_FIELD_NAME.AMPLITUDE:\n      case STOCK_FIELD_NAME.MAX_PRICE:\n      case STOCK_FIELD_NAME.MIN_PRICE:\n      case STOCK_FIELD_NAME.RISE_FALL_PRICE:\n      case STOCK_FIELD_NAME.INDEXTOP:\n      case STOCK_FIELD_NAME.WEEK:\n      case STOCK_FIELD_NAME.VOLRATIO:\n        return data.GetBaseData(this.TagID, field);\n      case STOCK_FIELD_NAME.HEAT:\n        return data.GetHeatData(this.TagID);\n      case STOCK_FIELD_NAME.BUY5:\n        return data.GetBuy5(this.TagID);\n      case STOCK_FIELD_NAME.SELL5:\n        return data.GetSell5(this.TagID);\n      case STOCK_FIELD_NAME.DEAL:\n        return data.GetDeal(this.TagID);\n\n      //实时计算的衍生数据\n      case STOCK_FIELD_NAME.MARKET_VALUE:\n      case STOCK_FIELD_NAME.FLOW_MARKET_VALUE:\n      case STOCK_FIELD_NAME.BOOK_RATE:\n      case STOCK_FIELD_NAME.BOOK_DIFFER:\n      case STOCK_FIELD_NAME.PE:\n      case STOCK_FIELD_NAME.PE2:\n      case STOCK_FIELD_NAME.PE3:\n      case STOCK_FIELD_NAME.PB:\n        return data.GetDerivative(this.TagID, field);\n\n      //财务数据\n      case STOCK_FIELD_NAME.ROE:\n      case STOCK_FIELD_NAME.FINANCE_DATE:\n      case STOCK_FIELD_NAME.FINANCE_PERSEARNING:\n      case STOCK_FIELD_NAME.FINANCE_PERNETASSET:\n      case STOCK_FIELD_NAME.FINANCE_NPROFIT:\n      case STOCK_FIELD_NAME.FINANCE_NPROFITINCREASE:\n      case STOCK_FIELD_NAME.FINANCE_NNETPROFIT:\n      case STOCK_FIELD_NAME.FINANCE_NNPROFITINCREASE:\n      case STOCK_FIELD_NAME.FINANCE_NNPROFITSPEED:\n      case STOCK_FIELD_NAME.FINANCE_EPS:\n      case STOCK_FIELD_NAME.FINANCE_BENFORD:\n        return data.GetFinance(this.TagID, field);\n\n      //行业分类\n      case STOCK_FIELD_NAME.PLATE_INDUSTRY:\n      case STOCK_FIELD_NAME.PLATE_CONCEPT:\n      case STOCK_FIELD_NAME.PLATE_REGION:\n        return data.GetPlate(this.TagID, field);\n\n      //资金流 \n      case STOCK_FIELD_NAME.CAPITAL_FLOW_DAY:\n      case STOCK_FIELD_NAME.CAPITAL_FLOW_DAY3:\n      case STOCK_FIELD_NAME.CAPITAL_FLOW_DAY5:\n      case STOCK_FIELD_NAME.CAPITAL_FLOW_DAY10:\n        return data.GetCapitalFlowDay(this.TagID, field);\n\n      //资金流 DDE\n      case STOCK_FIELD_NAME.DDE:\n      case STOCK_FIELD_NAME.DDE3:\n      case STOCK_FIELD_NAME.DDE5:\n      case STOCK_FIELD_NAME.DDE10:\n        return data.GetDDE(this.TagID, field);\n\n      //事件/属性\n      case STOCK_FIELD_NAME.EVENTS:\n        return data.GetEvent(this.TagID, field);\n      //个股资料\n      case STOCK_FIELD_NAME.COMPANY_NAME:\n      case STOCK_FIELD_NAME.COMPANY_BUSINESS:\n      case STOCK_FIELD_NAME.COMPANY_VOL:\n      case STOCK_FIELD_NAME.COMPANY_PRICE:\n      case STOCK_FIELD_NAME.COMPANY_RELEASEDATE:\n      case STOCK_FIELD_NAME.COMPANY_COMPETENCE:\n        return data.GetCompany(this.TagID, field);\n      //股本\n      case STOCK_FIELD_NAME.CAPITAL_A:\n      case STOCK_FIELD_NAME.CAPTIAL_ARATE:\n      case STOCK_FIELD_NAME.CAPITAL_TOTAL:\n        return data.GetCapital(this.TagID, field);\n      default:\n        return null;\n    }\n  };\n\n  //symbol=指数或板块  field=排序字段  order=排序方式\n  this.GetSort = function (symbol, field, order) {\n    var data = stock.Get(symbol, this.TagID);\n    if (data == null) return data;\n    return data.GetSortData(this.TagID, field, order);\n  };\n\n  //读取完成 isUpdate 是否马上更新数据\n  this.EndRead = function (isUpdate) {\n    if (isUpdate == true) this.JSStock.ReqeustData();\n  };\n\n  //批量设置查询数据字段\n  this.SetQueryField = function (symbol, aryField) {\n    for (var i in aryField) {\n      this.Get(symbol, aryField[i]);\n    }\n  };\n}\n\n//历史数据  个股财务粉饰 || 大宗交易 || 股东减持 || 限售解禁 || 业绩预告 || 空头指标\nfunction JSStockHistory() {\n  this.Symbol;\n  this.Callback; //UI回调\n  this.Order = -1; //排序方向\n  this.SortField; //排序字段\n  this.Field; //返回字段\n  this.Plate; //全市场\n  this.Data = new _map2.default(); //数据\n  this.ApiUrl = g_JSStockResource.Domain + \"/API/StockHistoryDay\";\n  this.PageSize = 20; //一页请求10调数据\n  this.PageIndex = 1;\n  this.Count; //数据总数\n  this.currentData = null; //请求入参\n\n  this.RequsetData = function (condition, condition2) {\n    var self = this;\n    var currentSymbol = typeof self.Symbol == \"string\" ? [this.Symbol] : this.Symbol;\n    var currentSymbolLength = currentSymbol ? currentSymbol.length : 0;\n    if (this.Plate) {\n      this.currentData = {\n        \"plate\": this.Plate,\n        //[\"CNA.ci\"],\n        \"symbol\": currentSymbol,\n        \"start\": 0,\n        \"end\": this.PageSize,\n        \"field\": this.Field,\n        \"orderfield\": this.SortField,\n        \"order\": this.Order,\n        \"condition\": condition.GetQuery(),\n        \"condition2\": condition2 ? condition2.GetQuery() : []\n      };\n    } else {\n      this.currentData = {\n        \"symbol\": currentSymbol,\n        \"start\": 0,\n        \"end\": currentSymbolLength,\n        \"field\": this.Field,\n        \"orderfield\": this.SortField,\n        \"order\": this.Order,\n        \"condition\": condition.GetQuery(),\n        \"condition2\": condition2 ? condition2.GetQuery() : []\n      };\n    }\n    _jquery2.default.ajax({\n      url: this.ApiUrl,\n      data: self.currentData,\n      method: 'POST',\n      dataType: 'json',\n      success: function success(data) {\n        self.Count = data.data.count;\n        self.RecvData(data, condition);\n      },\n      fail: function fail(request) {\n        self.RecvError(request, condition);\n      }\n    });\n  };\n  this.GetNextPage = function () {\n    var self = this;\n    if (this.PageSize * this.PageIndex < this.Count) {\n      this.currentData.start = this.PageSize * this.PageIndex;\n      this.PageIndex++;\n      this.currentData.end = this.PageSize * this.PageIndex;\n      _jquery2.default.ajax({\n        url: this.ApiUrl,\n        data: self.currentData,\n        method: 'POST',\n        dataType: 'json',\n        success: function success(data) {\n          self.RecvData(data);\n        },\n        fail: function fail(request) {\n          self.RecvError(request);\n        }\n      });\n    } else {\n      alert(\"数据已全部加载\");\n      // wx.showToast({\n      //     title: \"数据已全部加载\",\n      //     icon: 'success',\n      //     duration: 1000\n      // })\n    }\n  };\n\n  //结果处理  个股财务粉饰\n  this.RecvData = function (recvData, condition) {\n    var data = recvData.data;\n    for (var i in data.stock) {\n      var item = data.stock[i];\n      var strSymbol = item.symbol;\n      var stockData = {};\n      // console.log(\"this.Data.has(strSymbol)\", this.Data, strSymbol, this.Data.has(strSymbol));\n      if (this.Data.has(strSymbol)) {\n        stockData = this.Data.get(strSymbol);\n      } else {\n        stockData = {\n          Symbol: item.symbol,\n          Name: item.name,\n          Data: new _map2.default() //Map key=日期  value=Map(key=字段名, value=数值)\n        };\n\n        this.Data.set(strSymbol, stockData);\n      }\n      this.SetStockData(item, stockData);\n    }\n    if (this.Callback) this.Callback(this, condition);\n  };\n  this.SetStockData = function (data, stockData) {\n    for (var i in data.stockday) {\n      var item = data.stockday[i];\n      var date = item.date;\n      var dataMap = new _map2.default();\n      this.SetFinanceData(item, dataMap);\n      this.SetBlocktradingData(item, dataMap);\n      this.SetChangesData(item, dataMap);\n      this.SetLiftingData(item, dataMap);\n      this.SetPforecastData(item, dataMap);\n      this.SetShortIndicatorsData(item, dataMap);\n      stockData.Data.set(date, dataMap);\n    }\n    return stockData;\n  };\n  this.SetFinanceData = function (recvData, dataMap) {\n    //1季度\n    var finnance = recvData.finance1;\n    if (finnance) {\n      if (!isNaN(finnance.nprofitincrease)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE1_NPROFITINCREASE, finnance.nprofitincrease);\n      if (!isNaN(finnance.nnprofitincrease)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE1_NNPROFITINCREASE, finnance.nnprofitincrease);\n      if (!isNaN(finnance.nnprofitspeed)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE1_NNPROFITSPEED, finnance.nnprofitspeed);\n      if (!isNaN(finnance.benford)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE1_BENFORD, finnance.benford);\n    }\n    var announcement = recvData.announcement1;\n    if (announcement) {\n      if (!isNaN(announcement.year)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE1_YEAR, announcement.year);\n      if (!isNaN(announcement.quarter)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE1_QUARTER, announcement.quarter);\n    }\n\n    //2季度\n    var finnance = recvData.finance2;\n    if (finnance) {\n      if (!isNaN(finnance.nprofitincrease)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE2_NPROFITINCREASE, finnance.nprofitincrease);\n      if (!isNaN(finnance.nnprofitincrease)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE2_NNPROFITINCREASE, finnance.nnprofitincrease);\n      if (!isNaN(finnance.nnprofitspeed)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE2_NNPROFITSPEED, finnance.nnprofitspeed);\n      if (!isNaN(finnance.benford)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE2_BENFORD, finnance.benford);\n    }\n    var announcement = recvData.announcement2;\n    if (announcement) {\n      if (!isNaN(announcement.year)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE2_YEAR, announcement.year);\n      if (!isNaN(announcement.quarter)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE2_QUARTER, announcement.quarter);\n    }\n\n    //3季度\n    var finnance = recvData.finance3;\n    if (finnance) {\n      if (!isNaN(finnance.nprofitincrease)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE3_NPROFITINCREASE, finnance.nprofitincrease);\n      if (!isNaN(finnance.nnprofitincrease)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE3_NNPROFITINCREASE, finnance.nnprofitincrease);\n      if (!isNaN(finnance.nnprofitspeed)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE3_NNPROFITSPEED, finnance.nnprofitspeed);\n      if (!isNaN(finnance.benford)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE3_BENFORD, finnance.benford);\n    }\n    var announcement = recvData.announcement3;\n    if (announcement) {\n      if (!isNaN(announcement.year)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE3_YEAR, announcement.year);\n      if (!isNaN(announcement.quarter)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE3_QUARTER, announcement.quarter);\n    }\n\n    //4季度\n    var finnance = recvData.finance4;\n    if (finnance) {\n      if (!isNaN(finnance.nprofitincrease)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE4_NPROFITINCREASE, finnance.nprofitincrease);\n      if (!isNaN(finnance.nnprofitincrease)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE4_NNPROFITINCREASE, finnance.nnprofitincrease);\n      if (!isNaN(finnance.nnprofitspeed)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE4_NNPROFITSPEED, finnance.nnprofitspeed);\n      if (!isNaN(finnance.benford)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE4_BENFORD, finnance.benford);\n    }\n    var announcement = recvData.announcement4;\n    if (announcement) {\n      if (!isNaN(announcement.year)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE4_YEAR, announcement.year);\n      if (!isNaN(announcement.quarter)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE4_QUARTER, announcement.quarter);\n    }\n  };\n\n  //大宗交易\n  this.SetBlocktradingData = function (recvData, dataMap) {\n    var blocktrading = recvData.blocktrading;\n    if (blocktrading) {\n      dataMap.set(STOCK_HISTORY_FIELD_NAME.BLOCK_TRADING, {\n        Premium: blocktrading.premium,\n        ////总溢价\n        Price: blocktrading.price,\n        //总成交价\n        Vol: blocktrading.vol,\n        //总成交量\n        Amount: blocktrading.amount //成交额\n      });\n    }\n  };\n\n  //股东减持\n  this.SetChangesData = function (recvData, dataMap) {\n    var changes = recvData.changes;\n    if (changes) {\n      dataMap.set(STOCK_HISTORY_FIELD_NAME.HOLDERS_CHANGES, {\n        List: changes.list\n      });\n    }\n  };\n\n  //限售解禁\n  this.SetLiftingData = function (recvData, dataMap) {\n    var lifting = recvData.lifting;\n    if (lifting) {\n      // console.log(\"lifting\",lifting);\n      dataMap.set(STOCK_HISTORY_FIELD_NAME.LIFTING, {\n        Lifting: lifting\n      });\n    }\n  };\n\n  //业绩公告\n  this.SetPforecastData = function (recvData, dataMap) {\n    var pforecast = recvData.pforecast;\n    if (pforecast) {\n      // console.log(\"pforecast\", pforecast)\n      dataMap.set(STOCK_HISTORY_FIELD_NAME.PFORECAST, {\n        Lowprofit: pforecast[0].lowprofit,\n        ////最低利润\n        Highprofit: pforecast[0].highprofit,\n        //最高利润\n        Lowchange: pforecast[0].lowchange,\n        //最小变动幅度\n        Highchange: pforecast[0].highchange,\n        //最小变动幅度\n        Reportdate: pforecast[0].reportdate //报告期\n      });\n    }\n  };\n\n  //空头指标\n  this.SetShortIndicatorsData = function (recvData, dataMap) {\n    // console.log(\"recvData,dataMap\", recvData, dataMap);\n    var policy = recvData.policy;\n    if (policy) {\n      var targetedList = ['三只乌鸦', '乌云盖顶', '黄昏之星', '巨量阴线', '头肩顶', '射击之星', '倾盆大雨', '断头铡刀', '淡友反攻', '空方炮', '连续1周空头排列'];\n      var targetedCount = 0,\n        timeList = [],\n        latestTime = 0,\n        latestName = '';\n      // console.table(policy); //policy\n      policy.forEach(function (e) {\n        var isTarget = targetedList.some(function (c) {\n          return c === e.name;\n        });\n        if (isTarget) {\n          targetedCount++;\n          timeList.push(e.time);\n        }\n      });\n      if (!targetedCount) {\n        latestName = '';\n      } else {\n        latestTime = Math.max.apply(timeList, timeList);\n        latestName = policy.find(function (e) {\n          return e.time === latestTime;\n        }).name;\n      }\n      console.log(latestName, targetedCount, \"latestName-targetedCount\");\n      dataMap.set(STOCK_HISTORY_FIELD_NAME.SHORTIND_ICATORS, {\n        latestIndicatorName: latestName,\n        ///最新指标名称\n        indicatorCount: targetedCount //最新指标数量\n      });\n    }\n  };\n\n  this.RecvError = function (request, condition) {};\n  this.CreateCondition = function (name) {\n    return new QueryCondition(name);\n  };\n}\n\n//初始化\nJSStock.Init = function () {\n  var stock = new JSStock();\n  return stock;\n};\nJSStock.SetDomain = function (domain, cacheDomain) {\n  if (domain) g_JSStockResource.Domain = domain;\n  if (cacheDomain) g_JSStockResource.CacheDomain = cacheDomain;\n};\n\n//获取股票搜索类\nJSStock.GetSearchStock = function (callback) {\n  return new SearchStock(callback);\n};\n\n//短线精灵\nJSStock.GetShortTerm = function (symbol) {\n  return new ShortTerm(symbol);\n};\n\n//每天的分笔数据\nJSStock.GetDealDay = function (symbol) {\n  return new DealDay(symbol);\n};\n\n//板块成员\nJSStock.GetBlockMember = function (symbol) {\n  return new BlockMember(symbol);\n};\nJSStock.GetBlockTop = function () {\n  return new BlockTop();\n};\n\n//走势图图片路径\nJSStock.GetMinuteImage = function (symbol) {\n  return new MinuteImage(symbol);\n};\n\n//获取历史日线收盘数据\nJSStock.GetHistoryDayData = function (symbol) {\n  return new HistoryDayData(symbol);\n};\nJSStock.GetDealPriceListData = function (symbol) {\n  return new DealPriceListData(symbol);\n};\nJSStock.GetLatestDetailData = function (symbol) {\n  return new LatestDetailData(symbol);\n};\n\n//分析板块请求数据\nJSStock.GetAnalylisPlate = function () {\n  return new AnalylisPlate();\n};\n\n//获取历史数据\nJSStock.GetStockHistory = function () {\n  return new JSStockHistory();\n};\nvar RECV_DATA_TYPE = {\n  BASE_DATA: 1,\n  //股票行情基础数据\n  INDEX_BASE_DATA: 2,\n  //指数行情基础数据(包含 涨跌家数)\n  HEAT_DATA: 3,\n  //热度数据\n  SORT_DATA: 4,\n  //排序数据\n  BUY_SELL_DATA: 5,\n  //买卖盘数据\n  DEAL_DATA: 6,\n  //分笔数据\n  DERIVATIVE_DATA: 7,\n  //实时衍生数据\n  FINANCE_DATA: 8,\n  //财务数据\n  SEARCH_STOCK_DATA: 9,\n  //股票搜索\n\n  SELF_STOCK_DATA: 10,\n  //自选股数据\n  LOGON_DATA: 11,\n  //登陆信息\n  BLOCK_MEMBER_DATA: 13,\n  //板块成员\n  SHORT_TERM_DATA: 14,\n  //短线精灵\n  COMPANY_DATA: 15,\n  //个股资料\n  PLATE_DATA: 16,\n  //板块(行业 概念 地区)\n  CAPITAL_DATA: 17,\n  //股本\n\n  //资金流\n  CAPITAL_FLOW_DAY_DATA: 23,\n  CAPITAL_FLOW_DAY3_DATA: 24,\n  CAPITAL_FLOW_DAY5_DATA: 25,\n  CAPITAL_FLOW_DAY10_DATA: 26,\n  //DDE\n  DDE_DAY_DATA: 27,\n  DDE_DAY3_DATA: 28,\n  DDE_DAY5_DATA: 29,\n  DDE_DAY10_DATA: 30,\n  DEAL_DAY_DATA: 105,\n  //分笔数据\n  EVENT_DATA: 106,\n  //事件 属性数据\n  IMAGE_MINUTE_DATA: 107,\n  //走势图图片\n  HISTORY_DAY_DATA: 108,\n  //历史日线收盘数据\n  DEAL_PRICE_LIST_DATA: 109,\n  //分价表数据\n  LATEST_DETAIL_DATA: 110 //最新分笔数据\n};\n\nfunction JSStock() {\n  this.MapStock = new _map2.default(); //key=symbol, value=StockData\n  this.MapTagCallback = new _map2.default(); //callback(tagID,arySymbol(更新的股票代码),dataType,this)\n  this.RequestVersion = new Array([100, 100, 100]);\n  this.RealtimeApiUrl = g_JSStockResource.Domain + \"/API/Stock\";\n  this.PlateQuadrantApiUrl = g_JSStockResource.Domain + \"/API/StockPlateQuadrant\"; //热度api\n\n  this.IsAutoUpdate = true;\n  this.AutoUpateTimeout = 15000; //更新频率\n  this.Timeout;\n  this.NetworkFilter; //网络过滤接口 function(data, callback)\n\n  this.GetStockRead = function (tagID, callback) {\n    var _iteratorNormalCompletion3 = true;\n    var _didIteratorError3 = false;\n    var _iteratorError3 = undefined;\n    try {\n      for (var _iterator3 = (0, _getIterator3.default)(this.MapStock), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n        var item = _step3.value;\n        item[1].RemoveTagID(tagID);\n      }\n    } catch (err) {\n      _didIteratorError3 = true;\n      _iteratorError3 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion3 && _iterator3.return) {\n          _iterator3.return();\n        }\n      } finally {\n        if (_didIteratorError3) {\n          throw _iteratorError3;\n        }\n      }\n    }\n    this.MapTagCallback.set(tagID, callback);\n    var read = new StockRead(this, tagID);\n    return read;\n  };\n\n  //取消某一个控件订阅的股票推送\n  this.Unsubscribe = function (tagID) {\n    var _iteratorNormalCompletion4 = true;\n    var _didIteratorError4 = false;\n    var _iteratorError4 = undefined;\n    try {\n      for (var _iterator4 = (0, _getIterator3.default)(this.MapStock), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n        var item = _step4.value;\n        item[1].RemoveTagID(tagID);\n      }\n    } catch (err) {\n      _didIteratorError4 = true;\n      _iteratorError4 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion4 && _iterator4.return) {\n          _iterator4.return();\n        }\n      } finally {\n        if (_didIteratorError4) {\n          throw _iteratorError4;\n        }\n      }\n    }\n  };\n\n  //取消单个股票上的所有控件订阅\n  this.UnsubscribeStock = function (symbol, tagID) {\n    var _iteratorNormalCompletion5 = true;\n    var _didIteratorError5 = false;\n    var _iteratorError5 = undefined;\n    try {\n      for (var _iterator5 = (0, _getIterator3.default)(this.MapStock), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n        var item = _step5.value;\n        if (item[0] === symbol) {\n          if (tagID) item[1].RemoveTagID(tagID);else item[1].ClearTagID();\n          console.log(\"[JSStock::UnsubscribeStock] symbol=\" + symbol + \", tagID=\" + tagID);\n          break;\n        }\n      }\n    } catch (err) {\n      _didIteratorError5 = true;\n      _iteratorError5 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion5 && _iterator5.return) {\n          _iterator5.return();\n        }\n      } finally {\n        if (_didIteratorError5) {\n          throw _iteratorError5;\n        }\n      }\n    }\n  };\n\n  //获取一个股票\n  this.Get = function (symbol, tagID) {\n    if (!this.MapStock.has(symbol)) {\n      this.MapStock.set(symbol, new StockData(symbol));\n    }\n    var data = this.MapStock.get(symbol);\n    if (tagID) data.AttachTagID(tagID);\n    return data;\n  };\n  this.RequestData = function () {\n    this.ClearTimer();\n    var arySymbol = new Array(); //股票\n    var aryIndex = new Array(); //指数\n    var aryHeat = new Array(); //热度\n    var aryBuySell = new Array(); //5当买卖盘\n    var aryDeal = new Array(); //分笔\n    var aryDerivative = new Array(); //实时衍生数据\n    var aryFinance = new Array(); //财务数据\n    var aryFlow = [],\n      aryFlow3 = [],\n      aryFlow5 = [],\n      aryFlow10 = [];\n    var aryDDE = [],\n      aryDDE3 = [],\n      aryDDE5 = [],\n      aryDDE10 = [];\n    var aryEvent = new Array();\n    var aryCompany = new Array(); //个股资料\n    var aryPlate = new Array(); //板块(行业 概念 地址)\n    var aryCapital = new Array();\n    var _iteratorNormalCompletion6 = true;\n    var _didIteratorError6 = false;\n    var _iteratorError6 = undefined;\n    try {\n      for (var _iterator6 = (0, _getIterator3.default)(this.MapStock), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n        var item = _step6.value;\n        var subscribe = item[1]; //订阅数据\n        var symbol = item[0];\n\n        //基础数据\n        if (subscribe.BaseDataTagID.size > 0) {\n          if (IsIndexSymbol(symbol)) aryIndex.push(symbol);else arySymbol.push(symbol);\n        }\n        if (subscribe.BuySellTagID.size > 0) aryBuySell.push(symbol);\n        if (subscribe.CapitalFlowDayID.size > 0) aryFlow.push(symbol);\n        if (subscribe.CapitalFlowDay3ID.size > 0) aryFlow3.push(symbol);\n        if (subscribe.CapitalFlowDay5ID.size > 0) aryFlow5.push(symbol);\n        if (subscribe.CapitalFlowDay10ID.size > 0) aryFlow10.push(symbol);\n        if (subscribe.DDEID.size > 0) aryDDE.push(symbol);\n        if (subscribe.DDE3ID.size > 0) aryDDE3.push(symbol);\n        if (subscribe.DDE5ID.size > 0) aryDDE5.push(symbol);\n        if (subscribe.DDE10ID.size > 0) aryDDE10.push(symbol);\n        if (subscribe.HeatTagID.size > 0) aryHeat.push(symbol);\n        if (subscribe.DealTagID.size > 0) aryDeal.push(symbol);\n        if (subscribe.DerivativeTagID.size > 0) aryDerivative.push(symbol);\n        if (subscribe.FinanceTagID.size > 0) aryFinance.push(symbol);\n        if (subscribe.CapitalTagID.size > 0) aryCapital.push(symbol);\n        if (subscribe.Event == null && subscribe.EventTagID.size > 0) aryEvent.push(symbol);\n        if (subscribe.Company == null && subscribe.CompanyTagID.size > 0) aryCompany.push(symbol);\n        if (item[1].Plate == null && item[1].PlateTagID.size > 0) aryPlate.push(item[0]);\n      }\n    } catch (err) {\n      _didIteratorError6 = true;\n      _iteratorError6 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion6 && _iterator6.return) {\n          _iterator6.return();\n        }\n      } finally {\n        if (_didIteratorError6) {\n          throw _iteratorError6;\n        }\n      }\n    }\n    if (aryBuySell.length > 0) this.RequestBuySellData(aryBuySell);\n    if (arySymbol.length > 0) this.RequestBaseData(arySymbol);\n    if (aryIndex.length > 0) this.RequestIndexBaseData(aryIndex);\n    if (aryHeat.length > 0) this.RequestIndexHeatData(aryHeat);\n    if (aryDeal.length > 0) this.RequestDealData(aryDeal);\n    if (aryDerivative.length > 0) this.RequestDerivativeData(aryDerivative);\n    if (aryFinance.length > 0) this.RequestFinanceData(aryFinance);\n    if (aryCapital.length > 0) this.RequestCapitalData(aryCapital);\n\n    //资金流\n    if (aryFlow.length > 0) this.RequestSubDocumentData(aryFlow, 'flowday');\n    if (aryFlow3.length > 0) this.RequestSubDocumentData(aryFlow3, 'flowday3');\n    if (aryFlow5.length > 0) this.RequestSubDocumentData(aryFlow5, 'flowday5');\n    if (aryFlow10.length > 0) this.RequestSubDocumentData(aryFlow10, 'flowday10');\n    if (aryDDE.length > 0) this.RequestSubDocumentData(aryDDE, 'dde');\n    if (aryDDE3.length > 0) this.RequestSubDocumentData(aryDDE3, 'dde3');\n    if (aryDDE5.length > 0) this.RequestSubDocumentData(aryDDE5, 'dde5');\n    if (aryDDE10.length > 0) this.RequestSubDocumentData(aryDDE10, 'dde10');\n\n    //属性|事件\n    if (aryEvent.length > 0) this.RequestEventData(aryEvent);\n\n    //个股资料\n    if (aryCompany.length > 0) this.RequestCompanyData(aryCompany);\n    if (aryPlate.length > 0) this.RequestPlateData(aryPlate);\n    this.ReqeustAllSortData(); //成分排序\n  };\n\n  this.ReqeustData = this.RequestData; //老的接口名字写错了\n\n  //请求基础数据\n  this.RequestBaseData = function (arySymbol) {\n    var self = this;\n    var field = [\"name\", \"symbol\", \"yclose\", \"open\", \"price\", \"high\", \"low\", \"vol\", \"amount\", \"date\", \"time\", \"week\", \"increase\", \"exchangerate\", \"amplitude\", \"volratio\"];\n    if (this.NetworkFilter) {\n      var obj = {\n        Name: 'JSStock::RequestBaseData',\n        //类名::方法\n        Explain: '股票基础数据',\n        ID: RECV_DATA_TYPE.BASE_DATA,\n        Request: {\n          Url: self.RealtimeApiUrl,\n          Data: {\n            field: field,\n            symbol: arySymbol\n          },\n          Type: 'POST'\n        },\n        Self: this,\n        PreventDefault: false\n      };\n      this.NetworkFilter(obj, function (data) {\n        self.RecvData(data, RECV_DATA_TYPE.BASE_DATA);\n      });\n      if (obj.PreventDefault == true) return; //已被上层替换,不调用默认的网络请求\n    }\n\n    _jquery2.default.ajax({\n      url: this.RealtimeApiUrl,\n      data: {\n        \"field\": field,\n        \"symbol\": arySymbol\n      },\n      type: \"post\",\n      dataType: \"json\",\n      async: true,\n      success: function success(data) {\n        self.RecvData(data, RECV_DATA_TYPE.BASE_DATA);\n      },\n      error: function error(request) {\n        self.RecvError(request, RECV_DATA_TYPE.BASE_DATA);\n      }\n    });\n  };\n\n  //请求实时衍生数据\n  this.RequestDerivativeData = function (arySymbol) {\n    var self = this;\n    var field = [\"name\", \"symbol\", \"marketvalue\", \"flowmarketvalue\", \"pe\", \"pe2\", \"pe3\", \"pb\", \"bookrate\", \"bookdiffer\"];\n    if (this.NetworkFilter) {\n      var obj = {\n        Name: 'JSStock::RequestDerivativeData',\n        //类名::方法\n        Explain: '实时衍生数据',\n        ID: RECV_DATA_TYPE.DERIVATIVE_DATA,\n        Request: {\n          Url: self.RealtimeApiUrl,\n          Data: {\n            field: field,\n            symbol: arySymbol\n          },\n          Type: 'POST'\n        },\n        Self: this,\n        PreventDefault: false\n      };\n      this.NetworkFilter(obj, function (data) {\n        self.RecvData(data, RECV_DATA_TYPE.DERIVATIVE_DATA);\n      });\n      if (obj.PreventDefault == true) return; //已被上层替换,不调用默认的网络请求\n    }\n\n    _jquery2.default.ajax({\n      url: this.RealtimeApiUrl,\n      data: {\n        \"field\": field,\n        \"symbol\": arySymbol\n      },\n      type: \"post\",\n      dataType: \"json\",\n      async: true,\n      success: function success(data) {\n        self.RecvData(data, RECV_DATA_TYPE.DERIVATIVE_DATA);\n      },\n      error: function error(request) {\n        self.RecvError(request, RECV_DATA_TYPE.DERIVATIVE_DATA);\n      }\n    });\n  };\n\n  //请求财务数据\n  this.RequestFinanceData = function (arySymbol) {\n    var self = this;\n    var field = [\"name\", \"symbol\", \"roe\", \"finance\"];\n    if (this.NetworkFilter) {\n      var obj = {\n        Name: 'JSStock::RequestFinanceData',\n        //类名::方法\n        Explain: '财务数据',\n        ID: RECV_DATA_TYPE.FINANCE_DATA,\n        Request: {\n          Url: self.RealtimeApiUrl,\n          Data: {\n            field: field,\n            symbol: arySymbol\n          },\n          Type: 'POST'\n        },\n        Self: this,\n        PreventDefault: false\n      };\n      this.NetworkFilter(obj, function (data) {\n        self.RecvData(data, RECV_DATA_TYPE.FINANCE_DATA);\n      });\n      if (obj.PreventDefault == true) return; //已被上层替换,不调用默认的网络请求\n    }\n\n    _jquery2.default.ajax({\n      url: this.RealtimeApiUrl,\n      data: {\n        \"field\": field,\n        \"symbol\": arySymbol\n      },\n      type: \"post\",\n      dataType: \"json\",\n      async: true,\n      success: function success(data) {\n        self.RecvData(data, RECV_DATA_TYPE.FINANCE_DATA);\n      },\n      error: function error(request) {\n        self.RecvError(request, RECV_DATA_TYPE.FINANCE_DATA);\n      }\n    });\n  };\n\n  //请求股本\n  this.RequestCapitalData = function (arySymbol) {\n    var self = this;\n    var field = [\"name\", \"symbol\", \"capital\"];\n    if (this.NetworkFilter) {\n      var obj = {\n        Name: 'JSStock::RequestCapitalData',\n        //类名::方法\n        Explain: '股本数据',\n        ID: RECV_DATA_TYPE.CAPITAL_DATA,\n        Request: {\n          Url: self.RealtimeApiUrl,\n          Data: {\n            field: field,\n            symbol: arySymbol\n          },\n          Type: 'POST'\n        },\n        Self: this,\n        PreventDefault: false\n      };\n      this.NetworkFilter(obj, function (data) {\n        self.RecvData(data, RECV_DATA_TYPE.CAPITAL_DATA);\n      });\n      if (obj.PreventDefault == true) return; //已被上层替换,不调用默认的网络请求\n    }\n\n    _jquery2.default.ajax({\n      url: this.RealtimeApiUrl,\n      data: {\n        \"field\": field,\n        \"symbol\": arySymbol\n      },\n      type: \"post\",\n      dataType: \"json\",\n      async: true,\n      success: function success(data) {\n        self.RecvData(data, RECV_DATA_TYPE.CAPITAL_DATA);\n      },\n      error: function error(request) {\n        self.RecvError(request, RECV_DATA_TYPE.CAPITAL_DATA);\n      }\n    });\n  };\n\n  //请求买卖盘\n  this.RequestBuySellData = function (arySymbol) {\n    var self = this;\n    var field = [\"name\", \"symbol\", \"yclose\", \"open\", \"price\", \"high\", \"low\", \"vol\", \"amount\", \"date\", \"time\", \"week\", \"increase\", \"buy\", \"sell\", \"exchangerate\", \"amplitude\"];\n    if (this.NetworkFilter) {\n      var obj = {\n        Name: 'JSStock::RequestBuySellData',\n        //类名::方法\n        Explain: '买卖盘数据',\n        ID: RECV_DATA_TYPE.BUY_SELL_DATA,\n        Request: {\n          Url: self.RealtimeApiUrl,\n          Data: {\n            field: field,\n            symbol: arySymbol\n          },\n          Type: 'POST'\n        },\n        Self: this,\n        PreventDefault: false\n      };\n      this.NetworkFilter(obj, function (data) {\n        self.RecvData(data, RECV_DATA_TYPE.BUY_SELL_DATA);\n      });\n      if (obj.PreventDefault == true) return; //已被上层替换,不调用默认的网络请求\n    }\n\n    _jquery2.default.ajax({\n      url: this.RealtimeApiUrl,\n      data: {\n        \"field\": field,\n        \"symbol\": arySymbol\n      },\n      type: \"post\",\n      dataType: \"json\",\n      async: true,\n      success: function success(data) {\n        self.RecvData(data, RECV_DATA_TYPE.BUY_SELL_DATA);\n      },\n      error: function error(request) {\n        self.RecvError(request, RECV_DATA_TYPE.BUY_SELL_DATA);\n      }\n    });\n  };\n\n  //请求分笔\n  this.RequestDealData = function (arySymbol) {\n    var self = this;\n    var field = [\"name\", \"symbol\", \"price\", \"high\", \"low\", \"vol\", \"amount\", \"date\", \"time\", \"increase\", \"deal\"];\n    if (this.NetworkFilter) {\n      var obj = {\n        Name: 'JSStock::RequestDealData',\n        //类名::方法\n        Explain: '分笔数据',\n        ID: RECV_DATA_TYPE.DEAL_DATA,\n        Request: {\n          Url: self.RealtimeApiUrl,\n          Data: {\n            field: field,\n            symbol: arySymbol\n          },\n          Type: 'POST'\n        },\n        Self: this,\n        PreventDefault: false\n      };\n      this.NetworkFilter(obj, function (data) {\n        self.RecvData(data, RECV_DATA_TYPE.DEAL_DATA);\n      });\n      if (obj.PreventDefault == true) return; //已被上层替换,不调用默认的网络请求\n    }\n\n    _jquery2.default.ajax({\n      url: this.RealtimeApiUrl,\n      data: {\n        \"field\": field,\n        \"symbol\": arySymbol\n      },\n      type: \"post\",\n      dataType: \"json\",\n      async: true,\n      success: function success(data) {\n        self.RecvData(data, RECV_DATA_TYPE.DEAL_DATA);\n      },\n      error: function error(request) {\n        self.RecvError(request, RECV_DATA_TYPE.DEAL_DATA);\n      }\n    });\n  };\n\n  //指数基础数据(包含上涨下跌家数)\n  this.RequestIndexBaseData = function (arySymbol) {\n    var self = this;\n    var field = [\"name\", \"symbol\", \"yclose\", \"open\", \"price\", \"high\", \"low\", \"vol\", \"amount\", \"date\", \"time\", \"week\", \"indextop\", \"increase\"];\n    if (this.NetworkFilter) {\n      var obj = {\n        Name: 'JSStock::RequestIndexBaseData',\n        //类名::方法\n        Explain: '指数基础数据(包含上涨下跌家数)',\n        ID: RECV_DATA_TYPE.INDEX_BASE_DATA,\n        Request: {\n          Url: self.RealtimeApiUrl,\n          Data: {\n            field: field,\n            symbol: arySymbol\n          },\n          Type: 'POST'\n        },\n        Self: this,\n        PreventDefault: false\n      };\n      this.NetworkFilter(obj, function (data) {\n        self.RecvData(data, RECV_DATA_TYPE.INDEX_BASE_DATA);\n      });\n      if (obj.PreventDefault == true) return; //已被上层替换,不调用默认的网络请求\n    }\n\n    _jquery2.default.ajax({\n      url: this.RealtimeApiUrl,\n      data: {\n        \"field\": field,\n        \"symbol\": arySymbol\n      },\n      type: \"post\",\n      dataType: \"json\",\n      async: true,\n      success: function success(data) {\n        console.log(data);\n        self.RecvData(data, RECV_DATA_TYPE.INDEX_BASE_DATA);\n      },\n      error: function error(request) {\n        self.RecvError(request, RECV_DATA_TYPE.INDEX_BASE_DATA);\n      }\n    });\n  };\n\n  //热度\n  this.RequestIndexHeatData = function (arySymbol) {\n    var self = this;\n    _jquery2.default.ajax({\n      url: this.PlateQuadrantApiUrl,\n      data: {\n        \"plate\": arySymbol\n      },\n      type: \"post\",\n      dataType: \"json\",\n      async: true,\n      success: function success(data) {\n        self.RecvData(data, RECV_DATA_TYPE.HEAT_DATA);\n      },\n      error: function error(request) {\n        self.RecvError(request, RECV_DATA_TYPE.HEAT_DATA);\n      }\n    });\n  };\n\n  //排序\n  this.ReqeustAllSortData = function () {\n    var arySort = new Array();\n    var _iteratorNormalCompletion7 = true;\n    var _didIteratorError7 = false;\n    var _iteratorError7 = undefined;\n    try {\n      for (var _iterator7 = (0, _getIterator3.default)(this.MapStock), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n        var item = _step7.value;\n        if (!IsIndexSymbol(item[0])) continue;\n        if (item[1].Sort == null || item[1].Sort.size <= 0) continue;\n        var _iteratorNormalCompletion8 = true;\n        var _didIteratorError8 = false;\n        var _iteratorError8 = undefined;\n        try {\n          for (var _iterator8 = (0, _getIterator3.default)(item[1].Sort), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n            var sortItem = _step8.value;\n            var sortData = sortItem[1];\n            var data = {\n              \"Plate\": item[0],\n              \"SortField\": sortData.SortField,\n              \"Order\": sortData.Order,\n              \"TagID\": sortData.TagID\n            };\n            arySort.push(data);\n          }\n        } catch (err) {\n          _didIteratorError8 = true;\n          _iteratorError8 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion8 && _iterator8.return) {\n              _iterator8.return();\n            }\n          } finally {\n            if (_didIteratorError8) {\n              throw _iteratorError8;\n            }\n          }\n        }\n      }\n    } catch (err) {\n      _didIteratorError7 = true;\n      _iteratorError7 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion7 && _iterator7.return) {\n          _iterator7.return();\n        }\n      } finally {\n        if (_didIteratorError7) {\n          throw _iteratorError7;\n        }\n      }\n    }\n    for (var i in arySort) {\n      var sortItem = arySort[i];\n      this.ReqeustSortData(sortItem);\n    }\n  };\n  this.ReqeustSortData = function (sortItem) {\n    var self = this;\n    var sortData = sortItem;\n    var sortFiled = \"\";\n\n    //字段id 转换成字段名字\n    switch (sortData.SortField) {\n      case STOCK_FIELD_NAME.INCREASE:\n        sortFiled = 'increase';\n        break;\n      case STOCK_FIELD_NAME.PRICE:\n        sortFiled = 'price';\n        break;\n      default:\n        return;\n    }\n    var field = [\"name\", \"symbol\", \"yclose\", \"open\", \"price\", \"high\", \"low\", \"vol\", \"amount\", \"date\", \"time\", \"week\", \"increase\", \"exchangerate\"];\n    if (this.NetworkFilter) {\n      var obj = {\n        Name: 'JSStock::ReqeustSortData',\n        //类名::方法\n        Explain: '板块排序数据',\n        ID: RECV_DATA_TYPE.SORT_DATA,\n        Request: {\n          Url: self.RealtimeApiUrl,\n          Data: {\n            field: field,\n            plate: [sortItem.Plate],\n            orderfield: sortFiled,\n            order: sortItem.Order,\n            ordernull: 1,\n            filterstop: 1\n          },\n          Type: 'POST'\n        },\n        Self: this,\n        PreventDefault: false\n      };\n      this.NetworkFilter(obj, function (data) {\n        self.RecvData(data, RECV_DATA_TYPE.SORT_DATA, sortData);\n      });\n      if (obj.PreventDefault == true) return; //已被上层替换,不调用默认的网络请求\n    }\n\n    _jquery2.default.ajax({\n      url: this.RealtimeApiUrl,\n      data: {\n        \"field\": field,\n        \"plate\": [sortItem.Plate],\n        \"orderfield\": sortFiled,\n        \"order\": sortItem.Order,\n        \"ordernull\": 1,\n        //过滤null字段\n        \"filterstop\": 1 //过滤掉停牌数据\n      },\n\n      type: \"post\",\n      dataType: \"json\",\n      async: true,\n      success: function success(data) {\n        self.RecvData(data, RECV_DATA_TYPE.SORT_DATA, sortData);\n      },\n      error: function error(request) {\n        self.RecvError(request, RECV_DATA_TYPE.SORT_DATA, sortData);\n      }\n    });\n  };\n\n  //资金流\n  this.RequestSubDocumentData = function (arySymbol, id) {\n    var self = this;\n    var mapDay = new _map2.default([['flowday', {\n      Field: 'flowday',\n      RecvID: RECV_DATA_TYPE.CAPITAL_FLOW_DAY_DATA\n    }], ['flowday3', {\n      Field: 'flowday3',\n      RecvID: RECV_DATA_TYPE.CAPITAL_FLOW_DAY3_DATA\n    }], ['flowday5', {\n      Field: 'flowday5',\n      RecvID: RECV_DATA_TYPE.CAPITAL_FLOW_DAY5_DATA\n    }], ['flowday10', {\n      Field: 'flowday10',\n      RecvID: RECV_DATA_TYPE.CAPITAL_FLOW_DAY10_DATA\n    }], ['dde', {\n      Field: 'dde',\n      RecvID: RECV_DATA_TYPE.DDE_DAY_DATA\n    }], ['dde3', {\n      Field: 'dde3',\n      RecvID: RECV_DATA_TYPE.DDE_DAY3_DATA\n    }], ['dde5', {\n      Field: 'dde5',\n      RecvID: RECV_DATA_TYPE.DDE_DAY5_DATA\n    }], ['dde10', {\n      Field: 'dde10',\n      RecvID: RECV_DATA_TYPE.DDE_DAY10_DATA\n    }]]);\n    if (!mapDay.has(id)) return;\n    var value = mapDay.get(id);\n    if (this.NetworkFilter) {\n      var obj = {\n        Name: 'JSStock::RequestSubDocumentData',\n        //类名::方法\n        Explain: '子文档数据',\n        ID: value.RecvID,\n        Request: {\n          Url: self.RealtimeApiUrl,\n          Data: {\n            field: [\"symbol\", value.Field],\n            symbol: arySymbol,\n            start: 0,\n            end: 50\n          },\n          Type: 'POST'\n        },\n        Self: this,\n        PreventDefault: false\n      };\n      this.NetworkFilter(obj, function (data) {\n        self.RecvData(data, value.RecvID);\n      });\n      if (obj.PreventDefault == true) return; //已被上层替换,不调用默认的网络请求\n    }\n\n    _jquery2.default.ajax({\n      url: this.RealtimeApiUrl,\n      data: {\n        \"field\": [\"symbol\", value.Field],\n        \"symbol\": arySymbol,\n        \"start\": 0,\n        \"end\": 50\n      },\n      type: \"post\",\n      dataType: \"json\",\n      success: function success(data) {\n        self.RecvData(data, value.RecvID);\n      },\n      error: function error(request) {\n        self.RecvError(request, value.RecvID);\n      }\n    });\n  };\n  this.RequestEventData = function (arySymbol) {\n    var self = this;\n    _jquery2.default.ajax({\n      url: this.RealtimeApiUrl,\n      data: {\n        \"field\": [\"symbol\", \"events.margin\", \"events.shhk\", \"events.hk\", \"events.st\", 'events.hksymbol', 'events.hkname', \"events.szhk\"],\n        \"symbol\": arySymbol,\n        \"start\": 0,\n        \"end\": 50\n      },\n      type: 'POST',\n      dataType: \"json\",\n      success: function success(data) {\n        self.RecvData(data, RECV_DATA_TYPE.EVENT_DATA);\n      },\n      error: function error(request) {\n        self.RecvError(request, RECV_DATA_TYPE.EVENT_DATA);\n      }\n    });\n  };\n\n  //个股资料\n  this.RequestCompanyData = function (arySymbol) {\n    var self = this;\n    _jquery2.default.ajax({\n      url: this.RealtimeApiUrl,\n      data: {\n        \"field\": [\"name\", \"symbol\", \"company\"],\n        \"symbol\": arySymbol,\n        \"start\": 0,\n        \"end\": 50\n      },\n      type: 'POST',\n      dataType: \"json\",\n      success: function success(data) {\n        self.RecvData(data, RECV_DATA_TYPE.COMPANY_DATA);\n      },\n      error: function error(request) {\n        self.RecvError(request, RECV_DATA_TYPE.COMPANY_DATA);\n      }\n    });\n  };\n  this.RequestPlateData = function (arySymbol) {\n    var self = this;\n    _jquery2.default.ajax({\n      url: this.RealtimeApiUrl,\n      data: {\n        \"field\": [\"name\", \"symbol\", \"industry\", \"region\", \"concept\"],\n        \"symbol\": arySymbol,\n        \"start\": 0,\n        \"end\": 50\n      },\n      type: 'POST',\n      dataType: \"json\",\n      success: function success(data) {\n        self.RecvData(data, RECV_DATA_TYPE.PLATE_DATA);\n      },\n      error: function error(request) {\n        self.RecvError(request, RECV_DATA_TYPE.PLATE_DATA);\n      }\n    });\n  };\n  this.RecvError = function (request, datatype, requestData) {\n    console.log(\"RecvError: datatype=\" + datatype.toString());\n    console.log(request);\n    var self = this;\n    if (this.Timeout) clearTimeout(this.Timeout); //清空定时器\n    this.Timeout = setTimeout(function () {\n      self.ReqeustData();\n    }, this.AutoUpateTimeout * 2);\n  };\n  this.RecvData = function (data, datatype, requestData) {\n    var mapTagData; //key=界面元素id, value=更新的股票列表\n\n    switch (datatype) {\n      case RECV_DATA_TYPE.BASE_DATA:\n      case RECV_DATA_TYPE.INDEX_BASE_DATA:\n        mapTagData = this.RecvBaseData(data, datatype);\n        break;\n      case RECV_DATA_TYPE.HEAT_DATA:\n        mapTagData = this.RecvHeatData(data, datatype);\n        break;\n      case RECV_DATA_TYPE.SORT_DATA:\n        mapTagData = this.RecvSortData(data, datatype, requestData);\n        break;\n      case RECV_DATA_TYPE.BUY_SELL_DATA:\n        mapTagData = this.RecvBuySellData(data, datatype);\n        break;\n      case RECV_DATA_TYPE.DEAL_DATA:\n        mapTagData = this.RecvDealData(data, datatype);\n        break;\n      case RECV_DATA_TYPE.DERIVATIVE_DATA:\n        mapTagData = this.RecvDerivativeData(data, datatype);\n        break;\n      case RECV_DATA_TYPE.FINANCE_DATA:\n        mapTagData = this.RecvFinanceData(data, datatype);\n        break;\n      case RECV_DATA_TYPE.CAPITAL_DATA:\n        mapTagData = this.RecvCapitalData(data, datatype);\n        break;\n      case RECV_DATA_TYPE.CAPITAL_FLOW_DAY_DATA:\n      case RECV_DATA_TYPE.CAPITAL_FLOW_DAY3_DATA:\n      case RECV_DATA_TYPE.CAPITAL_FLOW_DAY5_DATA:\n      case RECV_DATA_TYPE.CAPITAL_FLOW_DAY10_DATA:\n      case RECV_DATA_TYPE.DDE_DAY_DATA:\n      case RECV_DATA_TYPE.DDE_DAY3_DATA:\n      case RECV_DATA_TYPE.DDE_DAY5_DATA:\n      case RECV_DATA_TYPE.DDE_DAY10_DATA:\n        mapTagData = this.RecvSubDocumentData(data, datatype);\n        break;\n      case RECV_DATA_TYPE.EVENT_DATA:\n        mapTagData = this.RecvEventData(data, datatype);\n        break;\n      case RECV_DATA_TYPE.COMPANY_DATA:\n        mapTagData = this.RecvCompanyData(data, datatype);\n        break;\n      case RECV_DATA_TYPE.PLATE_DATA:\n        mapTagData = this.RecvPlateData(data, datatype);\n        break;\n    }\n    var _iteratorNormalCompletion9 = true;\n    var _didIteratorError9 = false;\n    var _iteratorError9 = undefined;\n    try {\n      for (var _iterator9 = (0, _getIterator3.default)(mapTagData), _step9; !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {\n        var value = _step9.value;\n        if (!this.MapTagCallback.has(value[0])) continue;\n        this.MapTagCallback.get(value[0])(value[0], value[1], datatype, this);\n      }\n    } catch (err) {\n      _didIteratorError9 = true;\n      _iteratorError9 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion9 && _iterator9.return) {\n          _iterator9.return();\n        }\n      } finally {\n        if (_didIteratorError9) {\n          throw _iteratorError9;\n        }\n      }\n    }\n    this.AutoUpdate();\n  };\n  this.ClearTimer = function () {\n    if (this.Timeout) {\n      clearTimeout(this.Timeout); //清空定时器\n      this.Timeout = null;\n    }\n  };\n  this.AutoUpdate = function () {\n    this.ClearTimer();\n    if (!this.IsAutoUpdate) return;\n    var self = this;\n    var isBeforOpen = false;\n    var _iteratorNormalCompletion10 = true;\n    var _didIteratorError10 = false;\n    var _iteratorError10 = undefined;\n    try {\n      for (var _iterator10 = (0, _getIterator3.default)(this.MapStock), _step10; !(_iteratorNormalCompletion10 = (_step10 = _iterator10.next()).done); _iteratorNormalCompletion10 = true)\n      //只要有1个股票在盘中 就请求数据\n      {\n        var item = _step10.value;\n        var status = STOCK_MARKET.GetMarketStatus(item[0]);\n        if (status == 2)\n          //盘中\n          {\n            this.Timeout = setTimeout(function () {\n              self.ReqeustData();\n            }, this.AutoUpateTimeout);\n            return;\n          } else if (status == 1)\n          //盘前\n          {\n            isBeforOpen = true;\n          }\n      }\n\n      //盘前\n    } catch (err) {\n      _didIteratorError10 = true;\n      _iteratorError10 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion10 && _iterator10.return) {\n          _iterator10.return();\n        }\n      } finally {\n        if (_didIteratorError10) {\n          throw _iteratorError10;\n        }\n      }\n    }\n    if (isBeforOpen) this.Timeout = setTimeout(function () {\n      self.AutoUpdate();\n    }, this.AutoUpateTimeout);\n  };\n  this.RecvBaseData = function (data, datatype) {\n    var mapTagData = new _map2.default(); //key=界面元素id, value=更新的股票列表\n    for (var i in data.stock) {\n      var item = data.stock[i];\n      var stockData = this.MapStock.get(item.symbol);\n      if (!stockData) continue;\n      switch (datatype) {\n        case RECV_DATA_TYPE.BASE_DATA:\n          stockData.SetBaseData(item);\n          break;\n        case RECV_DATA_TYPE.INDEX_BASE_DATA:\n          stockData.SetIndexBaseData(item);\n          break;\n        default:\n          continue;\n      }\n      if (stockData.TagID.size > 0) {\n        var _iteratorNormalCompletion11 = true;\n        var _didIteratorError11 = false;\n        var _iteratorError11 = undefined;\n        try {\n          for (var _iterator11 = (0, _getIterator3.default)(stockData.TagID), _step11; !(_iteratorNormalCompletion11 = (_step11 = _iterator11.next()).done); _iteratorNormalCompletion11 = true) {\n            var id = _step11.value;\n            if (mapTagData.has(id)) {\n              mapTagData.get(id).push(stockData.Symbol);\n            } else {\n              mapTagData.set(id, new Array(stockData.Symbol));\n            }\n          }\n        } catch (err) {\n          _didIteratorError11 = true;\n          _iteratorError11 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion11 && _iterator11.return) {\n              _iterator11.return();\n            }\n          } finally {\n            if (_didIteratorError11) {\n              throw _iteratorError11;\n            }\n          }\n        }\n      }\n    }\n    return mapTagData;\n  };\n  this.RecvBuySellData = function (data, datatype) {\n    var mapTagData = new _map2.default(); //key=界面元素id, value=更新的股票列表\n    for (var i in data.stock) {\n      var item = data.stock[i];\n      var stockData = this.MapStock.get(item.symbol);\n      if (!stockData) continue;\n      stockData.SetBuySellData(item);\n      if (stockData.TagID.size > 0) {\n        var _iteratorNormalCompletion12 = true;\n        var _didIteratorError12 = false;\n        var _iteratorError12 = undefined;\n        try {\n          for (var _iterator12 = (0, _getIterator3.default)(stockData.TagID), _step12; !(_iteratorNormalCompletion12 = (_step12 = _iterator12.next()).done); _iteratorNormalCompletion12 = true) {\n            var id = _step12.value;\n            if (mapTagData.has(id)) {\n              mapTagData.get(id).push(stockData.Symbol);\n            } else {\n              mapTagData.set(id, new Array(stockData.Symbol));\n            }\n          }\n        } catch (err) {\n          _didIteratorError12 = true;\n          _iteratorError12 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion12 && _iterator12.return) {\n              _iterator12.return();\n            }\n          } finally {\n            if (_didIteratorError12) {\n              throw _iteratorError12;\n            }\n          }\n        }\n      }\n      if (stockData.BuySellTagID.size > 0) {\n        var _iteratorNormalCompletion13 = true;\n        var _didIteratorError13 = false;\n        var _iteratorError13 = undefined;\n        try {\n          for (var _iterator13 = (0, _getIterator3.default)(stockData.BuySellTagID), _step13; !(_iteratorNormalCompletion13 = (_step13 = _iterator13.next()).done); _iteratorNormalCompletion13 = true) {\n            var id = _step13.value;\n            if (mapTagData.has(id)) {\n              mapTagData.get(id).push(stockData.Symbol);\n            } else {\n              mapTagData.set(id, new Array(stockData.Symbol));\n            }\n          }\n        } catch (err) {\n          _didIteratorError13 = true;\n          _iteratorError13 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion13 && _iterator13.return) {\n              _iterator13.return();\n            }\n          } finally {\n            if (_didIteratorError13) {\n              throw _iteratorError13;\n            }\n          }\n        }\n      }\n    }\n    return mapTagData;\n  };\n  this.RecvDerivativeData = function (data, datatype) {\n    var mapTagData = new _map2.default(); //key=界面元素id, value=更新的股票列表\n    for (var i in data.stock) {\n      var item = data.stock[i];\n      var stockData = this.MapStock.get(item.symbol);\n      if (!stockData) continue;\n      stockData.SetDerivativeData(item);\n      if (stockData.DerivativeTagID.size > 0) {\n        var _iteratorNormalCompletion14 = true;\n        var _didIteratorError14 = false;\n        var _iteratorError14 = undefined;\n        try {\n          for (var _iterator14 = (0, _getIterator3.default)(stockData.DerivativeTagID), _step14; !(_iteratorNormalCompletion14 = (_step14 = _iterator14.next()).done); _iteratorNormalCompletion14 = true) {\n            var id = _step14.value;\n            if (mapTagData.has(id)) {\n              mapTagData.get(id).push(stockData.Symbol);\n            } else {\n              mapTagData.set(id, new Array(stockData.Symbol));\n            }\n          }\n        } catch (err) {\n          _didIteratorError14 = true;\n          _iteratorError14 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion14 && _iterator14.return) {\n              _iterator14.return();\n            }\n          } finally {\n            if (_didIteratorError14) {\n              throw _iteratorError14;\n            }\n          }\n        }\n      }\n    }\n    return mapTagData;\n  };\n  this.RecvFinanceData = function (data, datatype) {\n    var mapTagData = new _map2.default(); //key=界面元素id, value=更新的股票列表\n    for (var i in data.stock) {\n      var item = data.stock[i];\n      var stockData = this.MapStock.get(item.symbol);\n      if (!stockData) continue;\n      stockData.SetFinanceData(item);\n      if (stockData.FinanceTagID.size > 0) {\n        var _iteratorNormalCompletion15 = true;\n        var _didIteratorError15 = false;\n        var _iteratorError15 = undefined;\n        try {\n          for (var _iterator15 = (0, _getIterator3.default)(stockData.FinanceTagID), _step15; !(_iteratorNormalCompletion15 = (_step15 = _iterator15.next()).done); _iteratorNormalCompletion15 = true) {\n            var id = _step15.value;\n            if (mapTagData.has(id)) {\n              mapTagData.get(id).push(stockData.Symbol);\n            } else {\n              mapTagData.set(id, new Array(stockData.Symbol));\n            }\n          }\n        } catch (err) {\n          _didIteratorError15 = true;\n          _iteratorError15 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion15 && _iterator15.return) {\n              _iterator15.return();\n            }\n          } finally {\n            if (_didIteratorError15) {\n              throw _iteratorError15;\n            }\n          }\n        }\n      }\n    }\n    return mapTagData;\n  };\n  this.RecvCapitalData = function (data, datatype) {\n    var mapTagData = new _map2.default(); //key=界面元素id, value=更新的股票列表\n    for (var i in data.stock) {\n      var item = data.stock[i];\n      var stockData = this.MapStock.get(item.symbol);\n      if (!stockData) continue;\n      stockData.SetCapitalData(item);\n      if (stockData.CapitalTagID.size > 0) {\n        var _iteratorNormalCompletion16 = true;\n        var _didIteratorError16 = false;\n        var _iteratorError16 = undefined;\n        try {\n          for (var _iterator16 = (0, _getIterator3.default)(stockData.CapitalTagID), _step16; !(_iteratorNormalCompletion16 = (_step16 = _iterator16.next()).done); _iteratorNormalCompletion16 = true) {\n            var id = _step16.value;\n            if (mapTagData.has(id)) {\n              mapTagData.get(id).push(stockData.Symbol);\n            } else {\n              mapTagData.set(id, new Array(stockData.Symbol));\n            }\n          }\n        } catch (err) {\n          _didIteratorError16 = true;\n          _iteratorError16 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion16 && _iterator16.return) {\n              _iterator16.return();\n            }\n          } finally {\n            if (_didIteratorError16) {\n              throw _iteratorError16;\n            }\n          }\n        }\n      }\n    }\n    return mapTagData;\n  };\n  this.RecvDealData = function (data, datatype) {\n    var mapTagData = new _map2.default(); //key=界面元素id, value=更新的股票列表\n    for (var i in data.stock) {\n      var item = data.stock[i];\n      var stockData = this.MapStock.get(item.symbol);\n      if (!stockData) continue;\n      stockData.SetDealData(item);\n      if (stockData.DealTagID.size > 0) {\n        var _iteratorNormalCompletion17 = true;\n        var _didIteratorError17 = false;\n        var _iteratorError17 = undefined;\n        try {\n          for (var _iterator17 = (0, _getIterator3.default)(stockData.DealTagID), _step17; !(_iteratorNormalCompletion17 = (_step17 = _iterator17.next()).done); _iteratorNormalCompletion17 = true) {\n            var id = _step17.value;\n            if (mapTagData.has(id)) {\n              mapTagData.get(id).push(stockData.Symbol);\n            } else {\n              mapTagData.set(id, new Array(stockData.Symbol));\n            }\n          }\n        } catch (err) {\n          _didIteratorError17 = true;\n          _iteratorError17 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion17 && _iterator17.return) {\n              _iterator17.return();\n            }\n          } finally {\n            if (_didIteratorError17) {\n              throw _iteratorError17;\n            }\n          }\n        }\n      }\n    }\n    return mapTagData;\n  };\n  this.RecvHeatData = function (data, datatype) {\n    var mapTagData = new _map2.default(); //key=界面元素id, value=更新的股票列表\n    for (var i in data.data) {\n      var item = data.data[i];\n      var stockData = this.MapStock.get(item.symbol);\n      if (!stockData) continue;\n      stockData.SetHeatData(item);\n      if (stockData.HeatTagID.size > 0) {\n        var _iteratorNormalCompletion18 = true;\n        var _didIteratorError18 = false;\n        var _iteratorError18 = undefined;\n        try {\n          for (var _iterator18 = (0, _getIterator3.default)(stockData.HeatTagID), _step18; !(_iteratorNormalCompletion18 = (_step18 = _iterator18.next()).done); _iteratorNormalCompletion18 = true) {\n            var id = _step18.value;\n            if (mapTagData.has(id)) {\n              mapTagData.get(id).push(stockData.Symbol);\n            } else {\n              mapTagData.set(id, new Array(stockData.Symbol));\n            }\n          }\n        } catch (err) {\n          _didIteratorError18 = true;\n          _iteratorError18 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion18 && _iterator18.return) {\n              _iterator18.return();\n            }\n          } finally {\n            if (_didIteratorError18) {\n              throw _iteratorError18;\n            }\n          }\n        }\n      }\n    }\n    return mapTagData;\n  };\n  this.RecvSortData = function (data, datatype, sortItem) {\n    var mapTagData = new _map2.default(); //key=界面元素id, value=更新的股票列表\n    var arySymbol = new Array();\n    var stockData = this.MapStock.get(sortItem.Plate);\n    for (var i in data.stock) {\n      var item = data.stock[i];\n      arySymbol.push(item.symbol);\n      if (this.MapStock.has(item.symbol)) {\n        var itemData = this.MapStock.get(item.symbol);\n        itemData.SetBaseData(item);\n      } else {\n        var itemData = new StockData(item.symbol);\n        itemData.SetBaseData(item);\n        this.MapStock.set(item.symbol, itemData);\n      }\n    }\n    var key = sortItem.SortField.toString() + '-' + sortItem.Order.toString();\n    if (!stockData.Sort.has(key)) return mapTagData;\n    var sortData = stockData.Sort.get(key);\n    sortData.arySymbol = arySymbol;\n    var _iteratorNormalCompletion19 = true;\n    var _didIteratorError19 = false;\n    var _iteratorError19 = undefined;\n    try {\n      for (var _iterator19 = (0, _getIterator3.default)(sortItem.TagID), _step19; !(_iteratorNormalCompletion19 = (_step19 = _iterator19.next()).done); _iteratorNormalCompletion19 = true) {\n        var item = _step19.value;\n        mapTagData.set(item, new Array([stockData.Symbol]));\n      }\n    } catch (err) {\n      _didIteratorError19 = true;\n      _iteratorError19 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion19 && _iterator19.return) {\n          _iterator19.return();\n        }\n      } finally {\n        if (_didIteratorError19) {\n          throw _iteratorError19;\n        }\n      }\n    }\n    return mapTagData;\n  };\n  this.RecvSubDocumentData = function (data, datatype) {\n    var mapTagData = new _map2.default(); //key=界面元素id, value=更新的股票列表\n    for (var i in data.stock) {\n      var item = data.stock[i];\n      var stockData = this.MapStock.get(item.symbol);\n      if (!stockData) continue;\n      var keyData = null;\n      switch (datatype) {\n        case RECV_DATA_TYPE.CAPITAL_FLOW_DAY_DATA:\n          stockData.SetCapitalFlowDayData(item.flowday, datatype);\n          keyData = stockData.CapitalFlowDayID;\n          break;\n        case RECV_DATA_TYPE.CAPITAL_FLOW_DAY3_DATA:\n          stockData.SetCapitalFlowDayData(item.flowday3, datatype);\n          keyData = stockData.CapitalFlowDay3ID;\n          break;\n        case RECV_DATA_TYPE.CAPITAL_FLOW_DAY5_DATA:\n          stockData.SetCapitalFlowDayData(item.flowday5, datatype);\n          keyData = stockData.CapitalFlowDay5ID;\n          break;\n        case RECV_DATA_TYPE.CAPITAL_FLOW_DAY10_DATA:\n          stockData.SetCapitalFlowDayData(item.flowday10, datatype);\n          keyData = stockData.CapitalFlowDay10ID;\n          break;\n        case RECV_DATA_TYPE.DDE_DAY_DATA:\n          stockData.SetDDE(item.dde, datatype);\n          keyData = stockData.DDEID;\n          break;\n        case RECV_DATA_TYPE.DDE_DAY3_DATA:\n          stockData.SetDDE(item.dde3, datatype);\n          keyData = stockData.DDE3ID;\n          break;\n        case RECV_DATA_TYPE.DDE_DAY5_DATA:\n          stockData.SetDDE(item.dde5, datatype);\n          keyData = stockData.DDE5ID;\n          break;\n        case RECV_DATA_TYPE.DDE_DAY10_DATA:\n          stockData.SetDDE(item.dde10, datatype);\n          keyData = stockData.DDE10ID;\n          break;\n      }\n      if (keyData && keyData.size > 0) {\n        var _iteratorNormalCompletion20 = true;\n        var _didIteratorError20 = false;\n        var _iteratorError20 = undefined;\n        try {\n          for (var _iterator20 = (0, _getIterator3.default)(keyData), _step20; !(_iteratorNormalCompletion20 = (_step20 = _iterator20.next()).done); _iteratorNormalCompletion20 = true) {\n            var id = _step20.value;\n            if (mapTagData.has(id)) {\n              mapTagData.get(id).push(stockData.Symbol);\n            } else {\n              mapTagData.set(id, new Array(stockData.Symbol));\n            }\n          }\n        } catch (err) {\n          _didIteratorError20 = true;\n          _iteratorError20 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion20 && _iterator20.return) {\n              _iterator20.return();\n            }\n          } finally {\n            if (_didIteratorError20) {\n              throw _iteratorError20;\n            }\n          }\n        }\n      }\n    }\n    return mapTagData;\n  };\n  this.RecvEventData = function (data, datatype) {\n    var mapTagData = new _map2.default(); //key=界面元素id, value=更新的股票列表\n\n    for (var i in data.stock) {\n      var item = data.stock[i];\n      var stockData = this.MapStock.get(item.symbol);\n      if (!stockData) continue;\n      stockData.SetEventData(item);\n      if (stockData.EventTagID.size > 0) {\n        var _iteratorNormalCompletion21 = true;\n        var _didIteratorError21 = false;\n        var _iteratorError21 = undefined;\n        try {\n          for (var _iterator21 = (0, _getIterator3.default)(stockData.EventTagID), _step21; !(_iteratorNormalCompletion21 = (_step21 = _iterator21.next()).done); _iteratorNormalCompletion21 = true) {\n            var id = _step21.value;\n            if (mapTagData.has(id)) mapTagData.get(id).push(stockData.Symbol);else mapTagData.set(id, new Array(stockData.Symbol));\n          }\n        } catch (err) {\n          _didIteratorError21 = true;\n          _iteratorError21 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion21 && _iterator21.return) {\n              _iterator21.return();\n            }\n          } finally {\n            if (_didIteratorError21) {\n              throw _iteratorError21;\n            }\n          }\n        }\n      }\n    }\n    return mapTagData;\n  };\n  this.RecvCompanyData = function (data, datatype) {\n    var mapTagData = new _map2.default(); //key=界面元素id, value=更新的股票列表\n    for (var i in data.stock) {\n      var item = data.stock[i];\n      var stockData = this.MapStock.get(item.symbol);\n      if (!stockData) continue;\n      stockData.SetCompanyData(item);\n      if (stockData.CompanyTagID.size > 0) {\n        var _iteratorNormalCompletion22 = true;\n        var _didIteratorError22 = false;\n        var _iteratorError22 = undefined;\n        try {\n          for (var _iterator22 = (0, _getIterator3.default)(stockData.CompanyTagID), _step22; !(_iteratorNormalCompletion22 = (_step22 = _iterator22.next()).done); _iteratorNormalCompletion22 = true) {\n            var id = _step22.value;\n            if (mapTagData.has(id)) {\n              mapTagData.get(id).push(stockData.Symbol);\n            } else {\n              mapTagData.set(id, new Array(stockData.Symbol));\n            }\n          }\n        } catch (err) {\n          _didIteratorError22 = true;\n          _iteratorError22 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion22 && _iterator22.return) {\n              _iterator22.return();\n            }\n          } finally {\n            if (_didIteratorError22) {\n              throw _iteratorError22;\n            }\n          }\n        }\n      }\n    }\n    return mapTagData;\n  };\n  this.RecvPlateData = function (data, datatype) {\n    var mapTagData = new _map2.default(); //key=界面元素id, value=更新的股票列表\n    for (var i in data.stock) {\n      var item = data.stock[i];\n      var stockData = this.MapStock.get(item.symbol);\n      if (!stockData) continue;\n      stockData.SetPlateData(item);\n      if (stockData.PlateTagID.size > 0) {\n        var _iteratorNormalCompletion23 = true;\n        var _didIteratorError23 = false;\n        var _iteratorError23 = undefined;\n        try {\n          for (var _iterator23 = (0, _getIterator3.default)(stockData.PlateTagID), _step23; !(_iteratorNormalCompletion23 = (_step23 = _iterator23.next()).done); _iteratorNormalCompletion23 = true) {\n            var id = _step23.value;\n            if (mapTagData.has(id)) {\n              mapTagData.get(id).push(stockData.Symbol);\n            } else {\n              mapTagData.set(id, new Array(stockData.Symbol));\n            }\n          }\n        } catch (err) {\n          _didIteratorError23 = true;\n          _iteratorError23 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion23 && _iterator23.return) {\n              _iterator23.return();\n            }\n          } finally {\n            if (_didIteratorError23) {\n              throw _iteratorError23;\n            }\n          }\n        }\n      }\n    }\n    return mapTagData;\n  };\n}\n\n//股票搜索返回数据\nfunction SearchStock(callback) {\n  this.SearchStockApiUrl = g_JSStockResource.Domain + \"/API/StockSpell\";\n  this.UpdateUICallback = callback;\n  this.PageSize = 50; //一页几个数据\n\n  this.Count; //一共的个数\n  this.EndOffset; //当前缓存数据的最后一个位移\n\n  this.Data = new Array();\n  this.SearchString = \"\";\n  this.SearchType = 0;\n  this.Search = function (input, type) {\n    if (this.SearchString == input && this.SearchType == type) {\n      if (typeof this.UpdateUICallback == 'function') this.UpdateUICallback(this);\n    } else {\n      this.SearchString = input;\n      this.SearchType = type;\n      this.Count = 0;\n      this.EndOffset = 0;\n      this.Data = [];\n      var end = this.PageSize - 1;\n      this.ReqeustSearchStock(this.SearchString, this.SearchType, this.EndOffset, end);\n    }\n  };\n  this.IsEndPage = function () {\n    if (this.Count <= 0) return true;\n    return this.EndOffset > this.Count - 1;\n  };\n  this.NextPage = function () {\n    if (this.EndOffset + 1 > this.Count) return;\n    var end = this.EndOffset + this.PageSize;\n    this.ReqeustSearchStock(this.SearchString, this.SearchType, this.EndOffset, end);\n  };\n\n  ///////////////////////////////////////////////////////////////////////\n  //查询股票\n  this.ReqeustSearchStock = function (input, type, start, end) {\n    var self = this;\n    _jquery2.default.ajax({\n      url: this.SearchStockApiUrl,\n      data: {\n        \"input\": input,\n        \"start\": start,\n        \"end\": end,\n        'type': type\n      },\n      type: \"post\",\n      dataType: \"json\",\n      async: true,\n      success: function success(data) {\n        self.RecvSearchStockData(data, RECV_DATA_TYPE.SEARCH_STOCK_DATA);\n      },\n      error: function error(request) {\n        self.RecvError(request, RECV_DATA_TYPE.SEARCH_STOCK_DATA);\n      }\n    });\n  };\n  this.RecvSearchStockData = function (data) {\n    for (var i in data.stock) {\n      var item = data.stock[i];\n      this.Data.push({\n        \"Name\": item.name,\n        \"Symbol\": item.symbol,\n        \"Type\": item.type\n      });\n    }\n    if (data.count == 0) {\n      this.Count = 0;\n      this.EndOffset = 0;\n    } else {\n      if (this.Count == 0) this.Count = data.count;\n      this.EndOffset = data.end;\n      if (this.Count > 0 && this.EndOffset > this.Count) this.EndOffset = this.Count - 1;\n    }\n    if (typeof this.UpdateUICallback == 'function') this.UpdateUICallback(this);\n  };\n  this.RecvError = function (request, type) {\n    console.log(\"[SearchStock::RecvError] datatype=\" + type.toString());\n    console.log(request);\n    if (typeof this.UpdateUICallback == 'function') this.UpdateUICallback(this, \"error\");\n  };\n}\n\n//数据基类\nfunction IStockData() {\n  this.IsAutoUpdate = true; //是否自动更新\n  this.AutoUpateTimeout = 5000; //更新频率\n  this.Timeout; //定时器\n  this.ApiUrl;\n  this.Data; //数据\n  this.Error; //错误信息\n  this.UpdateUICallback; //回调函数\n\n  this.RequestData = function () {};\n  this.Stop = function () {\n    // console.log(\"[IStockData::Stop] stop update.\")\n    this.IsAutoUpdate = false;\n    if (this.Timeout) clearTimeout(this.Timeout); //清空定时器\n  };\n\n  this.AutoUpate = function () {\n    if (this.Timeout) clearTimeout(this.Timeout); //清空定时器\n\n    if (!this.IsAutoUpdate) return;\n    if (this.Timeout) clearTimeout(this.Timeout); //清空定时器\n    if (!this.IsAutoUpdate) return;\n    var self = this;\n    if (this.Symbol) {\n      var status = STOCK_MARKET.GetMarketStatus(this.Symbol);\n      if (status == 2) this.Timeout = setTimeout(function () {\n        self.RequestData();\n      }, this.AutoUpateTimeout);else if (status == 1) this.Timeout = setTimeout(function () {\n        self.AutoUpdate();\n      }, this.AutoUpateTimeout);\n    } else {\n      //周日 周6 不更新， [9：30-3：30] 以外的时间不更新\n      var self = this;\n      var today = new Date();\n      var time = today.getHours() * 100 + today.getMinutes();\n      if (today.getDay() > 0 && today.getDay() < 6 && time >= 930 && time < 1530) this.Timeout = setTimeout(function () {\n        self.RequestData();\n      }, this.AutoUpateTimeout);\n    }\n  };\n  this.InvokeUpdateUICallback = function () {\n    if (this.UpdateUICallback) this.UpdateUICallback(this);\n  };\n}\n\n//短线精灵 只获取最新数据\nfunction ShortTerm(symbol) {\n  this.newMethod = IStockData; //派生\n  this.newMethod();\n  delete this.newMethod;\n  this.Symbol = symbol; //数组\n  this.ApiUrl = g_JSStockResource.Domain + \"/API/StockShortTerm\";\n  this.Count = 20; //请求数据个数\n\n  this.RequestData = function () {\n    var self = this;\n    var data = {\n      count: this.Count\n    };\n    if (this.Symbol) data.symbol = this.Symbol;\n    _jquery2.default.ajax({\n      url: this.ApiUrl,\n      data: data,\n      type: \"post\",\n      dataType: 'json',\n      async: true,\n      success: function success(data) {\n        self.RecvData(data, RECV_DATA_TYPE.SHORT_TERM_DATA);\n      },\n      fail: function fail(request) {\n        self.RecvError(request, RECV_DATA_TYPE.SHORT_TERM_DATA);\n      }\n    });\n  };\n  this.RecvData = function (data, dataType) {\n    this.Data = [];\n    for (var i in data.shortterm) {\n      var item = data.shortterm[i];\n      this.Data.push({\n        Date: item.date,\n        Name: item.name,\n        Symbol: item.symbol,\n        Time: item.time,\n        Content: item.content,\n        TypeInfo: item.typeinfo,\n        Type: item.type\n      });\n    }\n    if (this.UpdateUICallback) this.UpdateUICallback(this);\n    this.AutoUpate();\n  };\n  this.RecvError = function (request, dataType) {};\n}\n\n//每天历史的分笔数据 \nfunction DealDay(symbol) {\n  this.newMethod = IStockData; //派生\n  this.newMethod();\n  delete this.newMethod;\n  this.Symbol = symbol; //数组\n  this.Date; //交易日期\n\n  this.RequestData = function () {\n    this.Data = null;\n    this.Error = null;\n    var self = this;\n    var apiUrl = g_JSStockResource.CacheDomain + \"/cache/dealday/day/\" + this.Date + '/' + this.Symbol + '.json';\n    console.log('[DealDay::RequestData] cache url ', apiUrl);\n    _jquery2.default.ajax({\n      url: apiUrl,\n      type: \"get\",\n      dataType: 'json',\n      async: true,\n      success: function success(data) {\n        self.RecvData(data, RECV_DATA_TYPE.DEAL_DAY_DATA);\n      },\n      error: function error(request) {\n        self.RecvError(request, RECV_DATA_TYPE.DEAL_DAY_DATA);\n      }\n    });\n  };\n  this.RecvData = function (data, dataType) {\n    if (!data.day || !data.deal) {\n      this.InvokeUpdateUICallback();\n      return;\n    }\n    var amount = data.deal.amount;\n    var price = data.deal.price;\n    var time = data.deal.time;\n    var vol = data.deal.vol;\n    var flag = data.deal.flag;\n    if (!flag || !vol || !time || !price || !amount) {\n      this.InvokeUpdateUICallback();\n      return;\n    }\n    var dealData = {\n      Date: data.date,\n      //日期\n      Open: data.day.open,\n      //开盘\n      Close: data.day.price,\n      //收盘\n      YClose: data.day.yclose,\n      //昨收\n      Symbol: data.symbol,\n      Name: data.name,\n      Deal: [],\n      PriceList: [] //分价表\n    };\n\n    var mapPrice = new _map2.default(); //分价表 key=价格 value={Vol:成交量, Proportion:占比, Price:价格, BuyVol:买量, SellVol:买量, NoneVol:不明盘  }\n    var totalVol = 0; //一共的成交量\n    var minCount = Math.min(time.length, vol.length, flag.length, price.length, amount.length);\n    for (var i = 0; i < minCount; ++i) {\n      var _item = {\n        Time: time[i],\n        Vol: vol[i],\n        Flag: '',\n        Price: price[i],\n        Amount: amount[i]\n      };\n      if (flag[i] === 0) _item.Flag = 'B';else if (flag[i] === 1) _item.Flag = 'S';\n      if (_item.Time > 150000) _item.Time = 150000; //盘后数据都算在15:00\n\n      dealData.Deal.push(_item);\n      var priceItem;\n      if (mapPrice.has(_item.Price)) {\n        priceItem = mapPrice.get(_item.Price);\n        priceItem.Vol += _item.Vol; //成交量累加\n      } else {\n        priceItem = {\n          Vol: _item.Vol,\n          Price: _item.Price,\n          BuyVol: 0,\n          SellVol: 0,\n          NoneVol: 0\n        };\n        mapPrice.set(_item.Price, priceItem);\n      }\n      if (flag[i] === 0) priceItem.BuyVol += _item.Vol;else if (flag[i] === 1) priceItem.SellVol += _item.Vol;else priceItem.NoneVol += _item.Vol;\n      totalVol += _item.Vol;\n    }\n    var _iteratorNormalCompletion24 = true;\n    var _didIteratorError24 = false;\n    var _iteratorError24 = undefined;\n    try {\n      for (var _iterator24 = (0, _getIterator3.default)(mapPrice), _step24; !(_iteratorNormalCompletion24 = (_step24 = _iterator24.next()).done); _iteratorNormalCompletion24 = true) {\n        var item = _step24.value;\n        var itemData = item[1];\n        if (totalVol > 0) itemData.Proportion = itemData.Vol / totalVol;\n        dealData.PriceList.push(itemData);\n      }\n    } catch (err) {\n      _didIteratorError24 = true;\n      _iteratorError24 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion24 && _iterator24.return) {\n          _iterator24.return();\n        }\n      } finally {\n        if (_didIteratorError24) {\n          throw _iteratorError24;\n        }\n      }\n    }\n    dealData.PriceList.sort(function (a, b) {\n      return b.Price - a.Price;\n    }); //排序\n\n    this.Data = dealData;\n    this.InvokeUpdateUICallback();\n  };\n  this.RecvError = function (request, dataType) {\n    console.log(\"[DealDay::RecvError] status=\" + request.status + \" statusText=\" + request.statusText + \" responseText=\" + request.responseText);\n    this.Error = {\n      Status: request.status,\n      Message: request.responseText\n    };\n    this.InvokeUpdateUICallback();\n  };\n}\n\n//板块成分 支持排序\nfunction BlockMember(symbol) {\n  this.newMethod = IStockData; //派生\n  this.newMethod();\n  delete this.newMethod;\n  this.ApiUrl = g_JSStockResource.Domain + \"/API/StockBlockMember\";\n  this.PageSize = 10; //一页几个数据\n  this.Start = 0; //取数据的起始位置\n  this.OrderField; //排序字段\n  this.Order; //排序方向 -1 /1\n  this.Symbol = symbol;\n  this.OrderNull = 0; //排序是否提出null字段\n\n  this.Field = new Array(); //字段\n  this.Data = new Array(); //数据\n\n  this.PageInfo; //分页信息\n\n  this.SetField = function (aryFiled) {\n    this.Field = new Array();\n    for (var i in aryFiled) {\n      var item = aryFiled[i];\n      var name = StockDataFieldName.GetFieldName(item);\n      if (name == null) continue;\n      this.Field.push(name);\n    }\n    // this.Field = aryFiled.length > 0 ? aryFiled : [];\n\n    return this.Field.length > 0;\n  };\n  this.SetOrder = function (fieldID, order) {\n    this.Order = null;\n    this.OrderField = null;\n    var name = StockDataFieldName.GetFieldName(fieldID);\n    if (name == null) return false;\n    this.OrderField = name;\n    this.Order = order;\n    return true;\n  };\n  this.RequestData = function () {\n    this.Data = [];\n    var self = this;\n    _jquery2.default.ajax({\n      url: this.ApiUrl,\n      data: {\n        \"symbol\": this.Symbol,\n        \"field\": this.Field,\n        \"order\": this.Order,\n        \"orderfield\": this.OrderField,\n        \"start\": this.Start,\n        \"end\": this.Start + this.PageSize,\n        \"ordernull\": this.OrderNull\n      },\n      type: \"post\",\n      dataType: 'json',\n      success: function success(data) {\n        self.RecvData(data, RECV_DATA_TYPE.BLOCK_MEMBER_DATA);\n      },\n      error: function error(request) {\n        self.RecvError(request, RECV_DATA_TYPE.BLOCK_MEMBER_DATA);\n      }\n    });\n  };\n  this.RecvData = function (data, dataType) {\n    for (var i in data.stock) {\n      var item = data.stock[i];\n      if (item.symbol == null) continue;\n      var stock = new StockData(item.symbol);\n      stock.SetData(item);\n      this.Data.push(stock);\n    }\n    this.PageInfo = {\n      Count: data.count,\n      Start: data.start,\n      End: data.end\n    };\n    if (typeof this.UpdateUICallback == 'function') this.UpdateUICallback(this);\n    this.AutoUpate(); //自动更新\n  };\n\n  this.RecvError = function (reqeust, dataType) {};\n}\n\n//板块排名\nfunction BlockTop() {\n  this.newMethod = IStockData; //派生\n  this.newMethod();\n  delete this.newMethod;\n  this.BlockType = 1; //板块类型\n  this.Count = 20;\n  this.OrderField = 'increase'; //排序字段\n  this.Order = -1; //排序方向 -1 /1\n  this.Field = [\"symbol\", \"price\", \"name\", \"vol\", \"increase\", \"indextop\", 'risefall'];\n  this.ApiUrl = g_JSStockResource.Domain + \"/API/StockBlockTop\";\n  this.SetField = function (field) {};\n  this.ReqeustData = function () {\n    var self = this;\n    _jquery2.default.ajax({\n      url: this.ApiUrl,\n      data: {\n        \"blocktype\": this.BlockType,\n        \"start\": 0,\n        \"end\": this.Count,\n        \"field\": this.Field,\n        \"orderfield\": this.OrderField,\n        \"order\": this.Order\n      },\n      type: \"post\",\n      dataType: 'json',\n      async: true,\n      success: function success(data) {\n        self.RecvData(data, RECV_DATA_TYPE.BLOCK_TOP_DATA);\n      },\n      fail: function fail(request) {\n        self.RecvError(request, RECV_DATA_TYPE.BLOCK_TOP_DATA);\n      }\n    });\n  };\n  this.RecvData = function (recvData, dataType) {\n    var data = recvData;\n    this.Data = [];\n    this.resCount = data.count;\n    for (var i in data.stock) {\n      var item = data.stock[i];\n      if (item.indextop != null) {\n        var indextop = {\n          Down: item.indextop.down,\n          Stop: item.indextop.stop,\n          Up: item.indextop.up,\n          Unchanged: item.indextop.unchanged,\n          DownStock: {\n            Name: item.indextop.downstock.name,\n            Symbol: item.indextop.downstock.symbol\n          },\n          UpStock: {\n            Name: item.indextop.upstock.name,\n            Symbol: item.indextop.upstock.symbol\n          }\n        };\n      }\n      ;\n      this.Data.push({\n        Name: item.name,\n        Symbol: item.symbol,\n        Increase: item.increase,\n        Risefall: item.risefall,\n        IndexTop: indextop\n      });\n    }\n    if (this.UpdateUICallback) this.UpdateUICallback(this);\n    this.AutoUpate();\n  };\n  this.RecvError = function (request, dataType) {};\n}\n\n//获取股票走势图图片路径\nfunction MinuteImage(symbol) {\n  this.newMethod = IStockData; //派生\n  this.newMethod();\n  delete this.newMethod;\n  this.ApiUrl = g_JSStockResource.Domain + \"/API/StockMinuteImage\";\n  this.Symbol = [symbol]; //支持批量获取\n  this.Data = []; //数据 {Symbol: 股票代码, Image:图片相对路径 }\n\n  this.RequestData = function () {\n    this.Data = [];\n    var self = this;\n    _jquery2.default.ajax({\n      url: this.ApiUrl,\n      data: {\n        \"symbol\": this.Symbol\n      },\n      type: \"post\",\n      dataType: 'json',\n      success: function success(data) {\n        self.RecvData(data, RECV_DATA_TYPE.IMAGE_MINUTE_DATA);\n      },\n      error: function error(request) {\n        self.RecvError(request, RECV_DATA_TYPE.IMAGE_MINUTE_DATA);\n      }\n    });\n  };\n  this.RecvData = function (data, dataType) {\n    for (var i in data.symbol) {\n      var item = {\n        Symbol: data.symbol[i],\n        Image: data.imagerelative[i]\n      };\n      this.Data.push(item);\n    }\n    if (typeof this.UpdateUICallback == 'function') this.UpdateUICallback(this);\n  };\n  this.RecvError = function (reqeust, dataType) {};\n}\n\n//获取历史K线数据(不包含最新数据)\nfunction HistoryDayData(symbol) {\n  this.newMethod = IStockData; //派生\n  this.newMethod();\n  delete this.newMethod;\n  this.Symbol = symbol; //数组\n\n  this.RequestData = function () {\n    this.Data = null;\n    this.Error = null;\n    var self = this;\n    var apiUrl = g_JSStockResource.CacheDomain + \"/cache/historyday/all/\" + this.Symbol + '.json';\n    console.log('[HistoryDayData::RequestData] cache url ', apiUrl);\n    _jquery2.default.ajax({\n      url: apiUrl,\n      type: \"get\",\n      dataType: 'json',\n      async: true,\n      success: function success(data) {\n        self.RecvData(data, RECV_DATA_TYPE.HISTORY_DAY_DATA);\n      },\n      error: function error(request) {\n        self.RecvError(request, RECV_DATA_TYPE.HISTORY_DAY_DATA);\n      }\n    });\n  };\n  this.RecvData = function (data, dataType) {\n    if (!data.symbol || !data.name) {\n      this.InvokeUpdateUICallback();\n      return;\n    }\n    var amount = data.amount;\n    var close = data.close;\n    var date = data.date;\n    var high = data.high;\n    var low = data.low;\n    var open = data.open;\n    var vol = data.vol;\n    var yclose = data.yclose;\n    if (!amount || !close || !date || !high || !low || !open || !vol || !yclose) {\n      this.InvokeUpdateUICallback();\n      return;\n    }\n    var historyData = {\n      UpdateDate: data.update,\n      Symbol: data.symbol,\n      Name: data.name,\n      KLine: []\n    };\n    for (var i = 0; i < date.length; ++i) {\n      var item = {\n        Date: date[i],\n        YClose: yclose[i],\n        Open: open[i],\n        High: high[i],\n        Low: low[i],\n        Close: close[i],\n        Vol: vol[i],\n        Amount: amount[i]\n      };\n      historyData.KLine.push(item);\n    }\n    this.Data = historyData;\n    this.InvokeUpdateUICallback();\n  };\n  this.RecvError = function (request, dataType) {\n    console.log(\"[HistoryDayData::RecvError] status=\" + request.status + \" statusText=\" + request.statusText + \" responseText=\" + request.responseText);\n    this.Error = {\n      Status: request.status,\n      Message: request.responseText\n    };\n    this.InvokeUpdateUICallback();\n  };\n  this.GetWeekData = function () {\n    if (!this.Data || !this.Data.KLine) return [];\n    var result = this.GetDayPeriodData(1);\n    return result;\n  };\n  this.GetMonthData = function () {\n    if (!this.Data || !this.Data.KLine) return [];\n    var result = this.GetDayPeriodData(2);\n    return result;\n  };\n\n  //计算周,月,年\n  this.GetDayPeriodData = function (period) {\n    var result = new Array();\n    var index = 0;\n    var startDate = 0;\n    var newData = null;\n    for (var i in this.Data.KLine) {\n      var isNewData = false;\n      var dayData = this.Data.KLine[i];\n      switch (period) {\n        case 1:\n          //周线\n          var fridayDate = this.GetFirday(dayData.Date);\n          if (fridayDate != startDate) {\n            isNewData = true;\n            startDate = fridayDate;\n          }\n          break;\n        case 2:\n          //月线\n          if (parseInt(dayData.Date / 100) != parseInt(startDate / 100)) {\n            isNewData = true;\n            startDate = dayData.Date;\n          }\n          break;\n        case 3:\n          //年线\n          if (parseInt(dayData.Date / 10000) != parseInt(startDate / 10000)) {\n            isNewData = true;\n            startDate = dayData.Date;\n          }\n          break;\n      }\n      if (isNewData) {\n        newData = {};\n        newData.Date = dayData.Date;\n        result.push(newData);\n        if (dayData.Open == null || dayData.Close == null) continue;\n        newData.Open = dayData.Open;\n        newData.High = dayData.High;\n        newData.Low = dayData.Low;\n        newData.YClose = dayData.YClose;\n        newData.Close = dayData.Close;\n        newData.Vol = dayData.Vol;\n        newData.Amount = dayData.Amount;\n      } else {\n        if (newData == null) continue;\n        if (dayData.Open == null || dayData.Close == null) continue;\n        if (newData.Open == null || newData.Close == null) {\n          newData.Open = dayData.Open;\n          newData.High = dayData.High;\n          newData.Low = dayData.Low;\n          newData.YClose = dayData.YClose;\n          newData.Close = dayData.Close;\n          newData.Vol = dayData.Vol;\n          newData.Amount = dayData.Amount;\n        } else {\n          if (newData.High < dayData.High) newData.High = dayData.High;\n          if (newData.Low > dayData.Low) newData.Low = dayData.Low;\n          newData.Close = dayData.Close;\n          newData.Vol += dayData.Vol;\n          newData.Amount += dayData.Amount;\n          newData.Date = dayData.Date;\n        }\n      }\n    }\n    return result;\n  };\n  this.GetFirday = function (value) {\n    var date = new Date(parseInt(value / 10000), value / 100 % 100 - 1, value % 100);\n    var day = date.getDay();\n    if (day == 5) return value;\n    var timestamp = date.getTime();\n    if (day < 5) {\n      var prevTimestamp = 24 * 60 * 60 * 1000 * (5 - day);\n      timestamp += prevTimestamp;\n    } else {\n      var prevTimestamp = 24 * 60 * 60 * 1000 * (day - 5);\n      timestamp -= prevTimestamp;\n    }\n    date.setTime(timestamp);\n    var fridayDate = date.getFullYear() * 10000 + (date.getMonth() + 1) * 100 + date.getDate();\n    var week = date.getDay();\n    return fridayDate;\n  };\n}\n\n//最新个股分价表\nfunction DealPriceListData(symbol) {\n  this.newMethod = IStockData; //派生\n  this.newMethod();\n  delete this.newMethod;\n  this.Symbol = symbol;\n  this.ApiUrl = g_JSStockResource.Domain + \"/API/StockPriceList\";\n  this.RequestData = function () {\n    if (!this.Symbol) return;\n    var self = this;\n    var data = {};\n    if (Array.isArray(this.Symbol)) data.Symbol = this.Symbol; //数组\n    else data.Symbol = [this.Symbol];\n    _jquery2.default.ajax({\n      url: this.ApiUrl,\n      data: data,\n      type: \"post\",\n      dataType: 'json',\n      async: true,\n      success: function success(data) {\n        self.RecvData(data, RECV_DATA_TYPE.DEAL_PRICE_LIST_DATA);\n      },\n      fail: function fail(request) {\n        self.RecvError(request, RECV_DATA_TYPE.DEAL_PRICE_LIST_DATA);\n      }\n    });\n  };\n  this.RecvData = function (data, dataType) {\n    this.Data = null;\n    if (data.statistics.length <= 0) return;\n    this.Data = {\n      Day: {},\n      PriceList: []\n    };\n    var stock = data.data[0];\n    this.Data.Day = {\n      Date: stock.date,\n      YClose: stock.yclose,\n      Price: stock.price,\n      Vol: stock.vol,\n      Time: stock.time\n    };\n    this.Data.Stock = {\n      Symbol: stock.symbol,\n      Name: stock.name\n    };\n\n    /*\r\n    var aryPrice=stock.pricelist;\r\n    var aryVol=stock.vollist;\r\n    for (let i=0;i<aryPrice.length;++i) \r\n    {\r\n        let item = {Price:aryPrice[i], Vol: aryVol[i]};\r\n        if (stock.vol>0) item.Rate=item.Vol/stock.vol;  //占比\r\n       \r\n        this.Data.PriceList.push(item);\r\n    }\r\n    */\n\n    var stockPrice = data.statistics[0];\n    for (var i in stockPrice.list) {\n      var item = stockPrice.list[i];\n      var newItem = {\n        Price: item[0],\n        Vol: item[1],\n        BuyVol: item[2],\n        SellVol: item[3],\n        NoneVol: item[4]\n      };\n      if (stock.vol > 0) newItem.Proportion = newItem.Vol / stock.vol;\n      this.Data.PriceList.push(newItem);\n    }\n    if (this.UpdateUICallback) this.UpdateUICallback(this);\n    this.AutoUpate();\n  };\n  this.RecvError = function (request, dataType) {};\n}\n\n//最新分笔数据\nfunction LatestDetailData(symbol) {\n  this.newMethod = IStockData; //派生\n  this.newMethod();\n  delete this.newMethod;\n  this.IsAutoUpdate = false;\n  this.Symbol = symbol; //单个股票\n  this.PageSize = 20;\n  this.Request = function (pageIndex, pageSize) {\n    this.Error = null;\n    var self = this;\n    var start = pageIndex * pageSize;\n    var end = start + pageSize;\n    var apiUrl = g_JSStockResource.Domain + \"/API/StockDetail\";\n    console.log(\"[LatestDetailData::RequestData] url=\" + apiUrl + \", start=\" + start + \" , end=\" + end);\n    _jquery2.default.ajax({\n      url: apiUrl,\n      data: {\n        \"symbol\": this.Symbol,\n        \"start\": start,\n        \"end\": end\n      },\n      type: \"post\",\n      dataType: 'json',\n      async: true,\n      success: function success(data) {\n        self.RecvData(data, RECV_DATA_TYPE.LATEST_DETAIL_DATA);\n      },\n      error: function error(request) {\n        self.RecvError(request, RECV_DATA_TYPE.LATEST_DETAIL_DATA);\n      }\n    });\n  };\n  this.RequestData = function ()\n  //第1次请求\n  {\n    this.Data = {\n      Deal: [],\n      Count: 0,\n      Reqeust: {\n        PageIndex: 0\n      },\n      Response: {}\n    };\n    this.Request(0, this.PageSize);\n  };\n  this.RequestPage = function (pageIndex) {\n    if (!this.Data) this.Data = {\n      Deal: [],\n      Count: 0\n    };\n    this.Data.Reqeust = {\n      PageIndex: pageIndex\n    };\n    this.Data.Response = {};\n    var start = pageIndex * this.PageSize;\n    var end = start + this.PageSize;\n    //检测内存里是否已经有了\n    var bCache = true;\n    for (var i = start; i < end; ++i) {\n      if (!this.Data.Deal[i]) {\n        bCache = false;\n        break;\n      }\n    }\n    if (bCache) {\n      this.Data.Response = {\n        Start: start,\n        End: end\n      };\n      this.InvokeUpdateUICallback();\n    } else {\n      this.Request(pageIndex, this.PageSize);\n    }\n  };\n  this.RecvData = function (data, dataType) {\n    this.Data.Count = data.count;\n    if (!data.detail) {\n      this.InvokeUpdateUICallback();\n      return;\n    }\n    this.Data.Day = {\n      YClose: data.yclose,\n      Open: data.open,\n      Close: data.price,\n      Date: data.date\n    };\n    this.Data.Stock = {\n      Symbol: data.symbol,\n      Name: data.name\n    };\n    var start = data.start;\n    for (var i = 0, index = start; i < data.detail.length; ++i, ++index) {\n      var item = data.detail[i];\n      var detailItem = {\n        Time: item[0],\n        Price: item[1],\n        Vol: item[2],\n        Amount: item[3],\n        Flag: ''\n      };\n      if (item[4] === 0) detailItem.Flag = 'B';else if (item[4] === 1) detailItem.Flag = 'S';\n      this.Data.Deal[index] = detailItem;\n    }\n    this.Data.Response = {\n      Start: data.start,\n      End: data.end\n    };\n    this.InvokeUpdateUICallback();\n  };\n  this.RecvError = function (request, dataType) {\n    console.log(\"[LatestDetailData::RecvError] status=\" + request.status + \" statusText=\" + request.statusText + \" responseText=\" + request.responseText);\n    this.Error = {\n      Status: request.status,\n      Message: request.responseText\n    };\n    this.InvokeUpdateUICallback();\n  };\n}\n\n//分析板块请求数据\nfunction AnalylisPlate() {\n  this.newMethod = IStockData; //派生\n  this.newMethod();\n  delete this.newMethod;\n  this.ApiUrl = g_JSStockResource.Domain + \"/api/StockListAnalyze\";\n  this.PolicyGuid; //查询策略的Guid\n  this.Plate = \"\"; //板块id\n  this.SymbolList = []; //股票列表\n\n  this.RequestData = function () {\n    var self = this;\n    _jquery2.default.ajax({\n      url: self.ApiUrl,\n      data: {\n        \"PolicyGuid\": self.PolicyGuid,\n        \"Plate\": self.Plate,\n        \"Symbol\": self.SymbolList\n      },\n      type: \"post\",\n      dataType: 'json',\n      async: true,\n      success: function success(data) {\n        self.RecvData(data);\n      },\n      error: function error(request) {\n        self.RecvError(request);\n      }\n    });\n  };\n  this.RecvData = function (recvData) {\n    this.Data = {};\n    // console.log(recvData.data,\"recvData,分析板块:::::\")\n    var data = recvData;\n    if (data.count == 0) return;\n    if (data.concept) {\n      //概念占比\n      // 0 = 概念名称 1 = 代码 0 = 占比 3 = 个数 4 = 涨幅 5 = 最新价 6 = 一周涨幅 7 = 四周涨幅\n      var conceptList = [];\n      for (var i in data.concept.data) {\n        var item = data.concept.data[i];\n        var info = {};\n        info.Name = item[0];\n        info.Symbol = item[1];\n        info.Ratio = item[2];\n        info.Count = item[3];\n        info.Increase = item[4];\n        info.Price = item[5];\n        info.Week1 = item[6];\n        info.Week4 = item[7];\n        conceptList.push(info);\n      }\n      this.Data.Concept = conceptList;\n    }\n    if (data.distributed) {\n      //股票类型占比\n      this.Data.Distributed = data.distributed;\n    }\n    if (data.industry) {\n      //行业占比\n      this.Data.Industry = data.industry;\n    }\n    if (data.quadrant) {\n      //四象限占比\n      this.Data.Quadrant = data.quadrant;\n    }\n    if (data.region) {\n      //四象限占比\n      this.Data.Region = data.region;\n    }\n\n    // console.log(this.Data,\"this.Data\")\n    if (this.UpdateUICallback) this.UpdateUICallback(this);\n  };\n  this.RecvError = function (request) {\n    console.log(request);\n  };\n}\nvar STOCK_MARKET = {\n  SH: '.SH',\n  SZ: '.SZ',\n  HK: '.HK',\n  SHFE: '.SHF',\n  //上期所 (Shanghai Futures Exchange)\n  CFFEX: '.CFE',\n  //中期所 (China Financial Futures Exchange)\n  DCE: '.DCE',\n  //大连商品交易所(Dalian Commodity Exchange)\n  CZCE: '.CZC',\n  //郑州期货交易所\n  USA: '.USA',\n  //美股\n\n  IsUSA: function IsUSA(upperSymbol)\n  //是否是美股\n  {\n    if (!upperSymbol) return false;\n    return upperSymbol.indexOf(this.USA) > 0;\n  },\n  IsSH: function IsSH(upperSymbol) {\n    //需要精确匹配最后3位\n    var pos = upperSymbol.length - this.SH.length;\n    var find = upperSymbol.indexOf(this.SH);\n    return find == pos;\n  },\n  IsSZ: function IsSZ(upperSymbol) {\n    var pos = upperSymbol.length - this.SZ.length;\n    var find = upperSymbol.indexOf(this.SZ);\n    return find == pos;\n  },\n  IsHK: function IsHK(upperSymbol) {\n    var pos = upperSymbol.length - this.HK.length;\n    var find = upperSymbol.indexOf(this.HK);\n    return find == pos;\n  },\n  IsSHFE: function IsSHFE(upperSymbol) {\n    return upperSymbol.indexOf(this.SHFE) > 0;\n  },\n  IsCFFEX: function IsCFFEX(upperSymbol) {\n    return upperSymbol.indexOf(this.CFFEX) > 0;\n  },\n  IsDCE: function IsDCE(upperSymbol) {\n    return upperSymbol.indexOf(this.DCE) > 0;\n  },\n  IsCZCE: function IsCZCE(upperSymbol) {\n    return upperSymbol.indexOf(this.CZCE) > 0;\n  },\n  IsChinaFutures: function IsChinaFutures(upperSymbol)\n  //是否是国内期货\n  {\n    return this.IsCFFEX(upperSymbol) || this.IsCZCE(upperSymbol) || this.IsDCE(upperSymbol) || this.IsSHFE(upperSymbol);\n  },\n  IsSHSZ: function IsSHSZ(upperSymbol)\n  //是否是沪深的股票\n  {\n    return this.IsSZ(upperSymbol) || this.IsSH(upperSymbol);\n  },\n  IsSHSZFund: function IsSHSZFund(upperSymbol)\n  //是否是交易所基金\n  {\n    if (!upperSymbol) return false;\n    if (this.IsSH(upperSymbol))\n      //51XXXX.SH\n      {\n        if (upperSymbol.charAt(0) == '5' && upperSymbol.charAt(1) == '1') return true;\n      } else if (this.IsSZ(upperSymbol))\n      //15XXXX.sz, 16XXXX.sz, 17XXXX.sz, 18XXXX.sz\n      {\n        if (upperSymbol.charAt(0) == '1' && (upperSymbol.charAt(1) == '5' || upperSymbol.charAt(1) == '6' || upperSymbol.charAt(1) == '7' || upperSymbol.charAt(1) == '8')) return true;\n      }\n    return false;\n  },\n  IsSHSZIndex: function IsSHSZIndex(symbol)\n  //是否是沪深指数代码\n  {\n    if (!symbol) return false;\n    var upperSymbol = symbol.toUpperCase();\n    if (this.IsSH(upperSymbol)) {\n      var temp = upperSymbol.replace('.SH', '');\n      if (upperSymbol.charAt(0) == '0' && parseInt(temp) <= 3000) return true;\n    } else if (this.IsSZ(upperSymbol)) {\n      if (upperSymbol.charAt(0) == '3' && upperSymbol.charAt(1) == '9') return true;\n    } else if (upperSymbol.indexOf('.CI') > 0)\n      //自定义指数\n      {\n        return true;\n      }\n    return false;\n  },\n  IsSHSZStockA: function IsSHSZStockA(symbol)\n  //是否是沪深A股\n  {\n    if (!symbol) return false;\n    var upperSymbol = symbol.toUpperCase();\n    if (this.IsSH(upperSymbol)) {\n      var temp = upperSymbol.replace('.SH', '');\n      if (upperSymbol.charAt(0) == '6') return true;\n    } else if (this.IsSZ(upperSymbol)) {\n      if (upperSymbol.charAt(0) == '0') {\n        if (upperSymbol.charAt(1) == '0' && upperSymbol.charAt(1) == '2') return true; //002 中小板\n        if (upperSymbol.charAt(1) != '7' && upperSymbol.charAt(1) != '8') return true;\n      }\n    }\n    return false;\n  },\n  IsSHStockSTAR: function IsSHStockSTAR(symbol)\n  // 是否是科创板 Sci-Tech innovAtion boaRd (STAR Market)\n  {\n    if (!symbol) return false;\n    var upperSymbol = symbol.toUpperCase();\n    if (!this.IsSH(upperSymbol)) return false;\n    if (upperSymbol.charAt(0) == '6' && upperSymbol.charAt(1) == '8' && upperSymbol.charAt(2) == '8') return true;\n    return false;\n  },\n  GetMarketStatus: function GetMarketStatus(symbol)\n  //获取市场状态 0=闭市 1=盘前 2=盘中 3=盘后\n  {\n    if (!symbol) return 0;\n    var upperSymbol = symbol.toUpperCase();\n    if (this.IsUSA(upperSymbol)) {\n      var usaDate = GetLocalTime(-4);\n      day = usaDate.getDay(), time = usaDate.getHours() * 100 + usaDate.getMinutes();\n      if (day == 6 || day == 0) return 0; //周末\n\n      //9:30 - 16:00 考虑夏令时间时间增加1小时 9:30 - 17:00\n      if (time > 1730) return 3;\n      if (time < 930) return 1;\n      return 2;\n    } else {\n      var nowDate = new Date(),\n        day = nowDate.getDay(),\n        time = nowDate.getHours() * 100 + nowDate.getMinutes();\n      if (day == 6 || day == 0) return 0; //周末\n\n      //9:30 - 15:40\n      if (time > 1540) return 3;\n      if (time < 925) return 1;\n      return 2;\n    }\n  }\n};\n\n/*外部导入*/\n\n/*暴露外部用的方法*/\nexports.default = (_JSStockInit$STOCK_FI = {\n  JSStockInit: JSStock.Init,\n  STOCK_FIELD_NAME: STOCK_FIELD_NAME,\n  //类导出\n  JSStock: JSStock,\n  StockRead: StockRead\n}, (0, _defineProperty3.default)(_JSStockInit$STOCK_FI, \"STOCK_FIELD_NAME\", STOCK_FIELD_NAME), (0, _defineProperty3.default)(_JSStockInit$STOCK_FI, \"RECV_DATA_TYPE\", RECV_DATA_TYPE), _JSStockInit$STOCK_FI);","map":{"version":3,"names":["require","Object","defineProperty","exports","value","_defineProperty2","_defineProperty3","_interopRequireDefault","_getIterator2","_getIterator3","_map","_map2","_set","_set2","_JSStockInit$STOCK_FI","_jquery","_jquery2","obj","__esModule","default","JSStockResource","Domain","CacheDomain","g_JSStockResource","IndexTopData","Stop","Down","Up","Unchanged","UpStock","DownStock","IndexHeatData","Good","GoodIncrease","SortData","field","order","tagID","arySymbol","Array","SortField","Order","TagID","FinanceData","ROE","Date","PerSEarning","EPS","PerNetAsset","NProfit","NProfitIncrease","NnetProfit","NnProfitIncrease","NnProfitSpeed","Benford","SetData","data","isNaN","roe","finance","date","persearning","eps","pernetasset","nprofit","nprofitincrease","nnetprofit","nnprofitincrease","nnprofitspeed","benford","CapitalData","A","Total","ARate","capital","a","total","arate","CapitalFlowDayData","SuperIn","SuperOut","BigIn","BigOut","MidIn","MidOut","SmallIn","SmallOut","MainIn","MainOut","MainNetIn","superin","superout","bigin","bigout","midin","midout","smallin","smallout","mainin","mainout","mainnetin","CapitalFlowDaysData","MainNetInRatio","mainnetinratio","DDEData","DDX","DDY","DDZ","ddx","ddy","ddz","CompanyData","Name","Business","Vol","Price","ReleaseDate","Competence","company","name","business","vol","price","releasedate","corecompetence","PlateData","Industry","Region","Concept","SetIndustryData","SetRegionData","SetConceptData","industry","i","item","push","Symbol","symbol","region","concept","EventData","IsMargin","IsHK","IsSHHK","IsSZHK","STType","HK","events","margin","hk","shhk","szhk","st","hksymbol","hkname","IsIndexSymbol","upperSymbol","toUpperCase","indexOf","replace","charAt","parseInt","StockData","Open","High","Low","YClose","Amount","Time","ExchangeRate","Amplitude","VolRatio","Increase","MaxPrice","MinPrice","RFPrice","IndexTop","Week","MinuteAmplitude","RiseFallSpeed","MAmount","GetBaseData","BaseDataTagID","add","STOCK_FIELD_NAME","SYMBOL","NAME","OPEN","PRICE","YCLOSE","HIGH","LOW","VOL","AMOUNT","DATE","TIME","INCREASE","EXCHANGE_RATE","AMPLITUDE","MAX_PRICE","MIN_PRICE","RISE_FALL_PRICE","VOLRATIO","INDEXTOP","WEEK","Heat","GetHeatData","HeatTagID","Sort","GetSortData","key","toString","has","set","get","Buy5","GetBuy5","BuySellTagID","Sell5","GetSell5","Deal","GetDeal","DealTagID","MarketValue","FlowMarketValue","Bookrate","Bookdiffer","PE","PE2","PE3","PB","GetDerivative","DerivativeTagID","MARKET_VALUE","FLOW_MARKET_VALUE","BOOK_RATE","BOOK_DIFFER","Finance","GetFinance","FinanceTagID","FINANCE_DATE","FINANCE_PERSEARNING","FINANCE_PERNETASSET","FINANCE_NPROFIT","FINANCE_NPROFITINCREASE","FINANCE_NNETPROFIT","FINANCE_NNPROFITINCREASE","FINANCE_NNPROFITSPEED","FINANCE_EPS","FINANCE_BENFORD","Capital","GetCapital","CapitalTagID","CAPITAL_TOTAL","CAPITAL_A","CAPTIAL_ARATE","CapitalFlowDay","CapitalFlowDay3","CapitalFlowDay5","CapitalFlowDay10","GetCapitalFlowDay","CAPITAL_FLOW_DAY","CapitalFlowDayID","CAPITAL_FLOW_DAY3","CapitalFlowDay3ID","CAPITAL_FLOW_DAY5","CapitalFlowDay5ID","CAPITAL_FLOW_DAY10","CapitalFlowDay10ID","DDE","DDE3","DDE5","DDE10","GetDDE","DDEID","DDE3ID","DDE5ID","DDE10ID","Event","GetEvent","EventTagID","Company","GetCompany","CompanyTagID","COMPANY_NAME","COMPANY_BUSINESS","COMPANY_VOL","COMPANY_PRICE","COMPANY_RELEASEDATE","COMPANY_COMPETENCE","Plate","GetPlate","PlateTagID","PLATE_INDUSTRY","PLATE_CONCEPT","PLATE_REGION","AttachTagID","id","ClearTagID","clear","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_iterator","_step","next","done","err","return","RemoveTagID","delete","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","SetBaseData","yclose","high","low","open","amount","time","increase","exchangerate","amplitude","volratio","week","Week1","week1","Week4","week4","Week13","week13","Week26","week26","Week52","week52","SetDerivativeData","marketvalue","flowmarketvalue","bookrate","bookdiffer","pe","pe2","pe3","pb","SetFinanceData","console","log","SetCapitalData","SetIndexBaseData","topData","indextop","up","down","unchanged","stop","upstock","downstock","SetBuySellData","buy","sell","SetDealData","deal","bs","SetHeatData","heatData","quadrant","good","Day1","gincrease","day1","SetCapitalFlowDayData","datatype","RECV_DATA_TYPE","CAPITAL_FLOW_DAY_DATA","CAPITAL_FLOW_DAY3_DATA","CAPITAL_FLOW_DAY5_DATA","CAPITAL_FLOW_DAY10_DATA","SetDDE","DDE_DAY_DATA","DDE_DAY3_DATA","DDE_DAY5_DATA","DDE_DAY10_DATA","SetEventData","SetCompanyData","SetPlateData","SetFinanceDetailData","mamplitude","M1","M3","M5","M10","M15","risefallspeed","mamount","BUY5","SELL5","DEAL","RISEFALLSPEED_1","RISEFALLSPEED_3","RISEFALLSPEED_5","RISEFALLSPEED_10","RISEFALLSPEED_15","MINUTE_AMPLITUDE_1","MINUTE_AMPLITUDE_3","MINUTE_AMPLITUDE_5","MINUTE_AMPLITUDE_10","MINUTE_AMPLITUDE_15","MINUTE_AMOUNT_1","MINUTE_AMOUNT_3","MINUTE_AMOUNT_5","MINUTE_AMOUNT_10","MINUTE_AMOUNT_15","EVENTS","HEAT","StockDataFieldName","m_mapFiled","GetFieldName","fieldID","StockRead","stock","JSStock","Get","GetSort","EndRead","isUpdate","ReqeustData","SetQueryField","aryField","JSStockHistory","Callback","Field","Data","ApiUrl","PageSize","PageIndex","Count","currentData","RequsetData","condition","condition2","self","currentSymbol","currentSymbolLength","length","GetQuery","ajax","url","method","dataType","success","count","RecvData","fail","request","RecvError","GetNextPage","start","end","alert","recvData","strSymbol","stockData","SetStockData","stockday","dataMap","SetBlocktradingData","SetChangesData","SetLiftingData","SetPforecastData","SetShortIndicatorsData","finnance","finance1","STOCK_HISTORY_FIELD_NAME","FINANCE1_NPROFITINCREASE","FINANCE1_NNPROFITINCREASE","FINANCE1_NNPROFITSPEED","FINANCE1_BENFORD","announcement","announcement1","year","FINANCE1_YEAR","quarter","FINANCE1_QUARTER","finance2","FINANCE2_NPROFITINCREASE","FINANCE2_NNPROFITINCREASE","FINANCE2_NNPROFITSPEED","FINANCE2_BENFORD","announcement2","FINANCE2_YEAR","FINANCE2_QUARTER","finance3","FINANCE3_NPROFITINCREASE","FINANCE3_NNPROFITINCREASE","FINANCE3_NNPROFITSPEED","FINANCE3_BENFORD","announcement3","FINANCE3_YEAR","FINANCE3_QUARTER","finance4","FINANCE4_NPROFITINCREASE","FINANCE4_NNPROFITINCREASE","FINANCE4_NNPROFITSPEED","FINANCE4_BENFORD","announcement4","FINANCE4_YEAR","FINANCE4_QUARTER","blocktrading","BLOCK_TRADING","Premium","premium","changes","HOLDERS_CHANGES","List","list","lifting","LIFTING","Lifting","pforecast","PFORECAST","Lowprofit","lowprofit","Highprofit","highprofit","Lowchange","lowchange","Highchange","highchange","Reportdate","reportdate","policy","targetedList","targetedCount","timeList","latestTime","latestName","forEach","e","isTarget","some","c","Math","max","apply","find","SHORTIND_ICATORS","latestIndicatorName","indicatorCount","CreateCondition","QueryCondition","Init","SetDomain","domain","cacheDomain","GetSearchStock","callback","SearchStock","GetShortTerm","ShortTerm","GetDealDay","DealDay","GetBlockMember","BlockMember","GetBlockTop","BlockTop","GetMinuteImage","MinuteImage","GetHistoryDayData","HistoryDayData","GetDealPriceListData","DealPriceListData","GetLatestDetailData","LatestDetailData","GetAnalylisPlate","AnalylisPlate","GetStockHistory","BASE_DATA","INDEX_BASE_DATA","HEAT_DATA","SORT_DATA","BUY_SELL_DATA","DEAL_DATA","DERIVATIVE_DATA","FINANCE_DATA","SEARCH_STOCK_DATA","SELF_STOCK_DATA","LOGON_DATA","BLOCK_MEMBER_DATA","SHORT_TERM_DATA","COMPANY_DATA","PLATE_DATA","CAPITAL_DATA","DEAL_DAY_DATA","EVENT_DATA","IMAGE_MINUTE_DATA","HISTORY_DAY_DATA","DEAL_PRICE_LIST_DATA","LATEST_DETAIL_DATA","MapStock","MapTagCallback","RequestVersion","RealtimeApiUrl","PlateQuadrantApiUrl","IsAutoUpdate","AutoUpateTimeout","Timeout","NetworkFilter","GetStockRead","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","read","Unsubscribe","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_iterator4","_step4","UnsubscribeStock","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_iterator5","_step5","RequestData","ClearTimer","aryIndex","aryHeat","aryBuySell","aryDeal","aryDerivative","aryFinance","aryFlow","aryFlow3","aryFlow5","aryFlow10","aryDDE","aryDDE3","aryDDE5","aryDDE10","aryEvent","aryCompany","aryPlate","aryCapital","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_iterator6","_step6","subscribe","size","RequestBuySellData","RequestBaseData","RequestIndexBaseData","RequestIndexHeatData","RequestDealData","RequestDerivativeData","RequestFinanceData","RequestCapitalData","RequestSubDocumentData","RequestEventData","RequestCompanyData","RequestPlateData","ReqeustAllSortData","Explain","ID","Request","Url","Type","Self","PreventDefault","type","async","error","arySort","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_iterator7","_step7","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_iterator8","_step8","sortItem","sortData","ReqeustSortData","sortFiled","plate","orderfield","ordernull","filterstop","mapDay","RecvID","requestData","clearTimeout","setTimeout","mapTagData","RecvBaseData","RecvHeatData","RecvSortData","RecvBuySellData","RecvDealData","RecvDerivativeData","RecvFinanceData","RecvCapitalData","RecvSubDocumentData","RecvEventData","RecvCompanyData","RecvPlateData","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_iterator9","_step9","AutoUpdate","isBeforOpen","_iteratorNormalCompletion10","_didIteratorError10","_iteratorError10","_iterator10","_step10","status","STOCK_MARKET","GetMarketStatus","_iteratorNormalCompletion11","_didIteratorError11","_iteratorError11","_iterator11","_step11","_iteratorNormalCompletion12","_didIteratorError12","_iteratorError12","_iterator12","_step12","_iteratorNormalCompletion13","_didIteratorError13","_iteratorError13","_iterator13","_step13","_iteratorNormalCompletion14","_didIteratorError14","_iteratorError14","_iterator14","_step14","_iteratorNormalCompletion15","_didIteratorError15","_iteratorError15","_iterator15","_step15","_iteratorNormalCompletion16","_didIteratorError16","_iteratorError16","_iterator16","_step16","_iteratorNormalCompletion17","_didIteratorError17","_iteratorError17","_iterator17","_step17","_iteratorNormalCompletion18","_didIteratorError18","_iteratorError18","_iterator18","_step18","itemData","_iteratorNormalCompletion19","_didIteratorError19","_iteratorError19","_iterator19","_step19","keyData","flowday","flowday3","flowday5","flowday10","dde","dde3","dde5","dde10","_iteratorNormalCompletion20","_didIteratorError20","_iteratorError20","_iterator20","_step20","_iteratorNormalCompletion21","_didIteratorError21","_iteratorError21","_iterator21","_step21","_iteratorNormalCompletion22","_didIteratorError22","_iteratorError22","_iterator22","_step22","_iteratorNormalCompletion23","_didIteratorError23","_iteratorError23","_iterator23","_step23","SearchStockApiUrl","UpdateUICallback","EndOffset","SearchString","SearchType","Search","input","ReqeustSearchStock","IsEndPage","NextPage","RecvSearchStockData","IStockData","Error","AutoUpate","today","getHours","getMinutes","getDay","InvokeUpdateUICallback","newMethod","shortterm","Content","content","TypeInfo","typeinfo","apiUrl","day","flag","dealData","Close","PriceList","mapPrice","totalVol","minCount","min","_item","Flag","priceItem","BuyVol","SellVol","NoneVol","_iteratorNormalCompletion24","_didIteratorError24","_iteratorError24","_iterator24","_step24","Proportion","sort","b","statusText","responseText","Status","Message","Start","OrderField","OrderNull","PageInfo","SetField","aryFiled","SetOrder","End","reqeust","BlockType","BLOCK_TOP_DATA","resCount","Risefall","risefall","Image","imagerelative","close","historyData","UpdateDate","update","KLine","GetWeekData","result","GetDayPeriodData","GetMonthData","period","index","startDate","newData","isNewData","dayData","fridayDate","GetFirday","timestamp","getTime","prevTimestamp","setTime","getFullYear","getMonth","getDate","isArray","statistics","Day","Stock","stockPrice","newItem","pageIndex","pageSize","Reqeust","Response","RequestPage","bCache","detail","detailItem","PolicyGuid","SymbolList","conceptList","info","Ratio","distributed","Distributed","Quadrant","SH","SZ","SHFE","CFFEX","DCE","CZCE","USA","IsUSA","IsSH","pos","IsSZ","IsSHFE","IsCFFEX","IsDCE","IsCZCE","IsChinaFutures","IsSHSZ","IsSHSZFund","IsSHSZIndex","temp","IsSHSZStockA","IsSHStockSTAR","usaDate","GetLocalTime","nowDate","JSStockInit"],"sources":["E:/assetManagement/assetManagement/node_modules/hqchart/lib/umychart.stock.vue.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _defineProperty2 = require(\"babel-runtime/helpers/defineProperty\");\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _getIterator2 = require(\"babel-runtime/core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _map = require(\"babel-runtime/core-js/map\");\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _set = require(\"babel-runtime/core-js/set\");\n\nvar _set2 = _interopRequireDefault(_set);\n\nvar _JSStockInit$STOCK_FI;\n\nvar _jquery = require(\"jquery\");\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n   Copyright (c) 2018 jones\r\n \r\n    http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n   开源项目 https://github.com/jones2000/HQChart\r\n \r\n   jones_2000@163.com\r\n\r\n   个股行情数据类\r\n*/\n\n////////////////////////////////////////////////////////////////////////////////////////\n//  股票数据\n//\n///////////////////////////////////////////////////////////////////////////////////////\n\nfunction JSStockResource() {\n    this.Domain = \"http://127.0.0.1:8886\"; //API域名\n    this.CacheDomain = \"http://127.0.0.1:8886\"; //缓存域名\n}\n\nvar g_JSStockResource = new JSStockResource();\n\n//领涨领跌\nfunction IndexTopData() {\n    this.Stop; //停牌\n    this.Down; //下跌\n    this.Up; //上涨\n    this.Unchanged; //平盘\n    this.UpStock = { \"Symbol\": null, \"Name\": null }; //领涨\n    this.DownStock = { \"Symbol\": null, \"Name\": null }; //领跌\n}\n\nfunction IndexHeatData() {\n    this.Good; //健康度\n    //this.Date;  //日期\n    this.GoodIncrease = { \"Day1\": null, 'Week1': null, \"Week4\": null }; //周涨幅\n}\n\nfunction SortData(field, order, tagID) {\n    this.arySymbol = new Array(); //成分\n    this.SortField = field; //排序字段\n    this.Order = order; //1 降, -1 升\n    this.TagID = new _set2.default([tagID]); //绑定的元素id\n}\n\n//财务数据\nfunction FinanceData() {\n    this.ROE; //净资产收益率\n\n    this.Date; //报告日期,\n    this.PerSEarning; //每股收益\n    this.EPS; //滚动每股收益\n    this.PerNetAsset; //每股净资产\n\n    this.NProfit; //净利润\n    this.NProfitIncrease; //净利润涨幅 （当年净利润-上一年）/上一年*100\n\n    this.NnetProfit; //扣非净利润\n    this.NnProfitIncrease; //扣非净利润涨幅  （当年扣非净利润-上一年）/上一年*100\n    this.NnProfitSpeed; //扣非净利润涨速  （当前扣非净利润/上一年-1）/（上一年/上上年-1）\n    this.Benford; //财务粉饰\n\n    //TODO:财务数据要了后面再加\n\n    this.SetData = function (data) {\n        if (!isNaN(data.roe)) this.ROE = data.roe;\n        if (!isNaN(data.finance.date)) this.Date = data.finance.date;\n        if (!isNaN(data.finance.persearning)) this.PerSEarning = data.finance.persearning;\n        if (!isNaN(data.finance.eps)) this.EPS = data.finance.eps;\n        if (!isNaN(data.finance.pernetasset)) this.PerNetAsset = data.finance.pernetasset;\n        if (!isNaN(data.finance.nprofit)) this.NProfit = data.finance.nprofit;\n        if (!isNaN(data.finance.nprofitincrease)) this.NProfitIncrease = data.finance.nprofitincrease;\n        if (!isNaN(data.finance.nnetprofit)) this.NnetProfit = data.finance.nnetprofit;\n        if (!isNaN(data.finance.nnprofitincrease)) this.NnProfitIncrease = data.finance.nnprofitincrease;\n        if (!isNaN(data.finance.nnprofitspeed)) this.NnProfitSpeed = data.finance.nnprofitspeed;\n        if (!isNaN(data.finance.benford)) this.Benford = data.finance.benford;\n    };\n}\n\n//股本数据\nfunction CapitalData() {\n    this.Date; //变动日期\t\n    this.A; //流通A股\n    this.Total; //总股本\n    this.ARate; //流通A股占比\n\n    this.SetData = function (data) {\n        if (!isNaN(data.capital.date)) this.Date = data.capital.date;\n        if (!isNaN(data.capital.a)) this.A = data.capital.a;\n        if (!isNaN(data.capital.total)) this.Total = data.capital.total;\n        if (!isNaN(data.capital.arate)) this.ARate = data.capital.arate;\n    };\n}\n\n//资金流(当日)\nfunction CapitalFlowDayData() {\n    this.SuperIn; //超大单流入\n    this.SuperOut; //超大单流出\n    this.BigIn; //大单流入\n    this.BigOut; //大单流出\n    this.MidIn; //中单流入\n    this.MidOut; //中单流出\n    this.SmallIn; //小单流入\n    this.SmallOut; //小单流出\n    this.MainIn; //主力流入\n    this.MainOut; //主力流出\n    this.MainNetIn; //主力净流入\n\n    this.SetData = function (data) {\n        this.SuperIn = data.superin;\n        this.SuperOut = data.superout;\n        this.BigIn = data.bigin;\n        this.BigOut = data.bigout;\n        this.MidIn = data.midin;\n        this.MidOut = data.midout;\n        this.SmallIn = data.smallin; //小单流入\n        this.SmallOut = data.smallout; //小单流出\n        this.MainIn = data.mainin; //主力流入\n        this.MainOut = data.mainout; //主力流出\n        this.MainNetIn = data.mainnetin; //主力净流入\n    };\n}\n\n//资金流(多日)\nfunction CapitalFlowDaysData() {\n    this.SuperIn; //超大单流入\n    this.SuperOut; //超大单流出\n    this.BigIn; //大单流入\n    this.BigOut; //大单流出\n    this.MidIn; //中单流入\n    this.MidOut; //中单流出\n    this.SmallIn; //小单流入\n    this.SmallOut; //小单流出\n    this.MainIn; //主力流入\n    this.MainOut; //主力流出\n    this.MainNetIn; //主力净流入\n    this.MainNetInRatio; //多日日主力净流占比\n\n    this.SetData = function (data) {\n        this.SuperIn = data.superin;\n        this.SuperOut = data.superout;\n        this.BigIn = data.bigin;\n        this.BigOut = data.bigout;\n        this.MidIn = data.midin;\n        this.MidOut = data.midout;\n        this.SmallIn = data.smallin; //小单流入\n        this.SmallOut = data.smallout; //小单流出\n        this.MainIn = data.mainin; //主力流入\n        this.MainOut = data.mainout; //主力流出\n        this.MainNetIn = data.mainnetin; //主力净流入\n        this.MainNetInRatio = data.mainnetinratio;\n    };\n}\n\nfunction DDEData() {\n    this.DDX;\n    this.DDY;\n    this.DDZ;\n\n    this.SetData = function (data) {\n        this.DDX = data.ddx;\n        this.DDY = data.ddy;\n        this.DDZ = data.ddz;\n    };\n}\n\n//个股资料\nfunction CompanyData() {\n    this.Name;\n    this.Business; //主营业务\n    this.Vol; //发行量\n    this.Price; //发行价格\n    this.ReleaseDate; //上市日期\n    this.Competence; //核心竞争力\n\n    this.SetData = function (data) {\n        if (!data.company) return;\n\n        this.Name = data.company.name;\n        this.Business = data.company.business;\n        this.Vol = data.company.vol;\n        this.Price = data.company.price;\n        this.ReleaseDate = data.company.releasedate;\n        this.Competence = data.company.corecompetence;\n    };\n}\n\n//板块信息\nfunction PlateData() {\n    this.Industry; //行业分类\n    this.Region; //地区\n    this.Concept; //概念\n\n    this.SetData = function (data) {\n        this.SetIndustryData(data);\n        this.SetRegionData(data);\n        this.SetConceptData(data);\n    };\n\n    this.SetIndustryData = function (data) {\n        if (!data.industry) return;\n\n        this.Industry = [];\n        for (var i in data.industry) {\n            var item = data.industry[i];\n            this.Industry.push({ Name: item.name, Symbol: item.symbol });\n        }\n    };\n\n    this.SetRegionData = function (data) {\n        if (!data.region) return;\n\n        this.Region = [];\n        for (var i in data.region) {\n            var item = data.region[i];\n            this.Region.push({ Name: item.name, Symbol: item.symbol });\n        }\n    };\n\n    this.SetConceptData = function (data) {\n        if (!data.concept) return;\n\n        this.Concept = [];\n        for (var i in data.concept) {\n            var item = data.concept[i];\n            this.Concept.push({ Name: item.name, Symbol: item.symbol });\n        }\n    };\n}\n\n//股票属性事件,属性\nfunction EventData() {\n    this.IsMargin = false; //是否是融资融券标题\n    this.IsHK = false; //是否有港股\n    this.IsSHHK = false; //沪港通\n    this.IsSZHK = false; //深股通\n    this.STType = 0; //St标识（0：正常股票，1：st股票，2：*st股票）\n    this.HK; //港股信息 { Symbol:代码 Name:名称 }\n\n    this.SetData = function (data) {\n        if (!data.events) return;\n\n        if (!isNaN(data.events.margin)) this.IsMargin = data.events.margin == 1;\n        if (!isNaN(data.events.hk)) this.IsHK = data.events.hk == 1;\n        if (!isNaN(data.events.shhk)) this.IsSHHK = data.events.shhk == 1;\n        if (!isNaN(data.events.szhk)) this.IsSZHK = data.events.szhk == 1;\n        if (!isNaN(data.events.st)) this.STType = data.events.st;\n\n        if (this.IsHK && data.events.hksymbol && data.events.hkname) {\n            this.HK = { Symbol: data.events.hksymbol, Name: data.events.hkname };\n        }\n    };\n}\n\n//是否是指数代码(是一个单独的类，从umychart.js复制来的)\nfunction IsIndexSymbol(symbol) {\n    var upperSymbol = symbol.toUpperCase();\n    if (upperSymbol.indexOf('.SH') > 0) {\n        upperSymbol = upperSymbol.replace('.SH', '');\n        if (upperSymbol.charAt(0) == '0' && parseInt(upperSymbol) <= 3000) return true;\n    } else if (upperSymbol.indexOf('.SZ') > 0) {\n        upperSymbol = upperSymbol.replace('.SZ', '');\n        if (upperSymbol.charAt(0) == '3' && upperSymbol.charAt(1) == '9') return true;\n    } else if (upperSymbol.indexOf('.CI') > 0) //自定义指数\n        {\n            return true;\n        }\n\n    return false;\n}\n\nfunction StockData(symbol) {\n    this.Symbol = symbol; //股票代码\n    this.Name; //股票名称\n\n    //基础数据\n    this.Open; //开盘\n    this.Price; //最新\n    this.High; //最高\n    this.Low; //最低\n    this.YClose; //前收盘\n    this.Vol; //成交量\n    this.Amount; //成交金额\n    this.Date; //交易日期\n    this.Time; //交易时间\n    this.ExchangeRate; //换手率\n    this.Amplitude; //振幅\n    this.VolRatio; //量比\n\n    this.Increase; //涨幅\n    this.MaxPrice; //涨停价\n    this.MinPrice; //跌停价\n    this.RFPrice; //涨跌额 (Price-YClose)\n\n    this.IndexTop; //涨跌家数\n    this.Week; //周涨幅\n\n    this.MinuteAmplitude = {}; //1,3,5,10,15, 振幅\n    this.RiseFallSpeed = {}; //1,3,5,10,15 分钟涨速\n    this.MAmount = {}; //1,3,5,10,15 分钟成交量\n\n    this.GetBaseData = function (tagID, field) {\n        this.BaseDataTagID.add(tagID);\n        switch (field) {\n            case STOCK_FIELD_NAME.SYMBOL:\n                return this.Symbol;\n            case STOCK_FIELD_NAME.NAME:\n                return this.Name;\n            case STOCK_FIELD_NAME.OPEN:\n                return this.Open;\n            case STOCK_FIELD_NAME.PRICE:\n                return this.Price;\n            case STOCK_FIELD_NAME.YCLOSE:\n                return this.YClose;\n            case STOCK_FIELD_NAME.HIGH:\n                return this.High;\n            case STOCK_FIELD_NAME.LOW:\n                return this.Low;\n            case STOCK_FIELD_NAME.VOL:\n                return this.Vol;\n            case STOCK_FIELD_NAME.AMOUNT:\n                return this.Amount;\n            case STOCK_FIELD_NAME.DATE:\n                return this.Date;\n            case STOCK_FIELD_NAME.TIME:\n                return this.Time;\n            case STOCK_FIELD_NAME.INCREASE:\n                return this.Increase;\n            case STOCK_FIELD_NAME.EXCHANGE_RATE:\n                return this.ExchangeRate;\n            case STOCK_FIELD_NAME.AMPLITUDE:\n                return this.Amplitude;\n            case STOCK_FIELD_NAME.MAX_PRICE:\n                return this.MaxPrice;\n            case STOCK_FIELD_NAME.MIN_PRICE:\n                return this.MinPrice;\n            case STOCK_FIELD_NAME.RISE_FALL_PRICE:\n                return this.RFPrice;\n            case STOCK_FIELD_NAME.VOLRATIO:\n                return this.VolRatio;\n\n            case STOCK_FIELD_NAME.INDEXTOP:\n                return this.IndexTop;\n            case STOCK_FIELD_NAME.WEEK:\n                return this.Week;\n        }\n    };\n\n    this.Heat; //热度\n    //获取热度数据,不要直接使用变量获取\n    this.GetHeatData = function (tagID) {\n        this.HeatTagID.add(tagID);\n        return this.Heat;\n    };\n\n    //成分排序\n    this.Sort = new _map2.default(); //key=排序字段-排序方式 value=SortData 一个控件之能有1个排序规则\n    this.GetSortData = function (tagID, field, order) {\n        var key = field.toString() + '-' + order.toString();\n        if (!this.Sort.has(key)) {\n            var data = new SortData(field, order, tagID);\n            this.Sort.set(key, data);\n            return data;\n        }\n\n        var data = this.Sort.get(key);\n        data.TagID.add(tagID);\n        return data;\n    };\n\n    this.Buy5; //五档买\n    this.GetBuy5 = function (tagID) {\n        this.BuySellTagID.add(tagID);\n        return this.Buy5;\n    };\n\n    this.Sell5; //五档卖\n    this.GetSell5 = function (tagID) {\n        this.BuySellTagID.add(tagID);\n        return this.Sell5;\n    };\n\n    this.Deal; //分笔 最新10条\n    this.GetDeal = function (tagID) {\n        this.DealTagID.add(tagID);\n        return this.Deal;\n    };\n\n    this.MarketValue; //总市值\n    this.FlowMarketValue; //流通市值\n    this.Bookrate; //委比\n    this.Bookdiffer; //委差\n    this.PE; //市盈率\n    this.PE2; //市盈率（TTM）\n    this.PE3; //市盈率（动）\n    this.PB;\n    this.GetDerivative = function (tagID, field) {\n        this.DerivativeTagID.add(tagID);\n\n        switch (field) {\n            case STOCK_FIELD_NAME.MARKET_VALUE:\n                return this.MarketValue;\n            case STOCK_FIELD_NAME.FLOW_MARKET_VALUE:\n                return this.FlowMarketValue;\n            case STOCK_FIELD_NAME.BOOK_RATE:\n                return this.Bookrate;\n            case STOCK_FIELD_NAME.BOOK_DIFFER:\n                return this.Bookdiffer;\n            case STOCK_FIELD_NAME.PE:\n                return this.PE;\n            case STOCK_FIELD_NAME.PE2:\n                return this.PE2;\n            case STOCK_FIELD_NAME.PE3:\n                return this.PE3;\n            case STOCK_FIELD_NAME.PB:\n                return this.PB;\n        }\n    };\n\n    this.Finance; //财务数据     \n    this.GetFinance = function (tagID, field) {\n        if (!this.Finance) //只请求一次\n            {\n                this.FinanceTagID.add(tagID);\n                return null;\n            }\n\n        switch (field) {\n            case STOCK_FIELD_NAME.ROE:\n                return this.Finance.ROE;\n            case STOCK_FIELD_NAME.FINANCE_DATE:\n                return this.Finance.Date;\n            case STOCK_FIELD_NAME.FINANCE_PERSEARNING:\n                return this.Finance.PerSEarning;\n            case STOCK_FIELD_NAME.FINANCE_PERNETASSET:\n                return this.Finance.PerNetAsset;\n            case STOCK_FIELD_NAME.FINANCE_NPROFIT:\n                return this.Finance.NProfit;\n            case STOCK_FIELD_NAME.FINANCE_NPROFITINCREASE:\n                return this.Finance.NProfitIncrease;\n            case STOCK_FIELD_NAME.FINANCE_NNETPROFIT:\n                return this.Finance.NnetProfit;\n            case STOCK_FIELD_NAME.FINANCE_NNPROFITINCREASE:\n                return this.Finance.NnProfitIncrease;\n            case STOCK_FIELD_NAME.FINANCE_NNPROFITSPEED:\n                return this.Finance.NnProfitSpeed;\n            case STOCK_FIELD_NAME.FINANCE_EPS:\n                return this.Finance.EPS;\n            case STOCK_FIELD_NAME.FINANCE_BENFORD:\n                return this.Finance.Benford;\n        }\n    };\n\n    this.Capital; //股本\n    this.GetCapital = function (tagID, field) {\n        if (!this.Capital) //只请求一次\n            {\n                this.CapitalTagID.add(tagID);\n                return null;\n            }\n\n        switch (field) {\n            case STOCK_FIELD_NAME.CAPITAL_TOTAL:\n                return this.Capital.Total;\n            case STOCK_FIELD_NAME.CAPITAL_A:\n                return this.Capital.A;\n            case STOCK_FIELD_NAME.CAPTIAL_ARATE:\n                return this.Capital.ARate;\n        }\n    };\n\n    //资金流\n    this.CapitalFlowDay;\n    this.CapitalFlowDay3;\n    this.CapitalFlowDay5;\n    this.CapitalFlowDay10;\n    this.GetCapitalFlowDay = function (tagID, field) {\n        var data = null;\n        switch (field) {\n            case STOCK_FIELD_NAME.CAPITAL_FLOW_DAY:\n                this.CapitalFlowDayID.add(tagID);\n                if (this.CapitalFlowDay) data = this.CapitalFlowDay;\n                break;\n            case STOCK_FIELD_NAME.CAPITAL_FLOW_DAY3:\n                this.CapitalFlowDay3ID.add(tagID);\n                if (this.CapitalFlowDay3) data = this.CapitalFlowDay3;\n                break;\n            case STOCK_FIELD_NAME.CAPITAL_FLOW_DAY5:\n                this.CapitalFlowDay5ID.add(tagID);\n                if (this.CapitalFlowDay5) data = this.CapitalFlowDay5;\n                break;\n            case STOCK_FIELD_NAME.CAPITAL_FLOW_DAY10:\n                this.CapitalFlowDay10ID.add(tagID);\n                if (this.CapitalFlowDay10) data = this.CapitalFlowDay10;\n                break;\n        }\n        return data;\n    };\n\n    //资金流 DDE\n    this.DDE;\n    this.DDE3;\n    this.DDE5;\n    this.DDE10;\n    this.GetDDE = function (tagID, field) {\n        var data = null;\n        switch (field) {\n            case STOCK_FIELD_NAME.DDE:\n                this.DDEID.add(tagID);\n                if (this.DDE) data = this.DDE;\n                break;\n            case STOCK_FIELD_NAME.DDE3:\n                this.DDE3ID.add(tagID);\n                if (this.DDE3) data = this.DDE3;\n                break;\n            case STOCK_FIELD_NAME.DDE5:\n                this.DDE5ID.add(tagID);\n                if (this.DDE5) data = this.DDE5;\n                break;\n            case STOCK_FIELD_NAME.DDE10:\n                this.DDE10ID.add(tagID);\n                if (this.DDE10) data = this.DDE10;\n                break;\n        }\n        return data;\n    };\n\n    this.Event; //事件 属性\n    this.GetEvent = function (tagID, field) {\n        if (!this.Event) {\n            this.EventTagID.add(tagID);\n            return null;\n        }\n\n        return this.Event;\n    };\n\n    //个股资料\n    this.Company; //个股资料\n    this.GetCompany = function (tagID, field) {\n        if (!this.Company) //只请求一次\n            {\n                this.CompanyTagID.add(tagID);\n                return null;\n            }\n\n        switch (field) {\n            case STOCK_FIELD_NAME.COMPANY_NAME:\n                return this.Company.Name;\n            case STOCK_FIELD_NAME.COMPANY_BUSINESS:\n                return this.Company.Business;\n            case STOCK_FIELD_NAME.COMPANY_VOL:\n                return this.Company.Vol;\n            case STOCK_FIELD_NAME.COMPANY_PRICE:\n                return this.Company.Price;\n            case STOCK_FIELD_NAME.COMPANY_RELEASEDATE:\n                return this.Company.ReleaseDate;\n            case STOCK_FIELD_NAME.COMPANY_COMPETENCE:\n                return this.Company.Competence;\n        }\n    };\n\n    this.Plate; //板块\n    this.GetPlate = function (tagID, field) {\n        if (!this.Plate) //只请求一次\n            {\n                this.PlateTagID.add(tagID);\n                return null;\n            }\n\n        switch (field) {\n            case STOCK_FIELD_NAME.PLATE_INDUSTRY:\n                return this.Plate.Industry;\n            case STOCK_FIELD_NAME.PLATE_CONCEPT:\n                return this.Plate.Concept;\n            case STOCK_FIELD_NAME.PLATE_REGION:\n                return this.Plate.Region;\n        }\n    };\n\n    this.TagID = new _set2.default(); //绑定的控件id\n    this.BaseDataTagID = new _set2.default(); //基础数据的控件id\n    this.HeatTagID = new _set2.default(); //需要热度的控件id\n    this.BuySellTagID = new _set2.default(); //买卖盘的控件id\n    this.DealTagID = new _set2.default(); //分笔的控件id\n    this.DerivativeTagID = new _set2.default(); //衍生数据\n    this.FinanceTagID = new _set2.default(); //财务数据 (就请求1次)\n    this.CapitalTagID = new _set2.default(); //股本数据 (就请求1次)\n\n    this.CapitalFlowDayID = new _set2.default(); //当日资金流\n    this.CapitalFlowDay3ID = new _set2.default(); //3日资金流\n    this.CapitalFlowDay5ID = new _set2.default(); //5日资金流\n    this.CapitalFlowDay10ID = new _set2.default(); //10日资金流\n    this.DDEID = new _set2.default();\n    this.DDE3ID = new _set2.default();\n    this.DDE5ID = new _set2.default();\n    this.DDE10ID = new _set2.default();\n    this.EventTagID = new _set2.default(); //股票事件/属性\n    this.CompanyTagID = new _set2.default(); //个股资料 (就请求1次)\n    this.PlateTagID = new _set2.default(); //板块 概念 地区\n\n    this.AttachTagID = function (id) {\n        this.TagID.add(id);\n    };\n\n    this.ClearTagID = function () {\n        this.TagID.clear();\n        this.BaseDataTagID.clear();\n        this.HeatTagID.clear();\n        this.BuySellTagID.clear();\n        this.DealTagID.clear();\n        this.DerivativeTagID.clear();\n        this.FinanceTagID.clear();\n        this.CapitalTagID.clear();\n\n        this.CapitalFlowDayID.clear();\n        this.CapitalFlowDay3ID.clear();\n        this.CapitalFlowDay5ID.clear();\n        this.CapitalFlowDay10ID.clear();\n\n        this.DDEID.clear();\n        this.DDE3ID.clear();\n        this.DDE5ID.clear();\n        this.DDE10ID.clear();\n\n        this.EventTagID.clear();\n        this.CompanyTagID.clear();\n\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n            for (var _iterator = (0, _getIterator3.default)(this.Sort), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                var item = _step.value;\n\n                item[1].TagID.clear();\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                }\n            } finally {\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n    };\n\n    this.RemoveTagID = function (id) {\n        this.TagID.delete(id);\n        this.BaseDataTagID.delete(id);\n        this.HeatTagID.delete(id);\n        this.BuySellTagID.delete(id);\n        this.DealTagID.delete(id);\n        this.DerivativeTagID.delete(id);\n        this.FinanceTagID.delete(id);\n        this.CapitalTagID.delete(id);\n\n        this.CapitalFlowDayID.delete(id);\n        this.CapitalFlowDay3ID.delete(id);\n        this.CapitalFlowDay5ID.delete(id);\n        this.CapitalFlowDay10ID.delete(id);\n\n        this.DDEID.delete(id);\n        this.DDE3ID.delete(id);\n        this.DDE5ID.delete(id);\n        this.DDE10ID.delete(id);\n\n        this.EventTagID.delete(id);\n        this.CompanyTagID.delete(id);\n\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n            for (var _iterator2 = (0, _getIterator3.default)(this.Sort), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                var item = _step2.value;\n\n                item[1].TagID.delete(id);\n            }\n        } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                    _iterator2.return();\n                }\n            } finally {\n                if (_didIteratorError2) {\n                    throw _iteratorError2;\n                }\n            }\n        }\n    };\n\n    //设置基础数据\n    this.SetBaseData = function (data) {\n        this.Name = data.name;\n        this.YClose = data.yclose;\n        this.Price = data.price;\n        this.High = data.high;\n        this.Low = data.low;\n        this.Open = data.open;\n        this.Vol = data.vol;\n        this.Amount = data.amount;\n        this.Date = data.date;\n        this.Time = data.time;\n        this.Increase = data.increase;\n        if (!isNaN(data.exchangerate)) this.ExchangeRate = data.exchangerate;\n        if (!isNaN(data.amplitude)) this.Amplitude = data.amplitude;\n        if (!isNaN(data.volratio)) this.VolRatio = data.volratio;\n\n        if (this.Name.indexOf('ST') >= 0) {\n            this.MaxPrice = (1 + 0.05) * this.Open;\n            this.MinPrice = (1 - 0.05) * this.Open;\n        } else {\n            this.MaxPrice = (1 + 0.1) * this.Open;\n            this.MinPrice = (1 - 0.1) * this.Open;\n        }\n\n        if (this.Price && this.YClose) this.RFPrice = this.Price - this.YClose;\n\n        //周涨幅\n        if (data.week) {\n            this.Week = {};\n            this.Week.Week1 = data.week.week1;\n            this.Week.Week4 = data.week.week4;\n            this.Week.Week13 = data.week.week13;\n            this.Week.Week26 = data.week.week26;\n            this.Week.Week52 = data.week.week52;\n        }\n    };\n\n    this.SetDerivativeData = function (data) {\n        this.MarketValue = data.marketvalue; //总市值\n        this.FlowMarketValue = data.flowmarketvalue; //流通市值\n        this.Bookrate = data.bookrate; //委比\n        this.Bookdiffer = data.bookdiffer; //委差\n        this.PE = data.pe; //市盈率\n        this.PE2 = data.pe2; //市盈率\n        this.PE3 = data.pe3; //市盈率\n        this.PB = data.pb; //市净率\n    };\n\n    this.SetFinanceData = function (data) {\n        console.log(data);\n        if (!data.finance) return;\n\n        this.Finance = new FinanceData();\n        this.Finance.SetData(data);\n    };\n\n    this.SetCapitalData = function (data) {\n        if (!data.capital) return;\n\n        this.Capital = new CapitalData();\n        this.Capital.SetData(data);\n    };\n\n    //指数基础数据\n    this.SetIndexBaseData = function (data) {\n        this.SetBaseData(data);\n\n        var topData = new IndexTopData();\n        if (data.indextop) {\n            topData.Up = data.indextop.up;\n            topData.Down = data.indextop.down;\n            topData.Unchanged = data.indextop.unchanged;\n            topData.Stop = data.indextop.stop;\n\n            topData.UpStock.Symbol = data.indextop.upstock.symbol;\n            topData.UpStock.Name = data.indextop.upstock.name;\n\n            topData.DownStock.Symbol = data.indextop.downstock.symbol;\n            topData.DownStock.Name = data.indextop.downstock.name;\n        }\n\n        this.IndexTop = topData;\n    };\n\n    //五档买卖盘\n    this.SetBuySellData = function (data) {\n        this.SetBaseData(data);\n        this.Buy5 = new Array();\n        this.Sell5 = new Array();\n\n        for (var i in data.buy) {\n            var item = data.buy[i];\n\n            this.Buy5.push({ \"Price\": item.price, \"Vol\": item.vol });\n        }\n\n        for (var i in data.sell) {\n            var item = data.sell[i];\n            this.Sell5.push({ \"Price\": item.price, \"Vol\": item.vol });\n        }\n    };\n\n    //分笔\n    this.SetDealData = function (data) {\n        this.Price = data.price;\n        this.High = data.high;\n        this.Low = data.low;\n        this.Vol = data.vol;\n        this.Amount = data.amount;\n        this.Date = data.date;\n        this.Time = data.time;\n        this.Increase = data.increase;\n\n        this.Deal = new Array();\n        for (var i in data.deal) {\n            var item = data.deal[i];\n            if (isNaN(item.price) || isNaN(item.time)) continue;\n            var bs = '';\n            if (item.bs === 0) bs = 'B';else if (item.bs === 1) bs = 'S';\n            this.Deal.push({ \"Price\": item.price, \"Amount\": item.amount, \"Vol\": item.vol, \"Time\": item.time, 'BS': bs });\n        }\n    };\n\n    //热度\n    this.SetHeatData = function (data) {\n        var heatData = new IndexHeatData();\n        heatData.Good = data.quadrant.good;\n        heatData.GoodIncrease.Day1 = data.quadrant.gincrease.day1;\n        heatData.GoodIncrease.Week1 = data.quadrant.gincrease.week1;\n        heatData.GoodIncrease.Week4 = data.quadrant.gincrease.week4;\n\n        this.Heat = heatData;\n    };\n\n    this.SetCapitalFlowDayData = function (data, datatype) {\n        if (!data) return;\n\n        switch (datatype) {\n            case RECV_DATA_TYPE.CAPITAL_FLOW_DAY_DATA:\n                this.CapitalFlowDay = new CapitalFlowDayData();\n                this.CapitalFlowDay.SetData(data);\n                break;\n            case RECV_DATA_TYPE.CAPITAL_FLOW_DAY3_DATA:\n                this.CapitalFlowDay3 = new CapitalFlowDaysData();\n                this.CapitalFlowDay3.SetData(data);\n                break;\n            case RECV_DATA_TYPE.CAPITAL_FLOW_DAY5_DATA:\n                this.CapitalFlowDay5 = new CapitalFlowDaysData();\n                this.CapitalFlowDay5.SetData(data);\n                break;\n            case RECV_DATA_TYPE.CAPITAL_FLOW_DAY10_DATA:\n                this.CapitalFlowDay10 = new CapitalFlowDaysData();\n                this.CapitalFlowDay10.SetData(data);\n                break;\n        }\n    };\n\n    this.SetDDE = function (data, datatype) {\n        if (!data) return;\n\n        switch (datatype) {\n            case RECV_DATA_TYPE.DDE_DAY_DATA:\n                this.DDE = new DDEData();\n                this.DDE.SetData(data);\n                break;\n            case RECV_DATA_TYPE.DDE_DAY3_DATA:\n                this.DDE3 = new DDEData();\n                this.DDE3.SetData(data);\n                break;\n            case RECV_DATA_TYPE.DDE_DAY5_DATA:\n                this.DDE5 = new DDEData();\n                this.DDE5.SetData(data);\n                break;\n            case RECV_DATA_TYPE.DDE_DAY10_DATA:\n                this.DDE10 = new DDEData();\n                this.DDE10.SetData(data);\n                break;\n        }\n        return data;\n    };\n\n    this.SetEventData = function (data) {\n        if (!data.events) return;\n\n        this.Event = new EventData();\n        this.Event.SetData(data);\n    };\n\n    this.SetCompanyData = function (data) {\n        if (!data.company) return;\n\n        this.Company = new CompanyData();\n        this.Company.SetData(data);\n    };\n\n    this.SetPlateData = function (data) {\n        if (!data.industry && !data.region && !data.concept) return;\n\n        this.Plate = new PlateData();\n        this.Plate.SetData(data);\n    };\n    //所有数据\n    this.SetData = function (data) {\n        if (data.name) this.Name = data.name;\n        if (!isNaN(data.yclose)) this.YClose = data.yclose;\n        if (!isNaN(data.price)) this.Price = data.price;\n        if (!isNaN(data.high)) this.High = data.high;\n        if (!isNaN(data.low)) this.Low = data.low;\n        if (!isNaN(data.vol)) this.Vol = data.vol;\n        if (!isNaN(data.amount)) this.Amount = data.amount;\n        if (!isNaN(data.date)) this.Date = data.date;\n        if (!isNaN(data.time)) this.Time = data.time;\n        if (!isNaN(data.increase)) this.Increase = data.increase;\n\n        if (!isNaN(data.marketvalue)) this.MarketValue = data.marketvalue; //总市值\n        if (!isNaN(data.flowmarketvalue)) this.FlowMarketValue = data.flowmarketvalue; //流通市值\n        if (!isNaN(data.bookrate)) this.Bookrate = data.bookrate; //委比\n        if (!isNaN(data.bookdiffer)) this.Bookdiffer = data.bookdiffer; //委差\n        if (!isNaN(data.pe)) this.PE = data.pe;\n        if (!isNaN(data.pb)) this.PB = data.pb;\n\n        if (data.finance) this.SetFinanceData(data);\n        if (data.finance) this.SetFinanceDetailData(data);\n        if (data.capital) this.SetCapitalData(data);\n\n        if (data.mamplitude) {\n            if (!isNaN(data.mamplitude[1])) this.MinuteAmplitude.M1 = data.mamplitude[1];\n            if (!isNaN(data.mamplitude[3])) this.MinuteAmplitude.M3 = data.mamplitude[3];\n            if (!isNaN(data.mamplitude[5])) this.MinuteAmplitude.M5 = data.mamplitude[5];\n            if (!isNaN(data.mamplitude[10])) this.MinuteAmplitude.M10 = data.mamplitude[10];\n            if (!isNaN(data.mamplitude[15])) this.MinuteAmplitude.M15 = data.mamplitude[15];\n        }\n\n        if (data.risefallspeed) {\n            if (!isNaN(data.risefallspeed[1])) this.RiseFallSpeed.M1 = data.risefallspeed[1];\n            if (!isNaN(data.risefallspeed[3])) this.RiseFallSpeed.M3 = data.risefallspeed[3];\n            if (!isNaN(data.risefallspeed[5])) this.RiseFallSpeed.M5 = data.risefallspeed[5];\n            if (!isNaN(data.risefallspeed[10])) this.RiseFallSpeed.M10 = data.risefallspeed[10];\n            if (!isNaN(data.risefallspeed[15])) this.RiseFallSpeed.M15 = data.risefallspeed[15];\n        }\n\n        if (data.mamount) {\n            if (!isNaN(data.mamount[1])) this.MAmount.M1 = data.mamount[1];\n            if (!isNaN(data.mamount[3])) this.MAmount.M5 = data.mamount[3];\n            if (!isNaN(data.mamount[5])) this.MAmount.M5 = data.mamount[5];\n            if (!isNaN(data.mamount[10])) this.MAmount.M10 = data.mamount[10];\n            if (!isNaN(data.mamount[15])) this.MAmount.M15 = data.mamount[15];\n        }\n\n        //if (data.pledge) this.SetPledgeData(data);\n        //if (data.year) this.SetYearData(data);\n    };\n}\n\n/////////////////////////////////////////////////////////////////////////////////////\n//\n//\n\n//股票字段枚举\nvar STOCK_FIELD_NAME = {\n    SYMBOL: 0,\n    NAME: 1,\n    OPEN: 2,\n    PRICE: 3,\n    HIGH: 4,\n    LOW: 5,\n    YCLOSE: 6,\n    VOL: 7, //成交量\n    AMOUNT: 8, //成交金额\n    DATE: 9,\n    TIME: 10,\n    INCREASE: 11,\n    BUY5: 12, //5档买\n    SELL5: 13, //5挡卖\n    DEAL: 14, //分笔\n    AMPLITUDE: 15, //振幅\n\n    MARKET_VALUE: 16, //总市值\n    FLOW_MARKET_VALUE: 17, //流通市值\n\n    BOOK_RATE: 18, //委比\n    BOOK_DIFFER: 19, //委差\n\n    PE: 20, //市盈率=股价/滚动EPS\n    PB: 21, //市净率=股价/每股净资产\n    EXCHANGE_RATE: 23, //换手率\n\n    //财务数据\n    ROE: 24, //净资产收益率\n    FINANCE_DATE: 25, //报告日期\n    FINANCE_PERSEARNING: 26, //每股收益\n    FINANCE_PERNETASSET: 27, //每股净资产\n\n    FINANCE_NPROFIT: 28, //净利润\n    FINANCE_NPROFITINCREASE: 29, //净利润涨幅 （当年净利润-上一年）/上一年*100\n\n    FINANCE_NNETPROFIT: 30, //扣非净利润\n    FINANCE_NNPROFITINCREASE: 31, //扣非净利润涨幅  （当年扣非净利润-上一年）/上一年*100\n    FINANCE_NNPROFITSPEED: 32, //扣非净利润涨速（当前扣非净利润/上一年-1）/（上一年/上上年-1）\n    FINANCE_EPS: 33, //滚动EPS\n\n    MAX_PRICE: 34, //涨停价\n    MIN_PRICE: 35, //跌停价\n    RISE_FALL_PRICE: 36, //涨跌额\n\n    FINANCE_BENFORD: 37, //财务粉饰\n\n    //1，3，5 ，10，15 分钟涨速\n    RISEFALLSPEED_1: 38,\n    RISEFALLSPEED_3: 39,\n    RISEFALLSPEED_5: 40,\n    RISEFALLSPEED_10: 41,\n    RISEFALLSPEED_15: 42,\n\n    //1，3，5 ，10，15 振幅\n    MINUTE_AMPLITUDE_1: 43,\n    MINUTE_AMPLITUDE_3: 44,\n    MINUTE_AMPLITUDE_5: 45,\n    MINUTE_AMPLITUDE_10: 46,\n    MINUTE_AMPLITUDE_15: 47,\n\n    //1，3，5 ，10，15 分钟 成交金额\n    MINUTE_AMOUNT_1: 48,\n    MINUTE_AMOUNT_3: 49,\n    MINUTE_AMOUNT_5: 50,\n    MINUTE_AMOUNT_10: 51,\n    MINUTE_AMOUNT_15: 52,\n\n    //个股资料\n    COMPANY_NAME: 53, //公司全称\n    PLATE_INDUSTRY: 54, //所属行业\n    PLATE_CONCEPT: 55, //概念\n    PLATE_REGION: 56, //地区\n    COMPANY_BUSINESS: 57,\n    COMPANY_VOL: 58,\n    COMPANY_PRICE: 59,\n    COMPANY_RELEASEDATE: 60,\n    COMPANY_COMPETENCE: 61,\n    CAPITAL_FLOW_DAY: 67, //当日资金流\n    CAPITAL_FLOW_DAY3: 68, //3日资金流\n    CAPITAL_FLOW_DAY5: 69, //5日资金流\n    CAPITAL_FLOW_DAY10: 70, //10日资金流\n    DDE: 71,\n    DDE3: 72,\n    DDE5: 73,\n    DDE10: 74,\n\n    //股票属性|事件 包含\n    //      融资融券标,\n    //      港股,\n    //      沪港通,\n    //      St标识 0：正常股票，1：st股票，2：*st股票\n    EVENTS: 75,\n\n    CAPITAL_A: 76, //流通A股\n    CAPITAL_TOTAL: 77, //总股本\n    CAPTIAL_ARATE: 78, //流通A股占比\n\n    VOLRATIO: 79, //量比\n    PE2: 80, //市盈率（TTM）\n    PE3: 81, //市盈率（动）\n\n\n    INDEXTOP: 100,\n    WEEK: 101,\n    HEAT: 102\n};\n\nvar StockDataFieldName = {\n    m_mapFiled: new _map2.default([[STOCK_FIELD_NAME.NAME, \"name\"], [STOCK_FIELD_NAME.SYMBOL, 'symbol'], [STOCK_FIELD_NAME.PRICE, 'price'], [STOCK_FIELD_NAME.INCREASE, 'increase'], [STOCK_FIELD_NAME.PE, 'pe'], [STOCK_FIELD_NAME.FINANCE_BENFORD, 'finance.benford'], [STOCK_FIELD_NAME.YCLOSE, 'yclose'],\n\n    //1，3，5 ，10，15 分钟涨速\n    [STOCK_FIELD_NAME.RISEFALLSPEED_1, 'risefallspeed.1'], [STOCK_FIELD_NAME.RISEFALLSPEED_3, 'risefallspeed.3'], [STOCK_FIELD_NAME.RISEFALLSPEED_5, 'risefallspeed.5'], [STOCK_FIELD_NAME.RISEFALLSPEED_10, 'risefallspeed.10'], [STOCK_FIELD_NAME.RISEFALLSPEED_15, 'risefallspeed.15'],\n\n    //1，3，5 ，10，15 振幅\n    [STOCK_FIELD_NAME.MINUTE_AMPLITUDE_1, 'mamplitude.1'], [STOCK_FIELD_NAME.MINUTE_AMPLITUDE_3, 'mamplitude.3'], [STOCK_FIELD_NAME.MINUTE_AMPLITUDE_5, 'mamplitude.5'], [STOCK_FIELD_NAME.MINUTE_AMPLITUDE_10, 'mamplitude.10'], [STOCK_FIELD_NAME.MINUTE_AMPLITUDE_15, 'mamplitude.15'],\n\n    //1，3，5 ，10，15 分钟 成交金额\n    [STOCK_FIELD_NAME.MINUTE_AMOUNT_1, 'mamount.1'], [STOCK_FIELD_NAME.MINUTE_AMOUNT_3, 'mamount.3'], [STOCK_FIELD_NAME.MINUTE_AMOUNT_5, 'mamount.5'], [STOCK_FIELD_NAME.MINUTE_AMOUNT_10, 'mamount.10'], [STOCK_FIELD_NAME.MINUTE_AMOUNT_15, 'mamount.15']]),\n\n    GetFieldName: function GetFieldName(fieldID) {\n        if (!this.m_mapFiled.has(fieldID)) return null;\n\n        return this.m_mapFiled.get(fieldID);\n    }\n};\n\nfunction StockRead(stock, tagID) {\n    this.JSStock = stock;\n    this.TagID = tagID;\n\n    this.Get = function (symbol, field) {\n        var data = stock.Get(symbol, this.TagID);\n        if (!data) return null;\n\n        switch (field) {\n            case STOCK_FIELD_NAME.SYMBOL:\n            case STOCK_FIELD_NAME.NAME:\n            case STOCK_FIELD_NAME.OPEN:\n            case STOCK_FIELD_NAME.PRICE:\n            case STOCK_FIELD_NAME.YCLOSE:\n            case STOCK_FIELD_NAME.HIGH:\n            case STOCK_FIELD_NAME.LOW:\n            case STOCK_FIELD_NAME.VOL:\n            case STOCK_FIELD_NAME.AMOUNT:\n            case STOCK_FIELD_NAME.DATE:\n            case STOCK_FIELD_NAME.TIME:\n            case STOCK_FIELD_NAME.INCREASE:\n            case STOCK_FIELD_NAME.EXCHANGE_RATE:\n            case STOCK_FIELD_NAME.AMPLITUDE:\n            case STOCK_FIELD_NAME.MAX_PRICE:\n            case STOCK_FIELD_NAME.MIN_PRICE:\n            case STOCK_FIELD_NAME.RISE_FALL_PRICE:\n            case STOCK_FIELD_NAME.INDEXTOP:\n            case STOCK_FIELD_NAME.WEEK:\n            case STOCK_FIELD_NAME.VOLRATIO:\n                return data.GetBaseData(this.TagID, field);\n\n            case STOCK_FIELD_NAME.HEAT:\n                return data.GetHeatData(this.TagID);\n            case STOCK_FIELD_NAME.BUY5:\n                return data.GetBuy5(this.TagID);\n            case STOCK_FIELD_NAME.SELL5:\n                return data.GetSell5(this.TagID);\n            case STOCK_FIELD_NAME.DEAL:\n                return data.GetDeal(this.TagID);\n\n            //实时计算的衍生数据\n            case STOCK_FIELD_NAME.MARKET_VALUE:\n            case STOCK_FIELD_NAME.FLOW_MARKET_VALUE:\n            case STOCK_FIELD_NAME.BOOK_RATE:\n            case STOCK_FIELD_NAME.BOOK_DIFFER:\n            case STOCK_FIELD_NAME.PE:\n            case STOCK_FIELD_NAME.PE2:\n            case STOCK_FIELD_NAME.PE3:\n            case STOCK_FIELD_NAME.PB:\n                return data.GetDerivative(this.TagID, field);\n\n            //财务数据\n            case STOCK_FIELD_NAME.ROE:\n            case STOCK_FIELD_NAME.FINANCE_DATE:\n            case STOCK_FIELD_NAME.FINANCE_PERSEARNING:\n            case STOCK_FIELD_NAME.FINANCE_PERNETASSET:\n            case STOCK_FIELD_NAME.FINANCE_NPROFIT:\n            case STOCK_FIELD_NAME.FINANCE_NPROFITINCREASE:\n            case STOCK_FIELD_NAME.FINANCE_NNETPROFIT:\n            case STOCK_FIELD_NAME.FINANCE_NNPROFITINCREASE:\n            case STOCK_FIELD_NAME.FINANCE_NNPROFITSPEED:\n            case STOCK_FIELD_NAME.FINANCE_EPS:\n            case STOCK_FIELD_NAME.FINANCE_BENFORD:\n                return data.GetFinance(this.TagID, field);\n\n            //行业分类\n            case STOCK_FIELD_NAME.PLATE_INDUSTRY:\n            case STOCK_FIELD_NAME.PLATE_CONCEPT:\n            case STOCK_FIELD_NAME.PLATE_REGION:\n                return data.GetPlate(this.TagID, field);\n\n            //资金流 \n            case STOCK_FIELD_NAME.CAPITAL_FLOW_DAY:\n            case STOCK_FIELD_NAME.CAPITAL_FLOW_DAY3:\n            case STOCK_FIELD_NAME.CAPITAL_FLOW_DAY5:\n            case STOCK_FIELD_NAME.CAPITAL_FLOW_DAY10:\n                return data.GetCapitalFlowDay(this.TagID, field);\n\n            //资金流 DDE\n            case STOCK_FIELD_NAME.DDE:\n            case STOCK_FIELD_NAME.DDE3:\n            case STOCK_FIELD_NAME.DDE5:\n            case STOCK_FIELD_NAME.DDE10:\n                return data.GetDDE(this.TagID, field);\n\n            //事件/属性\n            case STOCK_FIELD_NAME.EVENTS:\n                return data.GetEvent(this.TagID, field);\n            //个股资料\n            case STOCK_FIELD_NAME.COMPANY_NAME:\n            case STOCK_FIELD_NAME.COMPANY_BUSINESS:\n            case STOCK_FIELD_NAME.COMPANY_VOL:\n            case STOCK_FIELD_NAME.COMPANY_PRICE:\n            case STOCK_FIELD_NAME.COMPANY_RELEASEDATE:\n            case STOCK_FIELD_NAME.COMPANY_COMPETENCE:\n                return data.GetCompany(this.TagID, field);\n            //股本\n            case STOCK_FIELD_NAME.CAPITAL_A:\n            case STOCK_FIELD_NAME.CAPTIAL_ARATE:\n            case STOCK_FIELD_NAME.CAPITAL_TOTAL:\n                return data.GetCapital(this.TagID, field);\n            default:\n                return null;\n        }\n    };\n\n    //symbol=指数或板块  field=排序字段  order=排序方式\n    this.GetSort = function (symbol, field, order) {\n        var data = stock.Get(symbol, this.TagID);\n        if (data == null) return data;\n\n        return data.GetSortData(this.TagID, field, order);\n    };\n\n    //读取完成 isUpdate 是否马上更新数据\n    this.EndRead = function (isUpdate) {\n        if (isUpdate == true) this.JSStock.ReqeustData();\n    };\n\n    //批量设置查询数据字段\n    this.SetQueryField = function (symbol, aryField) {\n        for (var i in aryField) {\n            this.Get(symbol, aryField[i]);\n        }\n    };\n}\n\n//历史数据  个股财务粉饰 || 大宗交易 || 股东减持 || 限售解禁 || 业绩预告 || 空头指标\nfunction JSStockHistory() {\n    this.Symbol;\n    this.Callback; //UI回调\n    this.Order = -1; //排序方向\n    this.SortField; //排序字段\n    this.Field; //返回字段\n    this.Plate; //全市场\n    this.Data = new _map2.default(); //数据\n    this.ApiUrl = g_JSStockResource.Domain + \"/API/StockHistoryDay\";\n    this.PageSize = 20; //一页请求10调数据\n    this.PageIndex = 1;\n    this.Count; //数据总数\n    this.currentData = null; //请求入参\n\n\n    this.RequsetData = function (condition, condition2) {\n        var self = this;\n        var currentSymbol = typeof self.Symbol == \"string\" ? [this.Symbol] : this.Symbol;\n        var currentSymbolLength = currentSymbol ? currentSymbol.length : 0;\n\n        if (this.Plate) {\n            this.currentData = {\n                \"plate\": this.Plate, //[\"CNA.ci\"],\n                \"symbol\": currentSymbol,\n                \"start\": 0,\n                \"end\": this.PageSize,\n                \"field\": this.Field,\n                \"orderfield\": this.SortField,\n                \"order\": this.Order,\n                \"condition\": condition.GetQuery(),\n                \"condition2\": condition2 ? condition2.GetQuery() : []\n            };\n        } else {\n            this.currentData = {\n                \"symbol\": currentSymbol,\n                \"start\": 0,\n                \"end\": currentSymbolLength,\n                \"field\": this.Field,\n                \"orderfield\": this.SortField,\n                \"order\": this.Order,\n                \"condition\": condition.GetQuery(),\n                \"condition2\": condition2 ? condition2.GetQuery() : []\n            };\n        }\n\n        _jquery2.default.ajax({\n            url: this.ApiUrl,\n            data: self.currentData,\n            method: 'POST',\n\n            dataType: 'json',\n            success: function success(data) {\n                self.Count = data.data.count;\n                self.RecvData(data, condition);\n            },\n            fail: function fail(request) {\n                self.RecvError(request, condition);\n            }\n        });\n    };\n\n    this.GetNextPage = function () {\n        var self = this;\n\n        if (this.PageSize * this.PageIndex < this.Count) {\n            this.currentData.start = this.PageSize * this.PageIndex;\n            this.PageIndex++;\n            this.currentData.end = this.PageSize * this.PageIndex;\n\n            _jquery2.default.ajax({\n                url: this.ApiUrl,\n                data: self.currentData,\n                method: 'POST',\n                dataType: 'json',\n                success: function success(data) {\n                    self.RecvData(data);\n                },\n                fail: function fail(request) {\n                    self.RecvError(request);\n                }\n            });\n        } else {\n            alert(\"数据已全部加载\");\n            // wx.showToast({\n            //     title: \"数据已全部加载\",\n            //     icon: 'success',\n            //     duration: 1000\n            // })\n        }\n    };\n\n    //结果处理  个股财务粉饰\n    this.RecvData = function (recvData, condition) {\n        var data = recvData.data;\n        for (var i in data.stock) {\n            var item = data.stock[i];\n            var strSymbol = item.symbol;\n            var stockData = {};\n            // console.log(\"this.Data.has(strSymbol)\", this.Data, strSymbol, this.Data.has(strSymbol));\n            if (this.Data.has(strSymbol)) {\n                stockData = this.Data.get(strSymbol);\n            } else {\n                stockData = {\n                    Symbol: item.symbol,\n                    Name: item.name,\n                    Data: new _map2.default() //Map key=日期  value=Map(key=字段名, value=数值)\n                };\n\n                this.Data.set(strSymbol, stockData);\n            }\n\n            this.SetStockData(item, stockData);\n        }\n\n        if (this.Callback) this.Callback(this, condition);\n    };\n\n    this.SetStockData = function (data, stockData) {\n        for (var i in data.stockday) {\n            var item = data.stockday[i];\n            var date = item.date;\n            var dataMap = new _map2.default();\n            this.SetFinanceData(item, dataMap);\n            this.SetBlocktradingData(item, dataMap);\n            this.SetChangesData(item, dataMap);\n            this.SetLiftingData(item, dataMap);\n            this.SetPforecastData(item, dataMap);\n            this.SetShortIndicatorsData(item, dataMap);\n            stockData.Data.set(date, dataMap);\n        }\n\n        return stockData;\n    };\n\n    this.SetFinanceData = function (recvData, dataMap) {\n        //1季度\n        var finnance = recvData.finance1;\n        if (finnance) {\n            if (!isNaN(finnance.nprofitincrease)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE1_NPROFITINCREASE, finnance.nprofitincrease);\n            if (!isNaN(finnance.nnprofitincrease)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE1_NNPROFITINCREASE, finnance.nnprofitincrease);\n            if (!isNaN(finnance.nnprofitspeed)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE1_NNPROFITSPEED, finnance.nnprofitspeed);\n            if (!isNaN(finnance.benford)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE1_BENFORD, finnance.benford);\n        }\n\n        var announcement = recvData.announcement1;\n        if (announcement) {\n            if (!isNaN(announcement.year)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE1_YEAR, announcement.year);\n            if (!isNaN(announcement.quarter)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE1_QUARTER, announcement.quarter);\n        }\n\n        //2季度\n        var finnance = recvData.finance2;\n        if (finnance) {\n            if (!isNaN(finnance.nprofitincrease)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE2_NPROFITINCREASE, finnance.nprofitincrease);\n            if (!isNaN(finnance.nnprofitincrease)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE2_NNPROFITINCREASE, finnance.nnprofitincrease);\n            if (!isNaN(finnance.nnprofitspeed)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE2_NNPROFITSPEED, finnance.nnprofitspeed);\n            if (!isNaN(finnance.benford)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE2_BENFORD, finnance.benford);\n        }\n\n        var announcement = recvData.announcement2;\n        if (announcement) {\n            if (!isNaN(announcement.year)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE2_YEAR, announcement.year);\n            if (!isNaN(announcement.quarter)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE2_QUARTER, announcement.quarter);\n        }\n\n        //3季度\n        var finnance = recvData.finance3;\n        if (finnance) {\n            if (!isNaN(finnance.nprofitincrease)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE3_NPROFITINCREASE, finnance.nprofitincrease);\n            if (!isNaN(finnance.nnprofitincrease)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE3_NNPROFITINCREASE, finnance.nnprofitincrease);\n            if (!isNaN(finnance.nnprofitspeed)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE3_NNPROFITSPEED, finnance.nnprofitspeed);\n            if (!isNaN(finnance.benford)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE3_BENFORD, finnance.benford);\n        }\n\n        var announcement = recvData.announcement3;\n        if (announcement) {\n            if (!isNaN(announcement.year)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE3_YEAR, announcement.year);\n            if (!isNaN(announcement.quarter)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE3_QUARTER, announcement.quarter);\n        }\n\n        //4季度\n        var finnance = recvData.finance4;\n        if (finnance) {\n            if (!isNaN(finnance.nprofitincrease)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE4_NPROFITINCREASE, finnance.nprofitincrease);\n            if (!isNaN(finnance.nnprofitincrease)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE4_NNPROFITINCREASE, finnance.nnprofitincrease);\n            if (!isNaN(finnance.nnprofitspeed)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE4_NNPROFITSPEED, finnance.nnprofitspeed);\n            if (!isNaN(finnance.benford)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE4_BENFORD, finnance.benford);\n        }\n\n        var announcement = recvData.announcement4;\n        if (announcement) {\n            if (!isNaN(announcement.year)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE4_YEAR, announcement.year);\n            if (!isNaN(announcement.quarter)) dataMap.set(STOCK_HISTORY_FIELD_NAME.FINANCE4_QUARTER, announcement.quarter);\n        }\n    };\n\n    //大宗交易\n    this.SetBlocktradingData = function (recvData, dataMap) {\n        var blocktrading = recvData.blocktrading;\n        if (blocktrading) {\n            dataMap.set(STOCK_HISTORY_FIELD_NAME.BLOCK_TRADING, {\n                Premium: blocktrading.premium, ////总溢价\n                Price: blocktrading.price, //总成交价\n                Vol: blocktrading.vol, //总成交量\n                Amount: blocktrading.amount //成交额\n            });\n        }\n    };\n\n    //股东减持\n    this.SetChangesData = function (recvData, dataMap) {\n        var changes = recvData.changes;\n        if (changes) {\n            dataMap.set(STOCK_HISTORY_FIELD_NAME.HOLDERS_CHANGES, { List: changes.list });\n        }\n    };\n\n    //限售解禁\n    this.SetLiftingData = function (recvData, dataMap) {\n        var lifting = recvData.lifting;\n        if (lifting) {\n            // console.log(\"lifting\",lifting);\n            dataMap.set(STOCK_HISTORY_FIELD_NAME.LIFTING, { Lifting: lifting });\n        }\n    };\n\n    //业绩公告\n    this.SetPforecastData = function (recvData, dataMap) {\n        var pforecast = recvData.pforecast;\n        if (pforecast) {\n            // console.log(\"pforecast\", pforecast)\n            dataMap.set(STOCK_HISTORY_FIELD_NAME.PFORECAST, {\n                Lowprofit: pforecast[0].lowprofit, ////最低利润\n                Highprofit: pforecast[0].highprofit, //最高利润\n                Lowchange: pforecast[0].lowchange, //最小变动幅度\n                Highchange: pforecast[0].highchange, //最小变动幅度\n                Reportdate: pforecast[0].reportdate //报告期\n            });\n        }\n    };\n\n    //空头指标\n    this.SetShortIndicatorsData = function (recvData, dataMap) {\n        // console.log(\"recvData,dataMap\", recvData, dataMap);\n        var policy = recvData.policy;\n        if (policy) {\n            var targetedList = ['三只乌鸦', '乌云盖顶', '黄昏之星', '巨量阴线', '头肩顶', '射击之星', '倾盆大雨', '断头铡刀', '淡友反攻', '空方炮', '连续1周空头排列'];\n            var targetedCount = 0,\n                timeList = [],\n                latestTime = 0,\n                latestName = '';\n            // console.table(policy); //policy\n            policy.forEach(function (e) {\n                var isTarget = targetedList.some(function (c) {\n                    return c === e.name;\n                });\n                if (isTarget) {\n                    targetedCount++;\n                    timeList.push(e.time);\n                }\n            });\n            if (!targetedCount) {\n                latestName = '';\n            } else {\n                latestTime = Math.max.apply(timeList, timeList);\n                latestName = policy.find(function (e) {\n                    return e.time === latestTime;\n                }).name;\n            }\n            console.log(latestName, targetedCount, \"latestName-targetedCount\");\n            dataMap.set(STOCK_HISTORY_FIELD_NAME.SHORTIND_ICATORS, {\n                latestIndicatorName: latestName, ///最新指标名称\n                indicatorCount: targetedCount //最新指标数量\n            });\n        }\n    };\n\n    this.RecvError = function (request, condition) {};\n\n    this.CreateCondition = function (name) {\n        return new QueryCondition(name);\n    };\n}\n\n//初始化\nJSStock.Init = function () {\n    var stock = new JSStock();\n    return stock;\n};\n\nJSStock.SetDomain = function (domain, cacheDomain) {\n    if (domain) g_JSStockResource.Domain = domain;\n    if (cacheDomain) g_JSStockResource.CacheDomain = cacheDomain;\n};\n\n//获取股票搜索类\nJSStock.GetSearchStock = function (callback) {\n    return new SearchStock(callback);\n};\n\n//短线精灵\nJSStock.GetShortTerm = function (symbol) {\n    return new ShortTerm(symbol);\n};\n\n//每天的分笔数据\nJSStock.GetDealDay = function (symbol) {\n    return new DealDay(symbol);\n};\n\n//板块成员\nJSStock.GetBlockMember = function (symbol) {\n    return new BlockMember(symbol);\n};\nJSStock.GetBlockTop = function () {\n    return new BlockTop();\n};\n\n//走势图图片路径\nJSStock.GetMinuteImage = function (symbol) {\n    return new MinuteImage(symbol);\n};\n\n//获取历史日线收盘数据\nJSStock.GetHistoryDayData = function (symbol) {\n    return new HistoryDayData(symbol);\n};\n\nJSStock.GetDealPriceListData = function (symbol) {\n    return new DealPriceListData(symbol);\n};\n\nJSStock.GetLatestDetailData = function (symbol) {\n    return new LatestDetailData(symbol);\n};\n\n//分析板块请求数据\nJSStock.GetAnalylisPlate = function () {\n    return new AnalylisPlate();\n};\n\n//获取历史数据\nJSStock.GetStockHistory = function () {\n    return new JSStockHistory();\n};\n\nvar RECV_DATA_TYPE = {\n    BASE_DATA: 1, //股票行情基础数据\n    INDEX_BASE_DATA: 2, //指数行情基础数据(包含 涨跌家数)\n    HEAT_DATA: 3, //热度数据\n    SORT_DATA: 4, //排序数据\n    BUY_SELL_DATA: 5, //买卖盘数据\n    DEAL_DATA: 6, //分笔数据\n    DERIVATIVE_DATA: 7, //实时衍生数据\n    FINANCE_DATA: 8, //财务数据\n    SEARCH_STOCK_DATA: 9, //股票搜索\n\n    SELF_STOCK_DATA: 10, //自选股数据\n    LOGON_DATA: 11, //登陆信息\n    BLOCK_MEMBER_DATA: 13, //板块成员\n    SHORT_TERM_DATA: 14, //短线精灵\n    COMPANY_DATA: 15, //个股资料\n    PLATE_DATA: 16, //板块(行业 概念 地区)\n    CAPITAL_DATA: 17, //股本\n\n\n    //资金流\n    CAPITAL_FLOW_DAY_DATA: 23,\n    CAPITAL_FLOW_DAY3_DATA: 24,\n    CAPITAL_FLOW_DAY5_DATA: 25,\n    CAPITAL_FLOW_DAY10_DATA: 26,\n\n    //DDE\n    DDE_DAY_DATA: 27,\n    DDE_DAY3_DATA: 28,\n    DDE_DAY5_DATA: 29,\n    DDE_DAY10_DATA: 30,\n\n    DEAL_DAY_DATA: 105, //分笔数据\n    EVENT_DATA: 106, //事件 属性数据\n    IMAGE_MINUTE_DATA: 107, //走势图图片\n    HISTORY_DAY_DATA: 108, //历史日线收盘数据\n    DEAL_PRICE_LIST_DATA: 109, //分价表数据\n    LATEST_DETAIL_DATA: 110 //最新分笔数据\n};\n\nfunction JSStock() {\n    this.MapStock = new _map2.default(); //key=symbol, value=StockData\n    this.MapTagCallback = new _map2.default(); //callback(tagID,arySymbol(更新的股票代码),dataType,this)\n    this.RequestVersion = new Array([100, 100, 100]);\n\n    this.RealtimeApiUrl = g_JSStockResource.Domain + \"/API/Stock\";\n    this.PlateQuadrantApiUrl = g_JSStockResource.Domain + \"/API/StockPlateQuadrant\"; //热度api\n\n    this.IsAutoUpdate = true;\n    this.AutoUpateTimeout = 15000; //更新频率\n    this.Timeout;\n\n    this.NetworkFilter; //网络过滤接口 function(data, callback)\n\n    this.GetStockRead = function (tagID, callback) {\n        var _iteratorNormalCompletion3 = true;\n        var _didIteratorError3 = false;\n        var _iteratorError3 = undefined;\n\n        try {\n            for (var _iterator3 = (0, _getIterator3.default)(this.MapStock), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                var item = _step3.value;\n\n                item[1].RemoveTagID(tagID);\n            }\n        } catch (err) {\n            _didIteratorError3 = true;\n            _iteratorError3 = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                    _iterator3.return();\n                }\n            } finally {\n                if (_didIteratorError3) {\n                    throw _iteratorError3;\n                }\n            }\n        }\n\n        this.MapTagCallback.set(tagID, callback);\n\n        var read = new StockRead(this, tagID);\n        return read;\n    };\n\n    //取消某一个控件订阅的股票推送\n    this.Unsubscribe = function (tagID) {\n        var _iteratorNormalCompletion4 = true;\n        var _didIteratorError4 = false;\n        var _iteratorError4 = undefined;\n\n        try {\n            for (var _iterator4 = (0, _getIterator3.default)(this.MapStock), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n                var item = _step4.value;\n\n                item[1].RemoveTagID(tagID);\n            }\n        } catch (err) {\n            _didIteratorError4 = true;\n            _iteratorError4 = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion4 && _iterator4.return) {\n                    _iterator4.return();\n                }\n            } finally {\n                if (_didIteratorError4) {\n                    throw _iteratorError4;\n                }\n            }\n        }\n    };\n\n    //取消单个股票上的所有控件订阅\n    this.UnsubscribeStock = function (symbol, tagID) {\n        var _iteratorNormalCompletion5 = true;\n        var _didIteratorError5 = false;\n        var _iteratorError5 = undefined;\n\n        try {\n            for (var _iterator5 = (0, _getIterator3.default)(this.MapStock), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n                var item = _step5.value;\n\n                if (item[0] === symbol) {\n                    if (tagID) item[1].RemoveTagID(tagID);else item[1].ClearTagID();\n\n                    console.log(\"[JSStock::UnsubscribeStock] symbol=\" + symbol + \", tagID=\" + tagID);\n                    break;\n                }\n            }\n        } catch (err) {\n            _didIteratorError5 = true;\n            _iteratorError5 = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion5 && _iterator5.return) {\n                    _iterator5.return();\n                }\n            } finally {\n                if (_didIteratorError5) {\n                    throw _iteratorError5;\n                }\n            }\n        }\n    };\n\n    //获取一个股票\n    this.Get = function (symbol, tagID) {\n        if (!this.MapStock.has(symbol)) {\n            this.MapStock.set(symbol, new StockData(symbol));\n        }\n\n        var data = this.MapStock.get(symbol);\n        if (tagID) data.AttachTagID(tagID);\n        return data;\n    };\n\n    this.RequestData = function () {\n        this.ClearTimer();\n\n        var arySymbol = new Array(); //股票\n        var aryIndex = new Array(); //指数\n        var aryHeat = new Array(); //热度\n        var aryBuySell = new Array(); //5当买卖盘\n        var aryDeal = new Array(); //分笔\n        var aryDerivative = new Array(); //实时衍生数据\n        var aryFinance = new Array(); //财务数据\n        var aryFlow = [],\n            aryFlow3 = [],\n            aryFlow5 = [],\n            aryFlow10 = [];\n        var aryDDE = [],\n            aryDDE3 = [],\n            aryDDE5 = [],\n            aryDDE10 = [];\n        var aryEvent = new Array();\n        var aryCompany = new Array(); //个股资料\n        var aryPlate = new Array(); //板块(行业 概念 地址)\n        var aryCapital = new Array();\n\n        var _iteratorNormalCompletion6 = true;\n        var _didIteratorError6 = false;\n        var _iteratorError6 = undefined;\n\n        try {\n            for (var _iterator6 = (0, _getIterator3.default)(this.MapStock), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n                var item = _step6.value;\n\n                var subscribe = item[1]; //订阅数据\n                var symbol = item[0];\n\n                //基础数据\n                if (subscribe.BaseDataTagID.size > 0) {\n                    if (IsIndexSymbol(symbol)) aryIndex.push(symbol);else arySymbol.push(symbol);\n                }\n\n                if (subscribe.BuySellTagID.size > 0) aryBuySell.push(symbol);\n\n                if (subscribe.CapitalFlowDayID.size > 0) aryFlow.push(symbol);\n                if (subscribe.CapitalFlowDay3ID.size > 0) aryFlow3.push(symbol);\n                if (subscribe.CapitalFlowDay5ID.size > 0) aryFlow5.push(symbol);\n                if (subscribe.CapitalFlowDay10ID.size > 0) aryFlow10.push(symbol);\n\n                if (subscribe.DDEID.size > 0) aryDDE.push(symbol);\n                if (subscribe.DDE3ID.size > 0) aryDDE3.push(symbol);\n                if (subscribe.DDE5ID.size > 0) aryDDE5.push(symbol);\n                if (subscribe.DDE10ID.size > 0) aryDDE10.push(symbol);\n\n                if (subscribe.HeatTagID.size > 0) aryHeat.push(symbol);\n                if (subscribe.DealTagID.size > 0) aryDeal.push(symbol);\n                if (subscribe.DerivativeTagID.size > 0) aryDerivative.push(symbol);\n                if (subscribe.FinanceTagID.size > 0) aryFinance.push(symbol);\n                if (subscribe.CapitalTagID.size > 0) aryCapital.push(symbol);\n\n                if (subscribe.Event == null && subscribe.EventTagID.size > 0) aryEvent.push(symbol);\n                if (subscribe.Company == null && subscribe.CompanyTagID.size > 0) aryCompany.push(symbol);\n                if (item[1].Plate == null && item[1].PlateTagID.size > 0) aryPlate.push(item[0]);\n            }\n        } catch (err) {\n            _didIteratorError6 = true;\n            _iteratorError6 = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion6 && _iterator6.return) {\n                    _iterator6.return();\n                }\n            } finally {\n                if (_didIteratorError6) {\n                    throw _iteratorError6;\n                }\n            }\n        }\n\n        if (aryBuySell.length > 0) this.RequestBuySellData(aryBuySell);\n        if (arySymbol.length > 0) this.RequestBaseData(arySymbol);\n        if (aryIndex.length > 0) this.RequestIndexBaseData(aryIndex);\n        if (aryHeat.length > 0) this.RequestIndexHeatData(aryHeat);\n        if (aryDeal.length > 0) this.RequestDealData(aryDeal);\n        if (aryDerivative.length > 0) this.RequestDerivativeData(aryDerivative);\n        if (aryFinance.length > 0) this.RequestFinanceData(aryFinance);\n        if (aryCapital.length > 0) this.RequestCapitalData(aryCapital);\n\n        //资金流\n        if (aryFlow.length > 0) this.RequestSubDocumentData(aryFlow, 'flowday');\n        if (aryFlow3.length > 0) this.RequestSubDocumentData(aryFlow3, 'flowday3');\n        if (aryFlow5.length > 0) this.RequestSubDocumentData(aryFlow5, 'flowday5');\n        if (aryFlow10.length > 0) this.RequestSubDocumentData(aryFlow10, 'flowday10');\n        if (aryDDE.length > 0) this.RequestSubDocumentData(aryDDE, 'dde');\n        if (aryDDE3.length > 0) this.RequestSubDocumentData(aryDDE3, 'dde3');\n        if (aryDDE5.length > 0) this.RequestSubDocumentData(aryDDE5, 'dde5');\n        if (aryDDE10.length > 0) this.RequestSubDocumentData(aryDDE10, 'dde10');\n\n        //属性|事件\n        if (aryEvent.length > 0) this.RequestEventData(aryEvent);\n\n        //个股资料\n        if (aryCompany.length > 0) this.RequestCompanyData(aryCompany);\n        if (aryPlate.length > 0) this.RequestPlateData(aryPlate);\n        this.ReqeustAllSortData(); //成分排序\n    };\n\n    this.ReqeustData = this.RequestData; //老的接口名字写错了\n\n    //请求基础数据\n    this.RequestBaseData = function (arySymbol) {\n        var self = this;\n        var field = [\"name\", \"symbol\", \"yclose\", \"open\", \"price\", \"high\", \"low\", \"vol\", \"amount\", \"date\", \"time\", \"week\", \"increase\", \"exchangerate\", \"amplitude\", \"volratio\"];\n\n        if (this.NetworkFilter) {\n            var obj = {\n                Name: 'JSStock::RequestBaseData', //类名::方法\n                Explain: '股票基础数据',\n                ID: RECV_DATA_TYPE.BASE_DATA,\n                Request: { Url: self.RealtimeApiUrl, Data: { field: field, symbol: arySymbol }, Type: 'POST' },\n                Self: this,\n                PreventDefault: false\n            };\n            this.NetworkFilter(obj, function (data) {\n                self.RecvData(data, RECV_DATA_TYPE.BASE_DATA);\n            });\n\n            if (obj.PreventDefault == true) return; //已被上层替换,不调用默认的网络请求\n        }\n\n        _jquery2.default.ajax({\n            url: this.RealtimeApiUrl,\n            data: {\n                \"field\": field, \"symbol\": arySymbol\n            },\n            type: \"post\",\n            dataType: \"json\",\n            async: true,\n            success: function success(data) {\n                self.RecvData(data, RECV_DATA_TYPE.BASE_DATA);\n            },\n            error: function error(request) {\n                self.RecvError(request, RECV_DATA_TYPE.BASE_DATA);\n            }\n        });\n    };\n\n    //请求实时衍生数据\n    this.RequestDerivativeData = function (arySymbol) {\n        var self = this;\n        var field = [\"name\", \"symbol\", \"marketvalue\", \"flowmarketvalue\", \"pe\", \"pe2\", \"pe3\", \"pb\", \"bookrate\", \"bookdiffer\"];\n        if (this.NetworkFilter) {\n            var obj = {\n                Name: 'JSStock::RequestDerivativeData', //类名::方法\n                Explain: '实时衍生数据',\n                ID: RECV_DATA_TYPE.DERIVATIVE_DATA,\n                Request: { Url: self.RealtimeApiUrl, Data: { field: field, symbol: arySymbol }, Type: 'POST' },\n                Self: this,\n                PreventDefault: false\n            };\n            this.NetworkFilter(obj, function (data) {\n                self.RecvData(data, RECV_DATA_TYPE.DERIVATIVE_DATA);\n            });\n\n            if (obj.PreventDefault == true) return; //已被上层替换,不调用默认的网络请求\n        }\n\n        _jquery2.default.ajax({\n            url: this.RealtimeApiUrl,\n            data: {\n                \"field\": field, \"symbol\": arySymbol\n            },\n            type: \"post\",\n            dataType: \"json\",\n            async: true,\n            success: function success(data) {\n                self.RecvData(data, RECV_DATA_TYPE.DERIVATIVE_DATA);\n            },\n            error: function error(request) {\n                self.RecvError(request, RECV_DATA_TYPE.DERIVATIVE_DATA);\n            }\n        });\n    };\n\n    //请求财务数据\n    this.RequestFinanceData = function (arySymbol) {\n        var self = this;\n        var field = [\"name\", \"symbol\", \"roe\", \"finance\"];\n\n        if (this.NetworkFilter) {\n            var obj = {\n                Name: 'JSStock::RequestFinanceData', //类名::方法\n                Explain: '财务数据',\n                ID: RECV_DATA_TYPE.FINANCE_DATA,\n                Request: { Url: self.RealtimeApiUrl, Data: { field: field, symbol: arySymbol }, Type: 'POST' },\n                Self: this,\n                PreventDefault: false\n            };\n            this.NetworkFilter(obj, function (data) {\n                self.RecvData(data, RECV_DATA_TYPE.FINANCE_DATA);\n            });\n\n            if (obj.PreventDefault == true) return; //已被上层替换,不调用默认的网络请求\n        }\n\n        _jquery2.default.ajax({\n            url: this.RealtimeApiUrl,\n            data: {\n                \"field\": field, \"symbol\": arySymbol\n            },\n            type: \"post\",\n            dataType: \"json\",\n            async: true,\n            success: function success(data) {\n                self.RecvData(data, RECV_DATA_TYPE.FINANCE_DATA);\n            },\n            error: function error(request) {\n                self.RecvError(request, RECV_DATA_TYPE.FINANCE_DATA);\n            }\n        });\n    };\n\n    //请求股本\n    this.RequestCapitalData = function (arySymbol) {\n        var self = this;\n        var field = [\"name\", \"symbol\", \"capital\"];\n\n        if (this.NetworkFilter) {\n            var obj = {\n                Name: 'JSStock::RequestCapitalData', //类名::方法\n                Explain: '股本数据',\n                ID: RECV_DATA_TYPE.CAPITAL_DATA,\n                Request: { Url: self.RealtimeApiUrl, Data: { field: field, symbol: arySymbol }, Type: 'POST' },\n                Self: this,\n                PreventDefault: false\n            };\n            this.NetworkFilter(obj, function (data) {\n                self.RecvData(data, RECV_DATA_TYPE.CAPITAL_DATA);\n            });\n\n            if (obj.PreventDefault == true) return; //已被上层替换,不调用默认的网络请求\n        }\n\n        _jquery2.default.ajax({\n            url: this.RealtimeApiUrl,\n            data: {\n                \"field\": field, \"symbol\": arySymbol\n            },\n            type: \"post\",\n            dataType: \"json\",\n            async: true,\n            success: function success(data) {\n                self.RecvData(data, RECV_DATA_TYPE.CAPITAL_DATA);\n            },\n            error: function error(request) {\n                self.RecvError(request, RECV_DATA_TYPE.CAPITAL_DATA);\n            }\n        });\n    };\n\n    //请求买卖盘\n    this.RequestBuySellData = function (arySymbol) {\n        var self = this;\n        var field = [\"name\", \"symbol\", \"yclose\", \"open\", \"price\", \"high\", \"low\", \"vol\", \"amount\", \"date\", \"time\", \"week\", \"increase\", \"buy\", \"sell\", \"exchangerate\", \"amplitude\"];\n        if (this.NetworkFilter) {\n            var obj = {\n                Name: 'JSStock::RequestBuySellData', //类名::方法\n                Explain: '买卖盘数据',\n                ID: RECV_DATA_TYPE.BUY_SELL_DATA,\n                Request: { Url: self.RealtimeApiUrl, Data: { field: field, symbol: arySymbol }, Type: 'POST' },\n                Self: this,\n                PreventDefault: false\n            };\n            this.NetworkFilter(obj, function (data) {\n                self.RecvData(data, RECV_DATA_TYPE.BUY_SELL_DATA);\n            });\n\n            if (obj.PreventDefault == true) return; //已被上层替换,不调用默认的网络请求\n        }\n\n        _jquery2.default.ajax({\n            url: this.RealtimeApiUrl,\n            data: {\n                \"field\": field, \"symbol\": arySymbol\n            },\n            type: \"post\",\n            dataType: \"json\",\n            async: true,\n            success: function success(data) {\n                self.RecvData(data, RECV_DATA_TYPE.BUY_SELL_DATA);\n            },\n            error: function error(request) {\n                self.RecvError(request, RECV_DATA_TYPE.BUY_SELL_DATA);\n            }\n        });\n    };\n\n    //请求分笔\n    this.RequestDealData = function (arySymbol) {\n        var self = this;\n        var field = [\"name\", \"symbol\", \"price\", \"high\", \"low\", \"vol\", \"amount\", \"date\", \"time\", \"increase\", \"deal\"];\n\n        if (this.NetworkFilter) {\n            var obj = {\n                Name: 'JSStock::RequestDealData', //类名::方法\n                Explain: '分笔数据',\n                ID: RECV_DATA_TYPE.DEAL_DATA,\n                Request: { Url: self.RealtimeApiUrl, Data: { field: field, symbol: arySymbol }, Type: 'POST' },\n                Self: this,\n                PreventDefault: false\n            };\n            this.NetworkFilter(obj, function (data) {\n                self.RecvData(data, RECV_DATA_TYPE.DEAL_DATA);\n            });\n\n            if (obj.PreventDefault == true) return; //已被上层替换,不调用默认的网络请求\n        }\n\n        _jquery2.default.ajax({\n            url: this.RealtimeApiUrl,\n            data: {\n                \"field\": field, \"symbol\": arySymbol\n            },\n            type: \"post\",\n            dataType: \"json\",\n            async: true,\n            success: function success(data) {\n                self.RecvData(data, RECV_DATA_TYPE.DEAL_DATA);\n            },\n            error: function error(request) {\n                self.RecvError(request, RECV_DATA_TYPE.DEAL_DATA);\n            }\n        });\n    };\n\n    //指数基础数据(包含上涨下跌家数)\n    this.RequestIndexBaseData = function (arySymbol) {\n        var self = this;\n        var field = [\"name\", \"symbol\", \"yclose\", \"open\", \"price\", \"high\", \"low\", \"vol\", \"amount\", \"date\", \"time\", \"week\", \"indextop\", \"increase\"];\n        if (this.NetworkFilter) {\n            var obj = {\n                Name: 'JSStock::RequestIndexBaseData', //类名::方法\n                Explain: '指数基础数据(包含上涨下跌家数)',\n                ID: RECV_DATA_TYPE.INDEX_BASE_DATA,\n                Request: { Url: self.RealtimeApiUrl, Data: { field: field, symbol: arySymbol }, Type: 'POST' },\n                Self: this,\n                PreventDefault: false\n            };\n            this.NetworkFilter(obj, function (data) {\n                self.RecvData(data, RECV_DATA_TYPE.INDEX_BASE_DATA);\n            });\n\n            if (obj.PreventDefault == true) return; //已被上层替换,不调用默认的网络请求\n        }\n\n        _jquery2.default.ajax({\n            url: this.RealtimeApiUrl,\n            data: {\n                \"field\": field, \"symbol\": arySymbol\n            },\n            type: \"post\",\n            dataType: \"json\",\n            async: true,\n            success: function success(data) {\n                console.log(data);\n                self.RecvData(data, RECV_DATA_TYPE.INDEX_BASE_DATA);\n            },\n            error: function error(request) {\n                self.RecvError(request, RECV_DATA_TYPE.INDEX_BASE_DATA);\n            }\n        });\n    };\n\n    //热度\n    this.RequestIndexHeatData = function (arySymbol) {\n        var self = this;\n\n        _jquery2.default.ajax({\n            url: this.PlateQuadrantApiUrl,\n            data: {\n                \"plate\": arySymbol\n            },\n            type: \"post\",\n            dataType: \"json\",\n            async: true,\n            success: function success(data) {\n                self.RecvData(data, RECV_DATA_TYPE.HEAT_DATA);\n            },\n            error: function error(request) {\n                self.RecvError(request, RECV_DATA_TYPE.HEAT_DATA);\n            }\n        });\n    };\n\n    //排序\n    this.ReqeustAllSortData = function () {\n        var arySort = new Array();\n        var _iteratorNormalCompletion7 = true;\n        var _didIteratorError7 = false;\n        var _iteratorError7 = undefined;\n\n        try {\n            for (var _iterator7 = (0, _getIterator3.default)(this.MapStock), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n                var item = _step7.value;\n\n                if (!IsIndexSymbol(item[0])) continue;\n                if (item[1].Sort == null || item[1].Sort.size <= 0) continue;\n\n                var _iteratorNormalCompletion8 = true;\n                var _didIteratorError8 = false;\n                var _iteratorError8 = undefined;\n\n                try {\n                    for (var _iterator8 = (0, _getIterator3.default)(item[1].Sort), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n                        var sortItem = _step8.value;\n\n                        var sortData = sortItem[1];\n                        var data = { \"Plate\": item[0], \"SortField\": sortData.SortField, \"Order\": sortData.Order, \"TagID\": sortData.TagID };\n                        arySort.push(data);\n                    }\n                } catch (err) {\n                    _didIteratorError8 = true;\n                    _iteratorError8 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion8 && _iterator8.return) {\n                            _iterator8.return();\n                        }\n                    } finally {\n                        if (_didIteratorError8) {\n                            throw _iteratorError8;\n                        }\n                    }\n                }\n            }\n        } catch (err) {\n            _didIteratorError7 = true;\n            _iteratorError7 = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion7 && _iterator7.return) {\n                    _iterator7.return();\n                }\n            } finally {\n                if (_didIteratorError7) {\n                    throw _iteratorError7;\n                }\n            }\n        }\n\n        for (var i in arySort) {\n            var sortItem = arySort[i];\n            this.ReqeustSortData(sortItem);\n        }\n    };\n\n    this.ReqeustSortData = function (sortItem) {\n        var self = this;\n        var sortData = sortItem;\n        var sortFiled = \"\";\n\n        //字段id 转换成字段名字\n        switch (sortData.SortField) {\n            case STOCK_FIELD_NAME.INCREASE:\n                sortFiled = 'increase';\n                break;\n            case STOCK_FIELD_NAME.PRICE:\n                sortFiled = 'price';\n                break;\n            default:\n                return;\n        }\n\n        var field = [\"name\", \"symbol\", \"yclose\", \"open\", \"price\", \"high\", \"low\", \"vol\", \"amount\", \"date\", \"time\", \"week\", \"increase\", \"exchangerate\"];\n\n        if (this.NetworkFilter) {\n            var obj = {\n                Name: 'JSStock::ReqeustSortData', //类名::方法\n                Explain: '板块排序数据',\n                ID: RECV_DATA_TYPE.SORT_DATA,\n                Request: { Url: self.RealtimeApiUrl,\n                    Data: { field: field, plate: [sortItem.Plate], orderfield: sortFiled, order: sortItem.Order, ordernull: 1, filterstop: 1 },\n                    Type: 'POST' },\n                Self: this,\n                PreventDefault: false\n            };\n            this.NetworkFilter(obj, function (data) {\n                self.RecvData(data, RECV_DATA_TYPE.SORT_DATA, sortData);\n            });\n\n            if (obj.PreventDefault == true) return; //已被上层替换,不调用默认的网络请求\n        }\n\n        _jquery2.default.ajax({\n            url: this.RealtimeApiUrl,\n            data: {\n                \"field\": field,\n                \"plate\": [sortItem.Plate],\n                \"orderfield\": sortFiled,\n                \"order\": sortItem.Order,\n                \"ordernull\": 1, //过滤null字段\n                \"filterstop\": 1 //过滤掉停牌数据\n            },\n            type: \"post\",\n            dataType: \"json\",\n            async: true,\n            success: function success(data) {\n                self.RecvData(data, RECV_DATA_TYPE.SORT_DATA, sortData);\n            },\n            error: function error(request) {\n                self.RecvError(request, RECV_DATA_TYPE.SORT_DATA, sortData);\n            }\n        });\n    };\n\n    //资金流\n    this.RequestSubDocumentData = function (arySymbol, id) {\n        var self = this;\n        var mapDay = new _map2.default([['flowday', { Field: 'flowday', RecvID: RECV_DATA_TYPE.CAPITAL_FLOW_DAY_DATA }], ['flowday3', { Field: 'flowday3', RecvID: RECV_DATA_TYPE.CAPITAL_FLOW_DAY3_DATA }], ['flowday5', { Field: 'flowday5', RecvID: RECV_DATA_TYPE.CAPITAL_FLOW_DAY5_DATA }], ['flowday10', { Field: 'flowday10', RecvID: RECV_DATA_TYPE.CAPITAL_FLOW_DAY10_DATA }], ['dde', { Field: 'dde', RecvID: RECV_DATA_TYPE.DDE_DAY_DATA }], ['dde3', { Field: 'dde3', RecvID: RECV_DATA_TYPE.DDE_DAY3_DATA }], ['dde5', { Field: 'dde5', RecvID: RECV_DATA_TYPE.DDE_DAY5_DATA }], ['dde10', { Field: 'dde10', RecvID: RECV_DATA_TYPE.DDE_DAY10_DATA }]]);\n\n        if (!mapDay.has(id)) return;\n        var value = mapDay.get(id);\n\n        if (this.NetworkFilter) {\n            var obj = {\n                Name: 'JSStock::RequestSubDocumentData', //类名::方法\n                Explain: '子文档数据',\n                ID: value.RecvID,\n                Request: { Url: self.RealtimeApiUrl, Data: { field: [\"symbol\", value.Field], symbol: arySymbol, start: 0, end: 50 }, Type: 'POST' },\n                Self: this,\n                PreventDefault: false\n            };\n            this.NetworkFilter(obj, function (data) {\n                self.RecvData(data, value.RecvID);\n            });\n\n            if (obj.PreventDefault == true) return; //已被上层替换,不调用默认的网络请求\n        }\n\n        _jquery2.default.ajax({\n            url: this.RealtimeApiUrl,\n            data: {\n                \"field\": [\"symbol\", value.Field],\n                \"symbol\": arySymbol,\n                \"start\": 0,\n                \"end\": 50\n            },\n            type: \"post\",\n            dataType: \"json\",\n            success: function success(data) {\n                self.RecvData(data, value.RecvID);\n            },\n            error: function error(request) {\n                self.RecvError(request, value.RecvID);\n            }\n        });\n    };\n\n    this.RequestEventData = function (arySymbol) {\n        var self = this;\n\n        _jquery2.default.ajax({\n            url: this.RealtimeApiUrl,\n            data: {\n                \"field\": [\"symbol\", \"events.margin\", \"events.shhk\", \"events.hk\", \"events.st\", 'events.hksymbol', 'events.hkname', \"events.szhk\"],\n                \"symbol\": arySymbol,\n                \"start\": 0,\n                \"end\": 50\n            },\n            type: 'POST',\n            dataType: \"json\",\n            success: function success(data) {\n                self.RecvData(data, RECV_DATA_TYPE.EVENT_DATA);\n            },\n            error: function error(request) {\n                self.RecvError(request, RECV_DATA_TYPE.EVENT_DATA);\n            }\n        });\n    };\n\n    //个股资料\n    this.RequestCompanyData = function (arySymbol) {\n        var self = this;\n\n        _jquery2.default.ajax({\n            url: this.RealtimeApiUrl,\n            data: {\n                \"field\": [\"name\", \"symbol\", \"company\"],\n                \"symbol\": arySymbol,\n                \"start\": 0,\n                \"end\": 50\n            },\n            type: 'POST',\n            dataType: \"json\",\n            success: function success(data) {\n                self.RecvData(data, RECV_DATA_TYPE.COMPANY_DATA);\n            },\n            error: function error(request) {\n                self.RecvError(request, RECV_DATA_TYPE.COMPANY_DATA);\n            }\n        });\n    };\n\n    this.RequestPlateData = function (arySymbol) {\n        var self = this;\n\n        _jquery2.default.ajax({\n            url: this.RealtimeApiUrl,\n            data: {\n                \"field\": [\"name\", \"symbol\", \"industry\", \"region\", \"concept\"],\n                \"symbol\": arySymbol,\n                \"start\": 0,\n                \"end\": 50\n            },\n            type: 'POST',\n            dataType: \"json\",\n            success: function success(data) {\n                self.RecvData(data, RECV_DATA_TYPE.PLATE_DATA);\n            },\n            error: function error(request) {\n                self.RecvError(request, RECV_DATA_TYPE.PLATE_DATA);\n            }\n        });\n    };\n\n    this.RecvError = function (request, datatype, requestData) {\n        console.log(\"RecvError: datatype=\" + datatype.toString());\n        console.log(request);\n\n        var self = this;\n        if (this.Timeout) clearTimeout(this.Timeout); //清空定时器\n        this.Timeout = setTimeout(function () {\n            self.ReqeustData();\n        }, this.AutoUpateTimeout * 2);\n    };\n\n    this.RecvData = function (data, datatype, requestData) {\n        var mapTagData; //key=界面元素id, value=更新的股票列表\n\n        switch (datatype) {\n            case RECV_DATA_TYPE.BASE_DATA:\n            case RECV_DATA_TYPE.INDEX_BASE_DATA:\n                mapTagData = this.RecvBaseData(data, datatype);\n                break;\n            case RECV_DATA_TYPE.HEAT_DATA:\n                mapTagData = this.RecvHeatData(data, datatype);\n                break;\n            case RECV_DATA_TYPE.SORT_DATA:\n                mapTagData = this.RecvSortData(data, datatype, requestData);\n                break;\n            case RECV_DATA_TYPE.BUY_SELL_DATA:\n                mapTagData = this.RecvBuySellData(data, datatype);\n                break;\n            case RECV_DATA_TYPE.DEAL_DATA:\n                mapTagData = this.RecvDealData(data, datatype);\n                break;\n            case RECV_DATA_TYPE.DERIVATIVE_DATA:\n                mapTagData = this.RecvDerivativeData(data, datatype);\n                break;\n            case RECV_DATA_TYPE.FINANCE_DATA:\n                mapTagData = this.RecvFinanceData(data, datatype);\n                break;\n            case RECV_DATA_TYPE.CAPITAL_DATA:\n                mapTagData = this.RecvCapitalData(data, datatype);\n                break;\n            case RECV_DATA_TYPE.CAPITAL_FLOW_DAY_DATA:\n            case RECV_DATA_TYPE.CAPITAL_FLOW_DAY3_DATA:\n            case RECV_DATA_TYPE.CAPITAL_FLOW_DAY5_DATA:\n            case RECV_DATA_TYPE.CAPITAL_FLOW_DAY10_DATA:\n            case RECV_DATA_TYPE.DDE_DAY_DATA:\n            case RECV_DATA_TYPE.DDE_DAY3_DATA:\n            case RECV_DATA_TYPE.DDE_DAY5_DATA:\n            case RECV_DATA_TYPE.DDE_DAY10_DATA:\n                mapTagData = this.RecvSubDocumentData(data, datatype);\n                break;\n            case RECV_DATA_TYPE.EVENT_DATA:\n                mapTagData = this.RecvEventData(data, datatype);\n                break;\n            case RECV_DATA_TYPE.COMPANY_DATA:\n                mapTagData = this.RecvCompanyData(data, datatype);\n                break;\n            case RECV_DATA_TYPE.PLATE_DATA:\n                mapTagData = this.RecvPlateData(data, datatype);\n                break;\n        }\n\n        var _iteratorNormalCompletion9 = true;\n        var _didIteratorError9 = false;\n        var _iteratorError9 = undefined;\n\n        try {\n            for (var _iterator9 = (0, _getIterator3.default)(mapTagData), _step9; !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {\n                var value = _step9.value;\n\n                if (!this.MapTagCallback.has(value[0])) continue;\n\n                this.MapTagCallback.get(value[0])(value[0], value[1], datatype, this);\n            }\n        } catch (err) {\n            _didIteratorError9 = true;\n            _iteratorError9 = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion9 && _iterator9.return) {\n                    _iterator9.return();\n                }\n            } finally {\n                if (_didIteratorError9) {\n                    throw _iteratorError9;\n                }\n            }\n        }\n\n        this.AutoUpdate();\n    };\n\n    this.ClearTimer = function () {\n        if (this.Timeout) {\n            clearTimeout(this.Timeout); //清空定时器\n            this.Timeout = null;\n        }\n    };\n\n    this.AutoUpdate = function () {\n        this.ClearTimer();\n        if (!this.IsAutoUpdate) return;\n\n        var self = this;\n        var isBeforOpen = false;\n        var _iteratorNormalCompletion10 = true;\n        var _didIteratorError10 = false;\n        var _iteratorError10 = undefined;\n\n        try {\n            for (var _iterator10 = (0, _getIterator3.default)(this.MapStock), _step10; !(_iteratorNormalCompletion10 = (_step10 = _iterator10.next()).done); _iteratorNormalCompletion10 = true) //只要有1个股票在盘中 就请求数据\n            {\n                var item = _step10.value;\n\n                var status = STOCK_MARKET.GetMarketStatus(item[0]);\n                if (status == 2) //盘中\n                    {\n                        this.Timeout = setTimeout(function () {\n                            self.ReqeustData();\n                        }, this.AutoUpateTimeout);\n                        return;\n                    } else if (status == 1) //盘前\n                    {\n                        isBeforOpen = true;\n                    }\n            }\n\n            //盘前\n        } catch (err) {\n            _didIteratorError10 = true;\n            _iteratorError10 = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion10 && _iterator10.return) {\n                    _iterator10.return();\n                }\n            } finally {\n                if (_didIteratorError10) {\n                    throw _iteratorError10;\n                }\n            }\n        }\n\n        if (isBeforOpen) this.Timeout = setTimeout(function () {\n            self.AutoUpdate();\n        }, this.AutoUpateTimeout);\n    };\n\n    this.RecvBaseData = function (data, datatype) {\n        var mapTagData = new _map2.default(); //key=界面元素id, value=更新的股票列表\n        for (var i in data.stock) {\n            var item = data.stock[i];\n            var stockData = this.MapStock.get(item.symbol);\n            if (!stockData) continue;\n\n            switch (datatype) {\n                case RECV_DATA_TYPE.BASE_DATA:\n                    stockData.SetBaseData(item);\n                    break;\n                case RECV_DATA_TYPE.INDEX_BASE_DATA:\n                    stockData.SetIndexBaseData(item);\n                    break;\n                default:\n                    continue;\n            }\n\n            if (stockData.TagID.size > 0) {\n                var _iteratorNormalCompletion11 = true;\n                var _didIteratorError11 = false;\n                var _iteratorError11 = undefined;\n\n                try {\n                    for (var _iterator11 = (0, _getIterator3.default)(stockData.TagID), _step11; !(_iteratorNormalCompletion11 = (_step11 = _iterator11.next()).done); _iteratorNormalCompletion11 = true) {\n                        var id = _step11.value;\n\n                        if (mapTagData.has(id)) {\n                            mapTagData.get(id).push(stockData.Symbol);\n                        } else {\n                            mapTagData.set(id, new Array(stockData.Symbol));\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError11 = true;\n                    _iteratorError11 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion11 && _iterator11.return) {\n                            _iterator11.return();\n                        }\n                    } finally {\n                        if (_didIteratorError11) {\n                            throw _iteratorError11;\n                        }\n                    }\n                }\n            }\n        }\n\n        return mapTagData;\n    };\n\n    this.RecvBuySellData = function (data, datatype) {\n        var mapTagData = new _map2.default(); //key=界面元素id, value=更新的股票列表\n        for (var i in data.stock) {\n            var item = data.stock[i];\n            var stockData = this.MapStock.get(item.symbol);\n            if (!stockData) continue;\n\n            stockData.SetBuySellData(item);\n\n            if (stockData.TagID.size > 0) {\n                var _iteratorNormalCompletion12 = true;\n                var _didIteratorError12 = false;\n                var _iteratorError12 = undefined;\n\n                try {\n                    for (var _iterator12 = (0, _getIterator3.default)(stockData.TagID), _step12; !(_iteratorNormalCompletion12 = (_step12 = _iterator12.next()).done); _iteratorNormalCompletion12 = true) {\n                        var id = _step12.value;\n\n                        if (mapTagData.has(id)) {\n                            mapTagData.get(id).push(stockData.Symbol);\n                        } else {\n                            mapTagData.set(id, new Array(stockData.Symbol));\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError12 = true;\n                    _iteratorError12 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion12 && _iterator12.return) {\n                            _iterator12.return();\n                        }\n                    } finally {\n                        if (_didIteratorError12) {\n                            throw _iteratorError12;\n                        }\n                    }\n                }\n            }\n\n            if (stockData.BuySellTagID.size > 0) {\n                var _iteratorNormalCompletion13 = true;\n                var _didIteratorError13 = false;\n                var _iteratorError13 = undefined;\n\n                try {\n                    for (var _iterator13 = (0, _getIterator3.default)(stockData.BuySellTagID), _step13; !(_iteratorNormalCompletion13 = (_step13 = _iterator13.next()).done); _iteratorNormalCompletion13 = true) {\n                        var id = _step13.value;\n\n                        if (mapTagData.has(id)) {\n                            mapTagData.get(id).push(stockData.Symbol);\n                        } else {\n                            mapTagData.set(id, new Array(stockData.Symbol));\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError13 = true;\n                    _iteratorError13 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion13 && _iterator13.return) {\n                            _iterator13.return();\n                        }\n                    } finally {\n                        if (_didIteratorError13) {\n                            throw _iteratorError13;\n                        }\n                    }\n                }\n            }\n        }\n\n        return mapTagData;\n    };\n\n    this.RecvDerivativeData = function (data, datatype) {\n        var mapTagData = new _map2.default(); //key=界面元素id, value=更新的股票列表\n        for (var i in data.stock) {\n            var item = data.stock[i];\n            var stockData = this.MapStock.get(item.symbol);\n            if (!stockData) continue;\n\n            stockData.SetDerivativeData(item);\n\n            if (stockData.DerivativeTagID.size > 0) {\n                var _iteratorNormalCompletion14 = true;\n                var _didIteratorError14 = false;\n                var _iteratorError14 = undefined;\n\n                try {\n                    for (var _iterator14 = (0, _getIterator3.default)(stockData.DerivativeTagID), _step14; !(_iteratorNormalCompletion14 = (_step14 = _iterator14.next()).done); _iteratorNormalCompletion14 = true) {\n                        var id = _step14.value;\n\n                        if (mapTagData.has(id)) {\n                            mapTagData.get(id).push(stockData.Symbol);\n                        } else {\n                            mapTagData.set(id, new Array(stockData.Symbol));\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError14 = true;\n                    _iteratorError14 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion14 && _iterator14.return) {\n                            _iterator14.return();\n                        }\n                    } finally {\n                        if (_didIteratorError14) {\n                            throw _iteratorError14;\n                        }\n                    }\n                }\n            }\n        }\n\n        return mapTagData;\n    };\n\n    this.RecvFinanceData = function (data, datatype) {\n        var mapTagData = new _map2.default(); //key=界面元素id, value=更新的股票列表\n        for (var i in data.stock) {\n            var item = data.stock[i];\n            var stockData = this.MapStock.get(item.symbol);\n            if (!stockData) continue;\n\n            stockData.SetFinanceData(item);\n\n            if (stockData.FinanceTagID.size > 0) {\n                var _iteratorNormalCompletion15 = true;\n                var _didIteratorError15 = false;\n                var _iteratorError15 = undefined;\n\n                try {\n                    for (var _iterator15 = (0, _getIterator3.default)(stockData.FinanceTagID), _step15; !(_iteratorNormalCompletion15 = (_step15 = _iterator15.next()).done); _iteratorNormalCompletion15 = true) {\n                        var id = _step15.value;\n\n                        if (mapTagData.has(id)) {\n                            mapTagData.get(id).push(stockData.Symbol);\n                        } else {\n                            mapTagData.set(id, new Array(stockData.Symbol));\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError15 = true;\n                    _iteratorError15 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion15 && _iterator15.return) {\n                            _iterator15.return();\n                        }\n                    } finally {\n                        if (_didIteratorError15) {\n                            throw _iteratorError15;\n                        }\n                    }\n                }\n            }\n        }\n\n        return mapTagData;\n    };\n\n    this.RecvCapitalData = function (data, datatype) {\n        var mapTagData = new _map2.default(); //key=界面元素id, value=更新的股票列表\n        for (var i in data.stock) {\n            var item = data.stock[i];\n            var stockData = this.MapStock.get(item.symbol);\n            if (!stockData) continue;\n\n            stockData.SetCapitalData(item);\n\n            if (stockData.CapitalTagID.size > 0) {\n                var _iteratorNormalCompletion16 = true;\n                var _didIteratorError16 = false;\n                var _iteratorError16 = undefined;\n\n                try {\n                    for (var _iterator16 = (0, _getIterator3.default)(stockData.CapitalTagID), _step16; !(_iteratorNormalCompletion16 = (_step16 = _iterator16.next()).done); _iteratorNormalCompletion16 = true) {\n                        var id = _step16.value;\n\n                        if (mapTagData.has(id)) {\n                            mapTagData.get(id).push(stockData.Symbol);\n                        } else {\n                            mapTagData.set(id, new Array(stockData.Symbol));\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError16 = true;\n                    _iteratorError16 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion16 && _iterator16.return) {\n                            _iterator16.return();\n                        }\n                    } finally {\n                        if (_didIteratorError16) {\n                            throw _iteratorError16;\n                        }\n                    }\n                }\n            }\n        }\n\n        return mapTagData;\n    };\n\n    this.RecvDealData = function (data, datatype) {\n        var mapTagData = new _map2.default(); //key=界面元素id, value=更新的股票列表\n        for (var i in data.stock) {\n            var item = data.stock[i];\n            var stockData = this.MapStock.get(item.symbol);\n            if (!stockData) continue;\n\n            stockData.SetDealData(item);\n\n            if (stockData.DealTagID.size > 0) {\n                var _iteratorNormalCompletion17 = true;\n                var _didIteratorError17 = false;\n                var _iteratorError17 = undefined;\n\n                try {\n                    for (var _iterator17 = (0, _getIterator3.default)(stockData.DealTagID), _step17; !(_iteratorNormalCompletion17 = (_step17 = _iterator17.next()).done); _iteratorNormalCompletion17 = true) {\n                        var id = _step17.value;\n\n                        if (mapTagData.has(id)) {\n                            mapTagData.get(id).push(stockData.Symbol);\n                        } else {\n                            mapTagData.set(id, new Array(stockData.Symbol));\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError17 = true;\n                    _iteratorError17 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion17 && _iterator17.return) {\n                            _iterator17.return();\n                        }\n                    } finally {\n                        if (_didIteratorError17) {\n                            throw _iteratorError17;\n                        }\n                    }\n                }\n            }\n        }\n\n        return mapTagData;\n    };\n\n    this.RecvHeatData = function (data, datatype) {\n        var mapTagData = new _map2.default(); //key=界面元素id, value=更新的股票列表\n        for (var i in data.data) {\n            var item = data.data[i];\n            var stockData = this.MapStock.get(item.symbol);\n            if (!stockData) continue;\n\n            stockData.SetHeatData(item);\n\n            if (stockData.HeatTagID.size > 0) {\n                var _iteratorNormalCompletion18 = true;\n                var _didIteratorError18 = false;\n                var _iteratorError18 = undefined;\n\n                try {\n                    for (var _iterator18 = (0, _getIterator3.default)(stockData.HeatTagID), _step18; !(_iteratorNormalCompletion18 = (_step18 = _iterator18.next()).done); _iteratorNormalCompletion18 = true) {\n                        var id = _step18.value;\n\n                        if (mapTagData.has(id)) {\n                            mapTagData.get(id).push(stockData.Symbol);\n                        } else {\n                            mapTagData.set(id, new Array(stockData.Symbol));\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError18 = true;\n                    _iteratorError18 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion18 && _iterator18.return) {\n                            _iterator18.return();\n                        }\n                    } finally {\n                        if (_didIteratorError18) {\n                            throw _iteratorError18;\n                        }\n                    }\n                }\n            }\n        }\n\n        return mapTagData;\n    };\n\n    this.RecvSortData = function (data, datatype, sortItem) {\n        var mapTagData = new _map2.default(); //key=界面元素id, value=更新的股票列表\n        var arySymbol = new Array();\n        var stockData = this.MapStock.get(sortItem.Plate);\n\n        for (var i in data.stock) {\n            var item = data.stock[i];\n            arySymbol.push(item.symbol);\n\n            if (this.MapStock.has(item.symbol)) {\n                var itemData = this.MapStock.get(item.symbol);\n                itemData.SetBaseData(item);\n            } else {\n                var itemData = new StockData(item.symbol);\n                itemData.SetBaseData(item);\n                this.MapStock.set(item.symbol, itemData);\n            }\n        }\n\n        var key = sortItem.SortField.toString() + '-' + sortItem.Order.toString();\n        if (!stockData.Sort.has(key)) return mapTagData;\n\n        var sortData = stockData.Sort.get(key);\n        sortData.arySymbol = arySymbol;\n\n        var _iteratorNormalCompletion19 = true;\n        var _didIteratorError19 = false;\n        var _iteratorError19 = undefined;\n\n        try {\n            for (var _iterator19 = (0, _getIterator3.default)(sortItem.TagID), _step19; !(_iteratorNormalCompletion19 = (_step19 = _iterator19.next()).done); _iteratorNormalCompletion19 = true) {\n                var item = _step19.value;\n\n                mapTagData.set(item, new Array([stockData.Symbol]));\n            }\n        } catch (err) {\n            _didIteratorError19 = true;\n            _iteratorError19 = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion19 && _iterator19.return) {\n                    _iterator19.return();\n                }\n            } finally {\n                if (_didIteratorError19) {\n                    throw _iteratorError19;\n                }\n            }\n        }\n\n        return mapTagData;\n    };\n\n    this.RecvSubDocumentData = function (data, datatype) {\n        var mapTagData = new _map2.default(); //key=界面元素id, value=更新的股票列表\n        for (var i in data.stock) {\n            var item = data.stock[i];\n            var stockData = this.MapStock.get(item.symbol);\n            if (!stockData) continue;\n\n            var keyData = null;\n            switch (datatype) {\n                case RECV_DATA_TYPE.CAPITAL_FLOW_DAY_DATA:\n                    stockData.SetCapitalFlowDayData(item.flowday, datatype);\n                    keyData = stockData.CapitalFlowDayID;\n                    break;\n                case RECV_DATA_TYPE.CAPITAL_FLOW_DAY3_DATA:\n                    stockData.SetCapitalFlowDayData(item.flowday3, datatype);\n                    keyData = stockData.CapitalFlowDay3ID;\n                    break;\n                case RECV_DATA_TYPE.CAPITAL_FLOW_DAY5_DATA:\n                    stockData.SetCapitalFlowDayData(item.flowday5, datatype);\n                    keyData = stockData.CapitalFlowDay5ID;\n                    break;\n                case RECV_DATA_TYPE.CAPITAL_FLOW_DAY10_DATA:\n                    stockData.SetCapitalFlowDayData(item.flowday10, datatype);\n                    keyData = stockData.CapitalFlowDay10ID;\n                    break;\n                case RECV_DATA_TYPE.DDE_DAY_DATA:\n                    stockData.SetDDE(item.dde, datatype);\n                    keyData = stockData.DDEID;\n                    break;\n                case RECV_DATA_TYPE.DDE_DAY3_DATA:\n                    stockData.SetDDE(item.dde3, datatype);\n                    keyData = stockData.DDE3ID;\n                    break;\n                case RECV_DATA_TYPE.DDE_DAY5_DATA:\n                    stockData.SetDDE(item.dde5, datatype);\n                    keyData = stockData.DDE5ID;\n                    break;\n                case RECV_DATA_TYPE.DDE_DAY10_DATA:\n                    stockData.SetDDE(item.dde10, datatype);\n                    keyData = stockData.DDE10ID;\n                    break;\n            }\n\n            if (keyData && keyData.size > 0) {\n                var _iteratorNormalCompletion20 = true;\n                var _didIteratorError20 = false;\n                var _iteratorError20 = undefined;\n\n                try {\n                    for (var _iterator20 = (0, _getIterator3.default)(keyData), _step20; !(_iteratorNormalCompletion20 = (_step20 = _iterator20.next()).done); _iteratorNormalCompletion20 = true) {\n                        var id = _step20.value;\n\n                        if (mapTagData.has(id)) {\n                            mapTagData.get(id).push(stockData.Symbol);\n                        } else {\n                            mapTagData.set(id, new Array(stockData.Symbol));\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError20 = true;\n                    _iteratorError20 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion20 && _iterator20.return) {\n                            _iterator20.return();\n                        }\n                    } finally {\n                        if (_didIteratorError20) {\n                            throw _iteratorError20;\n                        }\n                    }\n                }\n            }\n        }\n\n        return mapTagData;\n    };\n\n    this.RecvEventData = function (data, datatype) {\n        var mapTagData = new _map2.default(); //key=界面元素id, value=更新的股票列表\n\n        for (var i in data.stock) {\n            var item = data.stock[i];\n            var stockData = this.MapStock.get(item.symbol);\n            if (!stockData) continue;\n\n            stockData.SetEventData(item);\n            if (stockData.EventTagID.size > 0) {\n                var _iteratorNormalCompletion21 = true;\n                var _didIteratorError21 = false;\n                var _iteratorError21 = undefined;\n\n                try {\n                    for (var _iterator21 = (0, _getIterator3.default)(stockData.EventTagID), _step21; !(_iteratorNormalCompletion21 = (_step21 = _iterator21.next()).done); _iteratorNormalCompletion21 = true) {\n                        var id = _step21.value;\n\n                        if (mapTagData.has(id)) mapTagData.get(id).push(stockData.Symbol);else mapTagData.set(id, new Array(stockData.Symbol));\n                    }\n                } catch (err) {\n                    _didIteratorError21 = true;\n                    _iteratorError21 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion21 && _iterator21.return) {\n                            _iterator21.return();\n                        }\n                    } finally {\n                        if (_didIteratorError21) {\n                            throw _iteratorError21;\n                        }\n                    }\n                }\n            }\n        }\n\n        return mapTagData;\n    };\n\n    this.RecvCompanyData = function (data, datatype) {\n        var mapTagData = new _map2.default(); //key=界面元素id, value=更新的股票列表\n        for (var i in data.stock) {\n            var item = data.stock[i];\n            var stockData = this.MapStock.get(item.symbol);\n            if (!stockData) continue;\n\n            stockData.SetCompanyData(item);\n\n            if (stockData.CompanyTagID.size > 0) {\n                var _iteratorNormalCompletion22 = true;\n                var _didIteratorError22 = false;\n                var _iteratorError22 = undefined;\n\n                try {\n                    for (var _iterator22 = (0, _getIterator3.default)(stockData.CompanyTagID), _step22; !(_iteratorNormalCompletion22 = (_step22 = _iterator22.next()).done); _iteratorNormalCompletion22 = true) {\n                        var id = _step22.value;\n\n                        if (mapTagData.has(id)) {\n                            mapTagData.get(id).push(stockData.Symbol);\n                        } else {\n                            mapTagData.set(id, new Array(stockData.Symbol));\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError22 = true;\n                    _iteratorError22 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion22 && _iterator22.return) {\n                            _iterator22.return();\n                        }\n                    } finally {\n                        if (_didIteratorError22) {\n                            throw _iteratorError22;\n                        }\n                    }\n                }\n            }\n        }\n\n        return mapTagData;\n    };\n\n    this.RecvPlateData = function (data, datatype) {\n        var mapTagData = new _map2.default(); //key=界面元素id, value=更新的股票列表\n        for (var i in data.stock) {\n            var item = data.stock[i];\n            var stockData = this.MapStock.get(item.symbol);\n            if (!stockData) continue;\n\n            stockData.SetPlateData(item);\n\n            if (stockData.PlateTagID.size > 0) {\n                var _iteratorNormalCompletion23 = true;\n                var _didIteratorError23 = false;\n                var _iteratorError23 = undefined;\n\n                try {\n                    for (var _iterator23 = (0, _getIterator3.default)(stockData.PlateTagID), _step23; !(_iteratorNormalCompletion23 = (_step23 = _iterator23.next()).done); _iteratorNormalCompletion23 = true) {\n                        var id = _step23.value;\n\n                        if (mapTagData.has(id)) {\n                            mapTagData.get(id).push(stockData.Symbol);\n                        } else {\n                            mapTagData.set(id, new Array(stockData.Symbol));\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError23 = true;\n                    _iteratorError23 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion23 && _iterator23.return) {\n                            _iterator23.return();\n                        }\n                    } finally {\n                        if (_didIteratorError23) {\n                            throw _iteratorError23;\n                        }\n                    }\n                }\n            }\n        }\n\n        return mapTagData;\n    };\n}\n\n//股票搜索返回数据\nfunction SearchStock(callback) {\n    this.SearchStockApiUrl = g_JSStockResource.Domain + \"/API/StockSpell\";\n    this.UpdateUICallback = callback;\n    this.PageSize = 50; //一页几个数据\n\n    this.Count; //一共的个数\n    this.EndOffset; //当前缓存数据的最后一个位移\n\n    this.Data = new Array();\n    this.SearchString = \"\";\n    this.SearchType = 0;\n\n    this.Search = function (input, type) {\n        if (this.SearchString == input && this.SearchType == type) {\n            if (typeof this.UpdateUICallback == 'function') this.UpdateUICallback(this);\n        } else {\n            this.SearchString = input;\n            this.SearchType = type;\n            this.Count = 0;\n            this.EndOffset = 0;\n            this.Data = [];\n            var end = this.PageSize - 1;\n            this.ReqeustSearchStock(this.SearchString, this.SearchType, this.EndOffset, end);\n        }\n    };\n\n    this.IsEndPage = function () {\n        if (this.Count <= 0) return true;\n\n        return this.EndOffset > this.Count - 1;\n    };\n\n    this.NextPage = function () {\n        if (this.EndOffset + 1 > this.Count) return;\n\n        var end = this.EndOffset + this.PageSize;\n        this.ReqeustSearchStock(this.SearchString, this.SearchType, this.EndOffset, end);\n    };\n\n    ///////////////////////////////////////////////////////////////////////\n    //查询股票\n    this.ReqeustSearchStock = function (input, type, start, end) {\n        var self = this;\n\n        _jquery2.default.ajax({\n            url: this.SearchStockApiUrl,\n            data: {\n                \"input\": input,\n                \"start\": start,\n                \"end\": end,\n                'type': type\n            },\n            type: \"post\",\n            dataType: \"json\",\n            async: true,\n            success: function success(data) {\n                self.RecvSearchStockData(data, RECV_DATA_TYPE.SEARCH_STOCK_DATA);\n            },\n            error: function error(request) {\n                self.RecvError(request, RECV_DATA_TYPE.SEARCH_STOCK_DATA);\n            }\n        });\n    };\n\n    this.RecvSearchStockData = function (data) {\n        for (var i in data.stock) {\n            var item = data.stock[i];\n            this.Data.push({ \"Name\": item.name, \"Symbol\": item.symbol, \"Type\": item.type });\n        }\n\n        if (data.count == 0) {\n            this.Count = 0;\n            this.EndOffset = 0;\n        } else {\n            if (this.Count == 0) this.Count = data.count;\n\n            this.EndOffset = data.end;\n            if (this.Count > 0 && this.EndOffset > this.Count) this.EndOffset = this.Count - 1;\n        }\n\n        if (typeof this.UpdateUICallback == 'function') this.UpdateUICallback(this);\n    };\n\n    this.RecvError = function (request, type) {\n        console.log(\"[SearchStock::RecvError] datatype=\" + type.toString());\n        console.log(request);\n\n        if (typeof this.UpdateUICallback == 'function') this.UpdateUICallback(this, \"error\");\n    };\n}\n\n//数据基类\nfunction IStockData() {\n    this.IsAutoUpdate = true; //是否自动更新\n    this.AutoUpateTimeout = 5000; //更新频率\n    this.Timeout; //定时器\n    this.ApiUrl;\n    this.Data; //数据\n    this.Error; //错误信息\n    this.UpdateUICallback; //回调函数\n\n    this.RequestData = function () {};\n\n    this.Stop = function () {\n        // console.log(\"[IStockData::Stop] stop update.\")\n        this.IsAutoUpdate = false;\n        if (this.Timeout) clearTimeout(this.Timeout); //清空定时器\n    };\n\n    this.AutoUpate = function () {\n        if (this.Timeout) clearTimeout(this.Timeout); //清空定时器\n\n        if (!this.IsAutoUpdate) return;\n\n        if (this.Timeout) clearTimeout(this.Timeout); //清空定时器\n        if (!this.IsAutoUpdate) return;\n\n        var self = this;\n        if (this.Symbol) {\n            var status = STOCK_MARKET.GetMarketStatus(this.Symbol);\n            if (status == 2) this.Timeout = setTimeout(function () {\n                self.RequestData();\n            }, this.AutoUpateTimeout);else if (status == 1) this.Timeout = setTimeout(function () {\n                self.AutoUpdate();\n            }, this.AutoUpateTimeout);\n        } else {\n            //周日 周6 不更新， [9：30-3：30] 以外的时间不更新\n            var self = this;\n            var today = new Date();\n            var time = today.getHours() * 100 + today.getMinutes();\n            if (today.getDay() > 0 && today.getDay() < 6 && time >= 930 && time < 1530) this.Timeout = setTimeout(function () {\n                self.RequestData();\n            }, this.AutoUpateTimeout);\n        }\n    };\n\n    this.InvokeUpdateUICallback = function () {\n        if (this.UpdateUICallback) this.UpdateUICallback(this);\n    };\n}\n\n//短线精灵 只获取最新数据\nfunction ShortTerm(symbol) {\n    this.newMethod = IStockData; //派生\n    this.newMethod();\n    delete this.newMethod;\n\n    this.Symbol = symbol; //数组\n    this.ApiUrl = g_JSStockResource.Domain + \"/API/StockShortTerm\";\n    this.Count = 20; //请求数据个数\n\n    this.RequestData = function () {\n        var self = this;\n        var data = { count: this.Count };\n        if (this.Symbol) data.symbol = this.Symbol;\n\n        _jquery2.default.ajax({\n            url: this.ApiUrl,\n            data: data,\n            type: \"post\",\n            dataType: 'json',\n            async: true,\n            success: function success(data) {\n                self.RecvData(data, RECV_DATA_TYPE.SHORT_TERM_DATA);\n            },\n            fail: function fail(request) {\n                self.RecvError(request, RECV_DATA_TYPE.SHORT_TERM_DATA);\n            }\n        });\n    };\n\n    this.RecvData = function (data, dataType) {\n\n        this.Data = [];\n        for (var i in data.shortterm) {\n            var item = data.shortterm[i];\n            this.Data.push({\n                Date: item.date,\n                Name: item.name,\n                Symbol: item.symbol,\n                Time: item.time,\n                Content: item.content,\n                TypeInfo: item.typeinfo,\n                Type: item.type\n            });\n        }\n\n        if (this.UpdateUICallback) this.UpdateUICallback(this);\n\n        this.AutoUpate();\n    };\n\n    this.RecvError = function (request, dataType) {};\n}\n\n//每天历史的分笔数据 \nfunction DealDay(symbol) {\n    this.newMethod = IStockData; //派生\n    this.newMethod();\n    delete this.newMethod;\n\n    this.Symbol = symbol; //数组\n    this.Date; //交易日期\n\n    this.RequestData = function () {\n        this.Data = null;\n        this.Error = null;\n\n        var self = this;\n        var apiUrl = g_JSStockResource.CacheDomain + \"/cache/dealday/day/\" + this.Date + '/' + this.Symbol + '.json';\n        console.log('[DealDay::RequestData] cache url ', apiUrl);\n        _jquery2.default.ajax({\n            url: apiUrl,\n            type: \"get\",\n            dataType: 'json',\n            async: true,\n            success: function success(data) {\n                self.RecvData(data, RECV_DATA_TYPE.DEAL_DAY_DATA);\n            },\n            error: function error(request) {\n                self.RecvError(request, RECV_DATA_TYPE.DEAL_DAY_DATA);\n            }\n        });\n    };\n\n    this.RecvData = function (data, dataType) {\n        if (!data.day || !data.deal) {\n            this.InvokeUpdateUICallback();\n            return;\n        }\n\n        var amount = data.deal.amount;\n        var price = data.deal.price;\n        var time = data.deal.time;\n        var vol = data.deal.vol;\n        var flag = data.deal.flag;\n\n        if (!flag || !vol || !time || !price || !amount) {\n            this.InvokeUpdateUICallback();\n            return;\n        }\n\n        var dealData = {\n            Date: data.date, //日期\n            Open: data.day.open, //开盘\n            Close: data.day.price, //收盘\n            YClose: data.day.yclose, //昨收\n            Symbol: data.symbol,\n            Name: data.name,\n            Deal: [],\n            PriceList: [] //分价表\n        };\n\n        var mapPrice = new _map2.default(); //分价表 key=价格 value={Vol:成交量, Proportion:占比, Price:价格, BuyVol:买量, SellVol:买量, NoneVol:不明盘  }\n        var totalVol = 0; //一共的成交量\n        var minCount = Math.min(time.length, vol.length, flag.length, price.length, amount.length);\n        for (var i = 0; i < minCount; ++i) {\n            var _item = { Time: time[i], Vol: vol[i], Flag: '', Price: price[i], Amount: amount[i] };\n            if (flag[i] === 0) _item.Flag = 'B';else if (flag[i] === 1) _item.Flag = 'S';\n\n            if (_item.Time > 150000) _item.Time = 150000; //盘后数据都算在15:00\n\n            dealData.Deal.push(_item);\n            var priceItem;\n            if (mapPrice.has(_item.Price)) {\n                priceItem = mapPrice.get(_item.Price);\n                priceItem.Vol += _item.Vol; //成交量累加\n            } else {\n                priceItem = { Vol: _item.Vol, Price: _item.Price, BuyVol: 0, SellVol: 0, NoneVol: 0 };\n                mapPrice.set(_item.Price, priceItem);\n            }\n\n            if (flag[i] === 0) priceItem.BuyVol += _item.Vol;else if (flag[i] === 1) priceItem.SellVol += _item.Vol;else priceItem.NoneVol += _item.Vol;\n\n            totalVol += _item.Vol;\n        }\n\n        var _iteratorNormalCompletion24 = true;\n        var _didIteratorError24 = false;\n        var _iteratorError24 = undefined;\n\n        try {\n            for (var _iterator24 = (0, _getIterator3.default)(mapPrice), _step24; !(_iteratorNormalCompletion24 = (_step24 = _iterator24.next()).done); _iteratorNormalCompletion24 = true) {\n                var item = _step24.value;\n\n                var itemData = item[1];\n                if (totalVol > 0) itemData.Proportion = itemData.Vol / totalVol;\n                dealData.PriceList.push(itemData);\n            }\n        } catch (err) {\n            _didIteratorError24 = true;\n            _iteratorError24 = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion24 && _iterator24.return) {\n                    _iterator24.return();\n                }\n            } finally {\n                if (_didIteratorError24) {\n                    throw _iteratorError24;\n                }\n            }\n        }\n\n        dealData.PriceList.sort(function (a, b) {\n            return b.Price - a.Price;\n        }); //排序\n\n        this.Data = dealData;\n\n        this.InvokeUpdateUICallback();\n    };\n\n    this.RecvError = function (request, dataType) {\n        console.log(\"[DealDay::RecvError] status=\" + request.status + \" statusText=\" + request.statusText + \" responseText=\" + request.responseText);\n\n        this.Error = { Status: request.status, Message: request.responseText };\n        this.InvokeUpdateUICallback();\n    };\n}\n\n//板块成分 支持排序\nfunction BlockMember(symbol) {\n    this.newMethod = IStockData; //派生\n    this.newMethod();\n    delete this.newMethod;\n\n    this.ApiUrl = g_JSStockResource.Domain + \"/API/StockBlockMember\";\n    this.PageSize = 10; //一页几个数据\n    this.Start = 0; //取数据的起始位置\n    this.OrderField; //排序字段\n    this.Order; //排序方向 -1 /1\n    this.Symbol = symbol;\n    this.OrderNull = 0; //排序是否提出null字段\n\n    this.Field = new Array(); //字段\n    this.Data = new Array(); //数据\n\n    this.PageInfo; //分页信息\n\n    this.SetField = function (aryFiled) {\n        this.Field = new Array();\n        for (var i in aryFiled) {\n            var item = aryFiled[i];\n            var name = StockDataFieldName.GetFieldName(item);\n            if (name == null) continue;\n\n            this.Field.push(name);\n        }\n        // this.Field = aryFiled.length > 0 ? aryFiled : [];\n\n        return this.Field.length > 0;\n    };\n\n    this.SetOrder = function (fieldID, order) {\n        this.Order = null;\n        this.OrderField = null;\n\n        var name = StockDataFieldName.GetFieldName(fieldID);\n        if (name == null) return false;\n\n        this.OrderField = name;\n        this.Order = order;\n        return true;\n    };\n\n    this.RequestData = function () {\n        this.Data = [];\n        var self = this;\n\n        _jquery2.default.ajax({\n            url: this.ApiUrl,\n            data: {\n                \"symbol\": this.Symbol,\n                \"field\": this.Field,\n                \"order\": this.Order,\n                \"orderfield\": this.OrderField,\n                \"start\": this.Start,\n                \"end\": this.Start + this.PageSize,\n                \"ordernull\": this.OrderNull\n            },\n            type: \"post\",\n            dataType: 'json',\n            success: function success(data) {\n                self.RecvData(data, RECV_DATA_TYPE.BLOCK_MEMBER_DATA);\n            },\n            error: function error(request) {\n                self.RecvError(request, RECV_DATA_TYPE.BLOCK_MEMBER_DATA);\n            }\n        });\n    };\n\n    this.RecvData = function (data, dataType) {\n        for (var i in data.stock) {\n            var item = data.stock[i];\n            if (item.symbol == null) continue;\n\n            var stock = new StockData(item.symbol);\n            stock.SetData(item);\n\n            this.Data.push(stock);\n        }\n\n        this.PageInfo = { Count: data.count, Start: data.start, End: data.end };\n\n        if (typeof this.UpdateUICallback == 'function') this.UpdateUICallback(this);\n\n        this.AutoUpate(); //自动更新\n    };\n\n    this.RecvError = function (reqeust, dataType) {};\n}\n\n//板块排名\nfunction BlockTop() {\n    this.newMethod = IStockData; //派生\n    this.newMethod();\n    delete this.newMethod;\n\n    this.BlockType = 1; //板块类型\n    this.Count = 20;\n\n    this.OrderField = 'increase'; //排序字段\n    this.Order = -1; //排序方向 -1 /1\n    this.Field = [\"symbol\", \"price\", \"name\", \"vol\", \"increase\", \"indextop\", 'risefall'];\n\n    this.ApiUrl = g_JSStockResource.Domain + \"/API/StockBlockTop\";\n\n    this.SetField = function (field) {};\n\n    this.ReqeustData = function () {\n        var self = this;\n\n        _jquery2.default.ajax({\n            url: this.ApiUrl,\n            data: {\n                \"blocktype\": this.BlockType,\n                \"start\": 0,\n                \"end\": this.Count,\n                \"field\": this.Field,\n                \"orderfield\": this.OrderField,\n                \"order\": this.Order\n            },\n            type: \"post\",\n            dataType: 'json',\n            async: true,\n            success: function success(data) {\n                self.RecvData(data, RECV_DATA_TYPE.BLOCK_TOP_DATA);\n            },\n            fail: function fail(request) {\n                self.RecvError(request, RECV_DATA_TYPE.BLOCK_TOP_DATA);\n            }\n        });\n    };\n\n    this.RecvData = function (recvData, dataType) {\n        var data = recvData;\n\n        this.Data = [];\n        this.resCount = data.count;\n        for (var i in data.stock) {\n            var item = data.stock[i];\n            if (item.indextop != null) {\n                var indextop = {\n                    Down: item.indextop.down,\n                    Stop: item.indextop.stop,\n                    Up: item.indextop.up,\n                    Unchanged: item.indextop.unchanged,\n                    DownStock: { Name: item.indextop.downstock.name, Symbol: item.indextop.downstock.symbol },\n                    UpStock: { Name: item.indextop.upstock.name, Symbol: item.indextop.upstock.symbol }\n                };\n            };\n            this.Data.push({\n                Name: item.name,\n                Symbol: item.symbol,\n                Increase: item.increase,\n                Risefall: item.risefall,\n                IndexTop: indextop\n            });\n        }\n\n        if (this.UpdateUICallback) this.UpdateUICallback(this);\n\n        this.AutoUpate();\n    };\n\n    this.RecvError = function (request, dataType) {};\n}\n\n//获取股票走势图图片路径\nfunction MinuteImage(symbol) {\n    this.newMethod = IStockData; //派生\n    this.newMethod();\n    delete this.newMethod;\n\n    this.ApiUrl = g_JSStockResource.Domain + \"/API/StockMinuteImage\";\n    this.Symbol = [symbol]; //支持批量获取\n    this.Data = []; //数据 {Symbol: 股票代码, Image:图片相对路径 }\n\n    this.RequestData = function () {\n        this.Data = [];\n        var self = this;\n\n        _jquery2.default.ajax({\n            url: this.ApiUrl,\n            data: { \"symbol\": this.Symbol },\n            type: \"post\",\n            dataType: 'json',\n            success: function success(data) {\n                self.RecvData(data, RECV_DATA_TYPE.IMAGE_MINUTE_DATA);\n            },\n            error: function error(request) {\n                self.RecvError(request, RECV_DATA_TYPE.IMAGE_MINUTE_DATA);\n            }\n        });\n    };\n\n    this.RecvData = function (data, dataType) {\n        for (var i in data.symbol) {\n            var item = { Symbol: data.symbol[i], Image: data.imagerelative[i] };\n            this.Data.push(item);\n        }\n\n        if (typeof this.UpdateUICallback == 'function') this.UpdateUICallback(this);\n    };\n\n    this.RecvError = function (reqeust, dataType) {};\n}\n\n//获取历史K线数据(不包含最新数据)\nfunction HistoryDayData(symbol) {\n    this.newMethod = IStockData; //派生\n    this.newMethod();\n    delete this.newMethod;\n\n    this.Symbol = symbol; //数组\n\n    this.RequestData = function () {\n        this.Data = null;\n        this.Error = null;\n\n        var self = this;\n\n        var apiUrl = g_JSStockResource.CacheDomain + \"/cache/historyday/all/\" + this.Symbol + '.json';\n        console.log('[HistoryDayData::RequestData] cache url ', apiUrl);\n        _jquery2.default.ajax({\n            url: apiUrl,\n            type: \"get\",\n            dataType: 'json',\n            async: true,\n            success: function success(data) {\n                self.RecvData(data, RECV_DATA_TYPE.HISTORY_DAY_DATA);\n            },\n            error: function error(request) {\n                self.RecvError(request, RECV_DATA_TYPE.HISTORY_DAY_DATA);\n            }\n        });\n    };\n\n    this.RecvData = function (data, dataType) {\n        if (!data.symbol || !data.name) {\n            this.InvokeUpdateUICallback();\n            return;\n        }\n\n        var amount = data.amount;\n        var close = data.close;\n        var date = data.date;\n        var high = data.high;\n        var low = data.low;\n        var open = data.open;\n        var vol = data.vol;\n        var yclose = data.yclose;\n\n        if (!amount || !close || !date || !high || !low || !open || !vol || !yclose) {\n            this.InvokeUpdateUICallback();\n            return;\n        }\n\n        var historyData = {\n            UpdateDate: data.update,\n            Symbol: data.symbol,\n            Name: data.name,\n            KLine: []\n        };\n\n        for (var i = 0; i < date.length; ++i) {\n            var item = { Date: date[i], YClose: yclose[i], Open: open[i], High: high[i], Low: low[i], Close: close[i], Vol: vol[i], Amount: amount[i] };\n\n            historyData.KLine.push(item);\n        }\n\n        this.Data = historyData;\n\n        this.InvokeUpdateUICallback();\n    };\n\n    this.RecvError = function (request, dataType) {\n        console.log(\"[HistoryDayData::RecvError] status=\" + request.status + \" statusText=\" + request.statusText + \" responseText=\" + request.responseText);\n\n        this.Error = { Status: request.status, Message: request.responseText };\n        this.InvokeUpdateUICallback();\n    };\n\n    this.GetWeekData = function () {\n        if (!this.Data || !this.Data.KLine) return [];\n\n        var result = this.GetDayPeriodData(1);\n        return result;\n    };\n\n    this.GetMonthData = function () {\n        if (!this.Data || !this.Data.KLine) return [];\n\n        var result = this.GetDayPeriodData(2);\n        return result;\n    };\n\n    //计算周,月,年\n    this.GetDayPeriodData = function (period) {\n        var result = new Array();\n        var index = 0;\n        var startDate = 0;\n        var newData = null;\n        for (var i in this.Data.KLine) {\n            var isNewData = false;\n            var dayData = this.Data.KLine[i];\n\n            switch (period) {\n                case 1:\n                    //周线\n                    var fridayDate = this.GetFirday(dayData.Date);\n                    if (fridayDate != startDate) {\n                        isNewData = true;\n                        startDate = fridayDate;\n                    }\n                    break;\n                case 2:\n                    //月线\n                    if (parseInt(dayData.Date / 100) != parseInt(startDate / 100)) {\n                        isNewData = true;\n                        startDate = dayData.Date;\n                    }\n                    break;\n                case 3:\n                    //年线\n                    if (parseInt(dayData.Date / 10000) != parseInt(startDate / 10000)) {\n                        isNewData = true;\n                        startDate = dayData.Date;\n                    }\n                    break;\n            }\n\n            if (isNewData) {\n                newData = {};\n                newData.Date = dayData.Date;\n                result.push(newData);\n\n                if (dayData.Open == null || dayData.Close == null) continue;\n\n                newData.Open = dayData.Open;\n                newData.High = dayData.High;\n                newData.Low = dayData.Low;\n                newData.YClose = dayData.YClose;\n                newData.Close = dayData.Close;\n                newData.Vol = dayData.Vol;\n                newData.Amount = dayData.Amount;\n            } else {\n                if (newData == null) continue;\n                if (dayData.Open == null || dayData.Close == null) continue;\n\n                if (newData.Open == null || newData.Close == null) {\n                    newData.Open = dayData.Open;\n                    newData.High = dayData.High;\n                    newData.Low = dayData.Low;\n                    newData.YClose = dayData.YClose;\n                    newData.Close = dayData.Close;\n                    newData.Vol = dayData.Vol;\n                    newData.Amount = dayData.Amount;\n                } else {\n                    if (newData.High < dayData.High) newData.High = dayData.High;\n                    if (newData.Low > dayData.Low) newData.Low = dayData.Low;\n\n                    newData.Close = dayData.Close;\n                    newData.Vol += dayData.Vol;\n                    newData.Amount += dayData.Amount;\n                    newData.Date = dayData.Date;\n                }\n            }\n        }\n\n        return result;\n    };\n\n    this.GetFirday = function (value) {\n        var date = new Date(parseInt(value / 10000), value / 100 % 100 - 1, value % 100);\n        var day = date.getDay();\n        if (day == 5) return value;\n\n        var timestamp = date.getTime();\n        if (day < 5) {\n            var prevTimestamp = 24 * 60 * 60 * 1000 * (5 - day);\n            timestamp += prevTimestamp;\n        } else {\n            var prevTimestamp = 24 * 60 * 60 * 1000 * (day - 5);\n            timestamp -= prevTimestamp;\n        }\n\n        date.setTime(timestamp);\n        var fridayDate = date.getFullYear() * 10000 + (date.getMonth() + 1) * 100 + date.getDate();\n        var week = date.getDay();\n        return fridayDate;\n    };\n}\n\n//最新个股分价表\nfunction DealPriceListData(symbol) {\n    this.newMethod = IStockData; //派生\n    this.newMethod();\n    delete this.newMethod;\n\n    this.Symbol = symbol;\n    this.ApiUrl = g_JSStockResource.Domain + \"/API/StockPriceList\";\n\n    this.RequestData = function () {\n        if (!this.Symbol) return;\n\n        var self = this;\n        var data = {};\n        if (Array.isArray(this.Symbol)) data.Symbol = this.Symbol; //数组\n        else data.Symbol = [this.Symbol];\n\n        _jquery2.default.ajax({\n            url: this.ApiUrl,\n            data: data,\n            type: \"post\",\n            dataType: 'json',\n            async: true,\n            success: function success(data) {\n                self.RecvData(data, RECV_DATA_TYPE.DEAL_PRICE_LIST_DATA);\n            },\n            fail: function fail(request) {\n                self.RecvError(request, RECV_DATA_TYPE.DEAL_PRICE_LIST_DATA);\n            }\n        });\n    };\n\n    this.RecvData = function (data, dataType) {\n        this.Data = null;\n        if (data.statistics.length <= 0) return;\n        this.Data = { Day: {}, PriceList: [] };\n        var stock = data.data[0];\n        this.Data.Day = { Date: stock.date, YClose: stock.yclose, Price: stock.price, Vol: stock.vol, Time: stock.time };\n        this.Data.Stock = { Symbol: stock.symbol, Name: stock.name };\n\n        /*\r\n        var aryPrice=stock.pricelist;\r\n        var aryVol=stock.vollist;\r\n        for (let i=0;i<aryPrice.length;++i) \r\n        {\r\n            let item = {Price:aryPrice[i], Vol: aryVol[i]};\r\n            if (stock.vol>0) item.Rate=item.Vol/stock.vol;  //占比\r\n           \r\n            this.Data.PriceList.push(item);\r\n        }\r\n        */\n\n        var stockPrice = data.statistics[0];\n        for (var i in stockPrice.list) {\n            var item = stockPrice.list[i];\n\n            var newItem = { Price: item[0], Vol: item[1], BuyVol: item[2], SellVol: item[3], NoneVol: item[4] };\n            if (stock.vol > 0) newItem.Proportion = newItem.Vol / stock.vol;\n\n            this.Data.PriceList.push(newItem);\n        }\n\n        if (this.UpdateUICallback) this.UpdateUICallback(this);\n\n        this.AutoUpate();\n    };\n\n    this.RecvError = function (request, dataType) {};\n}\n\n//最新分笔数据\nfunction LatestDetailData(symbol) {\n    this.newMethod = IStockData; //派生\n    this.newMethod();\n    delete this.newMethod;\n\n    this.IsAutoUpdate = false;\n    this.Symbol = symbol; //单个股票\n    this.PageSize = 20;\n\n    this.Request = function (pageIndex, pageSize) {\n        this.Error = null;\n        var self = this;\n        var start = pageIndex * pageSize;\n        var end = start + pageSize;\n        var apiUrl = g_JSStockResource.Domain + \"/API/StockDetail\";\n        console.log(\"[LatestDetailData::RequestData] url=\" + apiUrl + \", start=\" + start + \" , end=\" + end);\n\n        _jquery2.default.ajax({\n            url: apiUrl,\n            data: {\n                \"symbol\": this.Symbol,\n                \"start\": start,\n                \"end\": end\n            },\n            type: \"post\",\n            dataType: 'json',\n            async: true,\n            success: function success(data) {\n                self.RecvData(data, RECV_DATA_TYPE.LATEST_DETAIL_DATA);\n            },\n            error: function error(request) {\n                self.RecvError(request, RECV_DATA_TYPE.LATEST_DETAIL_DATA);\n            }\n        });\n    };\n\n    this.RequestData = function () //第1次请求\n    {\n        this.Data = { Deal: [], Count: 0, Reqeust: { PageIndex: 0 }, Response: {} };\n        this.Request(0, this.PageSize);\n    };\n\n    this.RequestPage = function (pageIndex) {\n        if (!this.Data) this.Data = { Deal: [], Count: 0 };\n        this.Data.Reqeust = { PageIndex: pageIndex };\n        this.Data.Response = {};\n\n        var start = pageIndex * this.PageSize;\n        var end = start + this.PageSize;\n        //检测内存里是否已经有了\n        var bCache = true;\n        for (var i = start; i < end; ++i) {\n            if (!this.Data.Deal[i]) {\n                bCache = false;\n                break;\n            }\n        }\n\n        if (bCache) {\n            this.Data.Response = { Start: start, End: end };\n            this.InvokeUpdateUICallback();\n        } else {\n            this.Request(pageIndex, this.PageSize);\n        }\n    };\n\n    this.RecvData = function (data, dataType) {\n        this.Data.Count = data.count;\n        if (!data.detail) {\n            this.InvokeUpdateUICallback();\n            return;\n        }\n\n        this.Data.Day = { YClose: data.yclose, Open: data.open, Close: data.price, Date: data.date };\n        this.Data.Stock = { Symbol: data.symbol, Name: data.name };\n\n        var start = data.start;\n        for (var i = 0, index = start; i < data.detail.length; ++i, ++index) {\n            var item = data.detail[i];\n            var detailItem = { Time: item[0], Price: item[1], Vol: item[2], Amount: item[3], Flag: '' };\n            if (item[4] === 0) detailItem.Flag = 'B';else if (item[4] === 1) detailItem.Flag = 'S';\n\n            this.Data.Deal[index] = detailItem;\n        }\n\n        this.Data.Response = { Start: data.start, End: data.end };\n        this.InvokeUpdateUICallback();\n    };\n\n    this.RecvError = function (request, dataType) {\n        console.log(\"[LatestDetailData::RecvError] status=\" + request.status + \" statusText=\" + request.statusText + \" responseText=\" + request.responseText);\n\n        this.Error = { Status: request.status, Message: request.responseText };\n        this.InvokeUpdateUICallback();\n    };\n}\n\n//分析板块请求数据\nfunction AnalylisPlate() {\n    this.newMethod = IStockData; //派生\n    this.newMethod();\n    delete this.newMethod;\n\n    this.ApiUrl = g_JSStockResource.Domain + \"/api/StockListAnalyze\";\n    this.PolicyGuid; //查询策略的Guid\n    this.Plate = \"\"; //板块id\n    this.SymbolList = []; //股票列表\n\n    this.RequestData = function () {\n        var self = this;\n        _jquery2.default.ajax({\n            url: self.ApiUrl,\n            data: {\n                \"PolicyGuid\": self.PolicyGuid,\n                \"Plate\": self.Plate,\n                \"Symbol\": self.SymbolList\n            },\n            type: \"post\",\n            dataType: 'json',\n            async: true,\n            success: function success(data) {\n                self.RecvData(data);\n            },\n            error: function error(request) {\n                self.RecvError(request);\n            }\n        });\n    };\n\n    this.RecvData = function (recvData) {\n        this.Data = {};\n        // console.log(recvData.data,\"recvData,分析板块:::::\")\n        var data = recvData;\n        if (data.count == 0) return;\n\n        if (data.concept) {\n            //概念占比\n            // 0 = 概念名称 1 = 代码 0 = 占比 3 = 个数 4 = 涨幅 5 = 最新价 6 = 一周涨幅 7 = 四周涨幅\n            var conceptList = [];\n            for (var i in data.concept.data) {\n                var item = data.concept.data[i];\n                var info = {};\n                info.Name = item[0];\n                info.Symbol = item[1];\n                info.Ratio = item[2];\n                info.Count = item[3];\n                info.Increase = item[4];\n                info.Price = item[5];\n                info.Week1 = item[6];\n                info.Week4 = item[7];\n                conceptList.push(info);\n            }\n            this.Data.Concept = conceptList;\n        }\n        if (data.distributed) {\n            //股票类型占比\n            this.Data.Distributed = data.distributed;\n        }\n        if (data.industry) {\n            //行业占比\n            this.Data.Industry = data.industry;\n        }\n        if (data.quadrant) {\n            //四象限占比\n            this.Data.Quadrant = data.quadrant;\n        }\n        if (data.region) {\n            //四象限占比\n            this.Data.Region = data.region;\n        }\n\n        // console.log(this.Data,\"this.Data\")\n        if (this.UpdateUICallback) this.UpdateUICallback(this);\n    };\n\n    this.RecvError = function (request) {\n        console.log(request);\n    };\n}\n\nvar STOCK_MARKET = {\n    SH: '.SH',\n    SZ: '.SZ',\n    HK: '.HK',\n    SHFE: '.SHF', //上期所 (Shanghai Futures Exchange)\n    CFFEX: '.CFE', //中期所 (China Financial Futures Exchange)\n    DCE: '.DCE', //大连商品交易所(Dalian Commodity Exchange)\n    CZCE: '.CZC', //郑州期货交易所\n    USA: '.USA', //美股\n\n    IsUSA: function IsUSA(upperSymbol) //是否是美股\n    {\n        if (!upperSymbol) return false;\n        return upperSymbol.indexOf(this.USA) > 0;\n    },\n\n    IsSH: function IsSH(upperSymbol) {\n        //需要精确匹配最后3位\n        var pos = upperSymbol.length - this.SH.length;\n        var find = upperSymbol.indexOf(this.SH);\n        return find == pos;\n    },\n\n    IsSZ: function IsSZ(upperSymbol) {\n        var pos = upperSymbol.length - this.SZ.length;\n        var find = upperSymbol.indexOf(this.SZ);\n        return find == pos;\n    },\n\n    IsHK: function IsHK(upperSymbol) {\n        var pos = upperSymbol.length - this.HK.length;\n        var find = upperSymbol.indexOf(this.HK);\n        return find == pos;\n    },\n\n    IsSHFE: function IsSHFE(upperSymbol) {\n        return upperSymbol.indexOf(this.SHFE) > 0;\n    },\n\n    IsCFFEX: function IsCFFEX(upperSymbol) {\n        return upperSymbol.indexOf(this.CFFEX) > 0;\n    },\n\n    IsDCE: function IsDCE(upperSymbol) {\n        return upperSymbol.indexOf(this.DCE) > 0;\n    },\n\n    IsCZCE: function IsCZCE(upperSymbol) {\n        return upperSymbol.indexOf(this.CZCE) > 0;\n    },\n\n    IsChinaFutures: function IsChinaFutures(upperSymbol) //是否是国内期货\n    {\n        return this.IsCFFEX(upperSymbol) || this.IsCZCE(upperSymbol) || this.IsDCE(upperSymbol) || this.IsSHFE(upperSymbol);\n    },\n\n    IsSHSZ: function IsSHSZ(upperSymbol) //是否是沪深的股票\n    {\n        return this.IsSZ(upperSymbol) || this.IsSH(upperSymbol);\n    },\n\n    IsSHSZFund: function IsSHSZFund(upperSymbol) //是否是交易所基金\n    {\n        if (!upperSymbol) return false;\n\n        if (this.IsSH(upperSymbol)) //51XXXX.SH\n            {\n                if (upperSymbol.charAt(0) == '5' && upperSymbol.charAt(1) == '1') return true;\n            } else if (this.IsSZ(upperSymbol)) //15XXXX.sz, 16XXXX.sz, 17XXXX.sz, 18XXXX.sz\n            {\n                if (upperSymbol.charAt(0) == '1' && (upperSymbol.charAt(1) == '5' || upperSymbol.charAt(1) == '6' || upperSymbol.charAt(1) == '7' || upperSymbol.charAt(1) == '8')) return true;\n            }\n\n        return false;\n    },\n\n    IsSHSZIndex: function IsSHSZIndex(symbol) //是否是沪深指数代码\n    {\n        if (!symbol) return false;\n        var upperSymbol = symbol.toUpperCase();\n        if (this.IsSH(upperSymbol)) {\n            var temp = upperSymbol.replace('.SH', '');\n            if (upperSymbol.charAt(0) == '0' && parseInt(temp) <= 3000) return true;\n        } else if (this.IsSZ(upperSymbol)) {\n            if (upperSymbol.charAt(0) == '3' && upperSymbol.charAt(1) == '9') return true;\n        } else if (upperSymbol.indexOf('.CI') > 0) //自定义指数\n            {\n                return true;\n            }\n\n        return false;\n    },\n\n    IsSHSZStockA: function IsSHSZStockA(symbol) //是否是沪深A股\n    {\n        if (!symbol) return false;\n        var upperSymbol = symbol.toUpperCase();\n        if (this.IsSH(upperSymbol)) {\n            var temp = upperSymbol.replace('.SH', '');\n            if (upperSymbol.charAt(0) == '6') return true;\n        } else if (this.IsSZ(upperSymbol)) {\n            if (upperSymbol.charAt(0) == '0') {\n                if (upperSymbol.charAt(1) == '0' && upperSymbol.charAt(1) == '2') return true; //002 中小板\n                if (upperSymbol.charAt(1) != '7' && upperSymbol.charAt(1) != '8') return true;\n            }\n        }\n\n        return false;\n    },\n\n    IsSHStockSTAR: function IsSHStockSTAR(symbol) // 是否是科创板 Sci-Tech innovAtion boaRd (STAR Market)\n    {\n        if (!symbol) return false;\n        var upperSymbol = symbol.toUpperCase();\n        if (!this.IsSH(upperSymbol)) return false;\n        if (upperSymbol.charAt(0) == '6' && upperSymbol.charAt(1) == '8' && upperSymbol.charAt(2) == '8') return true;\n\n        return false;\n    },\n\n    GetMarketStatus: function GetMarketStatus(symbol) //获取市场状态 0=闭市 1=盘前 2=盘中 3=盘后\n    {\n        if (!symbol) return 0;\n        var upperSymbol = symbol.toUpperCase();\n        if (this.IsUSA(upperSymbol)) {\n            var usaDate = GetLocalTime(-4);\n            day = usaDate.getDay(), time = usaDate.getHours() * 100 + usaDate.getMinutes();\n            if (day == 6 || day == 0) return 0; //周末\n\n            //9:30 - 16:00 考虑夏令时间时间增加1小时 9:30 - 17:00\n            if (time > 1730) return 3;\n            if (time < 930) return 1;\n\n            return 2;\n        } else {\n\n            var nowDate = new Date(),\n                day = nowDate.getDay(),\n                time = nowDate.getHours() * 100 + nowDate.getMinutes();\n            if (day == 6 || day == 0) return 0; //周末\n\n            //9:30 - 15:40\n            if (time > 1540) return 3;\n            if (time < 925) return 1;\n            return 2;\n        }\n    }\n};\n\n/*外部导入*/\n\n\n/*暴露外部用的方法*/\nexports.default = (_JSStockInit$STOCK_FI = {\n    JSStockInit: JSStock.Init,\n    STOCK_FIELD_NAME: STOCK_FIELD_NAME,\n\n    //类导出\n    JSStock: JSStock,\n    StockRead: StockRead\n}, (0, _defineProperty3.default)(_JSStockInit$STOCK_FI, \"STOCK_FIELD_NAME\", STOCK_FIELD_NAME), (0, _defineProperty3.default)(_JSStockInit$STOCK_FI, \"RECV_DATA_TYPE\", RECV_DATA_TYPE), _JSStockInit$STOCK_FI);"],"mappings":"AAAA,YAAY;;AAACA,OAAA;AAEbC,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EACzCC,KAAK,EAAE;AACX,CAAC,CAAC;AAEF,IAAIC,gBAAgB,GAAGL,OAAO,CAAC,sCAAsC,CAAC;AAEtE,IAAIM,gBAAgB,GAAGC,sBAAsB,CAACF,gBAAgB,CAAC;AAE/D,IAAIG,aAAa,GAAGR,OAAO,CAAC,oCAAoC,CAAC;AAEjE,IAAIS,aAAa,GAAGF,sBAAsB,CAACC,aAAa,CAAC;AAEzD,IAAIE,IAAI,GAAGV,OAAO,CAAC,2BAA2B,CAAC;AAE/C,IAAIW,KAAK,GAAGJ,sBAAsB,CAACG,IAAI,CAAC;AAExC,IAAIE,IAAI,GAAGZ,OAAO,CAAC,2BAA2B,CAAC;AAE/C,IAAIa,KAAK,GAAGN,sBAAsB,CAACK,IAAI,CAAC;AAExC,IAAIE,qBAAqB;AAEzB,IAAIC,OAAO,GAAGf,OAAO,CAAC,QAAQ,CAAC;AAE/B,IAAIgB,QAAQ,GAAGT,sBAAsB,CAACQ,OAAO,CAAC;AAE9C,SAASR,sBAAsBA,CAACU,GAAG,EAAE;EAAE,OAAOA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAGD,GAAG,GAAG;IAAEE,OAAO,EAAEF;EAAI,CAAC;AAAE;;AAE9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,SAASG,eAAeA,CAAA,EAAG;EACvB,IAAI,CAACC,MAAM,GAAG,uBAAuB,CAAC,CAAC;EACvC,IAAI,CAACC,WAAW,GAAG,uBAAuB,CAAC,CAAC;AAChD;;AAEA,IAAIC,iBAAiB,GAAG,IAAIH,eAAe,EAAE;;AAE7C;AACA,SAASI,YAAYA,CAAA,EAAG;EACpB,IAAI,CAACC,IAAI,CAAC,CAAC;EACX,IAAI,CAACC,IAAI,CAAC,CAAC;EACX,IAAI,CAACC,EAAE,CAAC,CAAC;EACT,IAAI,CAACC,SAAS,CAAC,CAAC;EAChB,IAAI,CAACC,OAAO,GAAG;IAAE,QAAQ,EAAE,IAAI;IAAE,MAAM,EAAE;EAAK,CAAC,CAAC,CAAC;EACjD,IAAI,CAACC,SAAS,GAAG;IAAE,QAAQ,EAAE,IAAI;IAAE,MAAM,EAAE;EAAK,CAAC,CAAC,CAAC;AACvD;;AAEA,SAASC,aAAaA,CAAA,EAAG;EACrB,IAAI,CAACC,IAAI,CAAC,CAAC;EACX;EACA,IAAI,CAACC,YAAY,GAAG;IAAE,MAAM,EAAE,IAAI;IAAE,OAAO,EAAE,IAAI;IAAE,OAAO,EAAE;EAAK,CAAC,CAAC,CAAC;AACxE;;AAEA,SAASC,QAAQA,CAACC,KAAK,EAAEC,KAAK,EAAEC,KAAK,EAAE;EACnC,IAAI,CAACC,SAAS,GAAG,IAAIC,KAAK,EAAE,CAAC,CAAC;EAC9B,IAAI,CAACC,SAAS,GAAGL,KAAK,CAAC,CAAC;EACxB,IAAI,CAACM,KAAK,GAAGL,KAAK,CAAC,CAAC;EACpB,IAAI,CAACM,KAAK,GAAG,IAAI7B,KAAK,CAACM,OAAO,CAAC,CAACkB,KAAK,CAAC,CAAC,CAAC,CAAC;AAC7C;;AAEA;AACA,SAASM,WAAWA,CAAA,EAAG;EACnB,IAAI,CAACC,GAAG,CAAC,CAAC;;EAEV,IAAI,CAACC,IAAI,CAAC,CAAC;EACX,IAAI,CAACC,WAAW,CAAC,CAAC;EAClB,IAAI,CAACC,GAAG,CAAC,CAAC;EACV,IAAI,CAACC,WAAW,CAAC,CAAC;;EAElB,IAAI,CAACC,OAAO,CAAC,CAAC;EACd,IAAI,CAACC,eAAe,CAAC,CAAC;;EAEtB,IAAI,CAACC,UAAU,CAAC,CAAC;EACjB,IAAI,CAACC,gBAAgB,CAAC,CAAC;EACvB,IAAI,CAACC,aAAa,CAAC,CAAC;EACpB,IAAI,CAACC,OAAO,CAAC,CAAC;;EAEd;;EAEA,IAAI,CAACC,OAAO,GAAG,UAAUC,IAAI,EAAE;IAC3B,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,GAAG,CAAC,EAAE,IAAI,CAACd,GAAG,GAAGY,IAAI,CAACE,GAAG;IACzC,IAAI,CAACD,KAAK,CAACD,IAAI,CAACG,OAAO,CAACC,IAAI,CAAC,EAAE,IAAI,CAACf,IAAI,GAAGW,IAAI,CAACG,OAAO,CAACC,IAAI;IAC5D,IAAI,CAACH,KAAK,CAACD,IAAI,CAACG,OAAO,CAACE,WAAW,CAAC,EAAE,IAAI,CAACf,WAAW,GAAGU,IAAI,CAACG,OAAO,CAACE,WAAW;IACjF,IAAI,CAACJ,KAAK,CAACD,IAAI,CAACG,OAAO,CAACG,GAAG,CAAC,EAAE,IAAI,CAACf,GAAG,GAAGS,IAAI,CAACG,OAAO,CAACG,GAAG;IACzD,IAAI,CAACL,KAAK,CAACD,IAAI,CAACG,OAAO,CAACI,WAAW,CAAC,EAAE,IAAI,CAACf,WAAW,GAAGQ,IAAI,CAACG,OAAO,CAACI,WAAW;IACjF,IAAI,CAACN,KAAK,CAACD,IAAI,CAACG,OAAO,CAACK,OAAO,CAAC,EAAE,IAAI,CAACf,OAAO,GAAGO,IAAI,CAACG,OAAO,CAACK,OAAO;IACrE,IAAI,CAACP,KAAK,CAACD,IAAI,CAACG,OAAO,CAACM,eAAe,CAAC,EAAE,IAAI,CAACf,eAAe,GAAGM,IAAI,CAACG,OAAO,CAACM,eAAe;IAC7F,IAAI,CAACR,KAAK,CAACD,IAAI,CAACG,OAAO,CAACO,UAAU,CAAC,EAAE,IAAI,CAACf,UAAU,GAAGK,IAAI,CAACG,OAAO,CAACO,UAAU;IAC9E,IAAI,CAACT,KAAK,CAACD,IAAI,CAACG,OAAO,CAACQ,gBAAgB,CAAC,EAAE,IAAI,CAACf,gBAAgB,GAAGI,IAAI,CAACG,OAAO,CAACQ,gBAAgB;IAChG,IAAI,CAACV,KAAK,CAACD,IAAI,CAACG,OAAO,CAACS,aAAa,CAAC,EAAE,IAAI,CAACf,aAAa,GAAGG,IAAI,CAACG,OAAO,CAACS,aAAa;IACvF,IAAI,CAACX,KAAK,CAACD,IAAI,CAACG,OAAO,CAACU,OAAO,CAAC,EAAE,IAAI,CAACf,OAAO,GAAGE,IAAI,CAACG,OAAO,CAACU,OAAO;EACzE,CAAC;AACL;;AAEA;AACA,SAASC,WAAWA,CAAA,EAAG;EACnB,IAAI,CAACzB,IAAI,CAAC,CAAC;EACX,IAAI,CAAC0B,CAAC,CAAC,CAAC;EACR,IAAI,CAACC,KAAK,CAAC,CAAC;EACZ,IAAI,CAACC,KAAK,CAAC,CAAC;;EAEZ,IAAI,CAAClB,OAAO,GAAG,UAAUC,IAAI,EAAE;IAC3B,IAAI,CAACC,KAAK,CAACD,IAAI,CAACkB,OAAO,CAACd,IAAI,CAAC,EAAE,IAAI,CAACf,IAAI,GAAGW,IAAI,CAACkB,OAAO,CAACd,IAAI;IAC5D,IAAI,CAACH,KAAK,CAACD,IAAI,CAACkB,OAAO,CAACC,CAAC,CAAC,EAAE,IAAI,CAACJ,CAAC,GAAGf,IAAI,CAACkB,OAAO,CAACC,CAAC;IACnD,IAAI,CAAClB,KAAK,CAACD,IAAI,CAACkB,OAAO,CAACE,KAAK,CAAC,EAAE,IAAI,CAACJ,KAAK,GAAGhB,IAAI,CAACkB,OAAO,CAACE,KAAK;IAC/D,IAAI,CAACnB,KAAK,CAACD,IAAI,CAACkB,OAAO,CAACG,KAAK,CAAC,EAAE,IAAI,CAACJ,KAAK,GAAGjB,IAAI,CAACkB,OAAO,CAACG,KAAK;EACnE,CAAC;AACL;;AAEA;AACA,SAASC,kBAAkBA,CAAA,EAAG;EAC1B,IAAI,CAACC,OAAO,CAAC,CAAC;EACd,IAAI,CAACC,QAAQ,CAAC,CAAC;EACf,IAAI,CAACC,KAAK,CAAC,CAAC;EACZ,IAAI,CAACC,MAAM,CAAC,CAAC;EACb,IAAI,CAACC,KAAK,CAAC,CAAC;EACZ,IAAI,CAACC,MAAM,CAAC,CAAC;EACb,IAAI,CAACC,OAAO,CAAC,CAAC;EACd,IAAI,CAACC,QAAQ,CAAC,CAAC;EACf,IAAI,CAACC,MAAM,CAAC,CAAC;EACb,IAAI,CAACC,OAAO,CAAC,CAAC;EACd,IAAI,CAACC,SAAS,CAAC,CAAC;;EAEhB,IAAI,CAAClC,OAAO,GAAG,UAAUC,IAAI,EAAE;IAC3B,IAAI,CAACuB,OAAO,GAAGvB,IAAI,CAACkC,OAAO;IAC3B,IAAI,CAACV,QAAQ,GAAGxB,IAAI,CAACmC,QAAQ;IAC7B,IAAI,CAACV,KAAK,GAAGzB,IAAI,CAACoC,KAAK;IACvB,IAAI,CAACV,MAAM,GAAG1B,IAAI,CAACqC,MAAM;IACzB,IAAI,CAACV,KAAK,GAAG3B,IAAI,CAACsC,KAAK;IACvB,IAAI,CAACV,MAAM,GAAG5B,IAAI,CAACuC,MAAM;IACzB,IAAI,CAACV,OAAO,GAAG7B,IAAI,CAACwC,OAAO,CAAC,CAAC;IAC7B,IAAI,CAACV,QAAQ,GAAG9B,IAAI,CAACyC,QAAQ,CAAC,CAAC;IAC/B,IAAI,CAACV,MAAM,GAAG/B,IAAI,CAAC0C,MAAM,CAAC,CAAC;IAC3B,IAAI,CAACV,OAAO,GAAGhC,IAAI,CAAC2C,OAAO,CAAC,CAAC;IAC7B,IAAI,CAACV,SAAS,GAAGjC,IAAI,CAAC4C,SAAS,CAAC,CAAC;EACrC,CAAC;AACL;;AAEA;AACA,SAASC,mBAAmBA,CAAA,EAAG;EAC3B,IAAI,CAACtB,OAAO,CAAC,CAAC;EACd,IAAI,CAACC,QAAQ,CAAC,CAAC;EACf,IAAI,CAACC,KAAK,CAAC,CAAC;EACZ,IAAI,CAACC,MAAM,CAAC,CAAC;EACb,IAAI,CAACC,KAAK,CAAC,CAAC;EACZ,IAAI,CAACC,MAAM,CAAC,CAAC;EACb,IAAI,CAACC,OAAO,CAAC,CAAC;EACd,IAAI,CAACC,QAAQ,CAAC,CAAC;EACf,IAAI,CAACC,MAAM,CAAC,CAAC;EACb,IAAI,CAACC,OAAO,CAAC,CAAC;EACd,IAAI,CAACC,SAAS,CAAC,CAAC;EAChB,IAAI,CAACa,cAAc,CAAC,CAAC;;EAErB,IAAI,CAAC/C,OAAO,GAAG,UAAUC,IAAI,EAAE;IAC3B,IAAI,CAACuB,OAAO,GAAGvB,IAAI,CAACkC,OAAO;IAC3B,IAAI,CAACV,QAAQ,GAAGxB,IAAI,CAACmC,QAAQ;IAC7B,IAAI,CAACV,KAAK,GAAGzB,IAAI,CAACoC,KAAK;IACvB,IAAI,CAACV,MAAM,GAAG1B,IAAI,CAACqC,MAAM;IACzB,IAAI,CAACV,KAAK,GAAG3B,IAAI,CAACsC,KAAK;IACvB,IAAI,CAACV,MAAM,GAAG5B,IAAI,CAACuC,MAAM;IACzB,IAAI,CAACV,OAAO,GAAG7B,IAAI,CAACwC,OAAO,CAAC,CAAC;IAC7B,IAAI,CAACV,QAAQ,GAAG9B,IAAI,CAACyC,QAAQ,CAAC,CAAC;IAC/B,IAAI,CAACV,MAAM,GAAG/B,IAAI,CAAC0C,MAAM,CAAC,CAAC;IAC3B,IAAI,CAACV,OAAO,GAAGhC,IAAI,CAAC2C,OAAO,CAAC,CAAC;IAC7B,IAAI,CAACV,SAAS,GAAGjC,IAAI,CAAC4C,SAAS,CAAC,CAAC;IACjC,IAAI,CAACE,cAAc,GAAG9C,IAAI,CAAC+C,cAAc;EAC7C,CAAC;AACL;AAEA,SAASC,OAAOA,CAAA,EAAG;EACf,IAAI,CAACC,GAAG;EACR,IAAI,CAACC,GAAG;EACR,IAAI,CAACC,GAAG;EAER,IAAI,CAACpD,OAAO,GAAG,UAAUC,IAAI,EAAE;IAC3B,IAAI,CAACiD,GAAG,GAAGjD,IAAI,CAACoD,GAAG;IACnB,IAAI,CAACF,GAAG,GAAGlD,IAAI,CAACqD,GAAG;IACnB,IAAI,CAACF,GAAG,GAAGnD,IAAI,CAACsD,GAAG;EACvB,CAAC;AACL;;AAEA;AACA,SAASC,WAAWA,CAAA,EAAG;EACnB,IAAI,CAACC,IAAI;EACT,IAAI,CAACC,QAAQ,CAAC,CAAC;EACf,IAAI,CAACC,GAAG,CAAC,CAAC;EACV,IAAI,CAACC,KAAK,CAAC,CAAC;EACZ,IAAI,CAACC,WAAW,CAAC,CAAC;EAClB,IAAI,CAACC,UAAU,CAAC,CAAC;;EAEjB,IAAI,CAAC9D,OAAO,GAAG,UAAUC,IAAI,EAAE;IAC3B,IAAI,CAACA,IAAI,CAAC8D,OAAO,EAAE;IAEnB,IAAI,CAACN,IAAI,GAAGxD,IAAI,CAAC8D,OAAO,CAACC,IAAI;IAC7B,IAAI,CAACN,QAAQ,GAAGzD,IAAI,CAAC8D,OAAO,CAACE,QAAQ;IACrC,IAAI,CAACN,GAAG,GAAG1D,IAAI,CAAC8D,OAAO,CAACG,GAAG;IAC3B,IAAI,CAACN,KAAK,GAAG3D,IAAI,CAAC8D,OAAO,CAACI,KAAK;IAC/B,IAAI,CAACN,WAAW,GAAG5D,IAAI,CAAC8D,OAAO,CAACK,WAAW;IAC3C,IAAI,CAACN,UAAU,GAAG7D,IAAI,CAAC8D,OAAO,CAACM,cAAc;EACjD,CAAC;AACL;;AAEA;AACA,SAASC,SAASA,CAAA,EAAG;EACjB,IAAI,CAACC,QAAQ,CAAC,CAAC;EACf,IAAI,CAACC,MAAM,CAAC,CAAC;EACb,IAAI,CAACC,OAAO,CAAC,CAAC;;EAEd,IAAI,CAACzE,OAAO,GAAG,UAAUC,IAAI,EAAE;IAC3B,IAAI,CAACyE,eAAe,CAACzE,IAAI,CAAC;IAC1B,IAAI,CAAC0E,aAAa,CAAC1E,IAAI,CAAC;IACxB,IAAI,CAAC2E,cAAc,CAAC3E,IAAI,CAAC;EAC7B,CAAC;EAED,IAAI,CAACyE,eAAe,GAAG,UAAUzE,IAAI,EAAE;IACnC,IAAI,CAACA,IAAI,CAAC4E,QAAQ,EAAE;IAEpB,IAAI,CAACN,QAAQ,GAAG,EAAE;IAClB,KAAK,IAAIO,CAAC,IAAI7E,IAAI,CAAC4E,QAAQ,EAAE;MACzB,IAAIE,IAAI,GAAG9E,IAAI,CAAC4E,QAAQ,CAACC,CAAC,CAAC;MAC3B,IAAI,CAACP,QAAQ,CAACS,IAAI,CAAC;QAAEvB,IAAI,EAAEsB,IAAI,CAACf,IAAI;QAAEiB,MAAM,EAAEF,IAAI,CAACG;MAAO,CAAC,CAAC;IAChE;EACJ,CAAC;EAED,IAAI,CAACP,aAAa,GAAG,UAAU1E,IAAI,EAAE;IACjC,IAAI,CAACA,IAAI,CAACkF,MAAM,EAAE;IAElB,IAAI,CAACX,MAAM,GAAG,EAAE;IAChB,KAAK,IAAIM,CAAC,IAAI7E,IAAI,CAACkF,MAAM,EAAE;MACvB,IAAIJ,IAAI,GAAG9E,IAAI,CAACkF,MAAM,CAACL,CAAC,CAAC;MACzB,IAAI,CAACN,MAAM,CAACQ,IAAI,CAAC;QAAEvB,IAAI,EAAEsB,IAAI,CAACf,IAAI;QAAEiB,MAAM,EAAEF,IAAI,CAACG;MAAO,CAAC,CAAC;IAC9D;EACJ,CAAC;EAED,IAAI,CAACN,cAAc,GAAG,UAAU3E,IAAI,EAAE;IAClC,IAAI,CAACA,IAAI,CAACmF,OAAO,EAAE;IAEnB,IAAI,CAACX,OAAO,GAAG,EAAE;IACjB,KAAK,IAAIK,CAAC,IAAI7E,IAAI,CAACmF,OAAO,EAAE;MACxB,IAAIL,IAAI,GAAG9E,IAAI,CAACmF,OAAO,CAACN,CAAC,CAAC;MAC1B,IAAI,CAACL,OAAO,CAACO,IAAI,CAAC;QAAEvB,IAAI,EAAEsB,IAAI,CAACf,IAAI;QAAEiB,MAAM,EAAEF,IAAI,CAACG;MAAO,CAAC,CAAC;IAC/D;EACJ,CAAC;AACL;;AAEA;AACA,SAASG,SAASA,CAAA,EAAG;EACjB,IAAI,CAACC,QAAQ,GAAG,KAAK,CAAC,CAAC;EACvB,IAAI,CAACC,IAAI,GAAG,KAAK,CAAC,CAAC;EACnB,IAAI,CAACC,MAAM,GAAG,KAAK,CAAC,CAAC;EACrB,IAAI,CAACC,MAAM,GAAG,KAAK,CAAC,CAAC;EACrB,IAAI,CAACC,MAAM,GAAG,CAAC,CAAC,CAAC;EACjB,IAAI,CAACC,EAAE,CAAC,CAAC;;EAET,IAAI,CAAC3F,OAAO,GAAG,UAAUC,IAAI,EAAE;IAC3B,IAAI,CAACA,IAAI,CAAC2F,MAAM,EAAE;IAElB,IAAI,CAAC1F,KAAK,CAACD,IAAI,CAAC2F,MAAM,CAACC,MAAM,CAAC,EAAE,IAAI,CAACP,QAAQ,GAAGrF,IAAI,CAAC2F,MAAM,CAACC,MAAM,IAAI,CAAC;IACvE,IAAI,CAAC3F,KAAK,CAACD,IAAI,CAAC2F,MAAM,CAACE,EAAE,CAAC,EAAE,IAAI,CAACP,IAAI,GAAGtF,IAAI,CAAC2F,MAAM,CAACE,EAAE,IAAI,CAAC;IAC3D,IAAI,CAAC5F,KAAK,CAACD,IAAI,CAAC2F,MAAM,CAACG,IAAI,CAAC,EAAE,IAAI,CAACP,MAAM,GAAGvF,IAAI,CAAC2F,MAAM,CAACG,IAAI,IAAI,CAAC;IACjE,IAAI,CAAC7F,KAAK,CAACD,IAAI,CAAC2F,MAAM,CAACI,IAAI,CAAC,EAAE,IAAI,CAACP,MAAM,GAAGxF,IAAI,CAAC2F,MAAM,CAACI,IAAI,IAAI,CAAC;IACjE,IAAI,CAAC9F,KAAK,CAACD,IAAI,CAAC2F,MAAM,CAACK,EAAE,CAAC,EAAE,IAAI,CAACP,MAAM,GAAGzF,IAAI,CAAC2F,MAAM,CAACK,EAAE;IAExD,IAAI,IAAI,CAACV,IAAI,IAAItF,IAAI,CAAC2F,MAAM,CAACM,QAAQ,IAAIjG,IAAI,CAAC2F,MAAM,CAACO,MAAM,EAAE;MACzD,IAAI,CAACR,EAAE,GAAG;QAAEV,MAAM,EAAEhF,IAAI,CAAC2F,MAAM,CAACM,QAAQ;QAAEzC,IAAI,EAAExD,IAAI,CAAC2F,MAAM,CAACO;MAAO,CAAC;IACxE;EACJ,CAAC;AACL;;AAEA;AACA,SAASC,aAAaA,CAAClB,MAAM,EAAE;EAC3B,IAAImB,WAAW,GAAGnB,MAAM,CAACoB,WAAW,EAAE;EACtC,IAAID,WAAW,CAACE,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;IAChCF,WAAW,GAAGA,WAAW,CAACG,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;IAC5C,IAAIH,WAAW,CAACI,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,IAAIC,QAAQ,CAACL,WAAW,CAAC,IAAI,IAAI,EAAE,OAAO,IAAI;EAClF,CAAC,MAAM,IAAIA,WAAW,CAACE,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;IACvCF,WAAW,GAAGA,WAAW,CAACG,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;IAC5C,IAAIH,WAAW,CAACI,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,IAAIJ,WAAW,CAACI,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE,OAAO,IAAI;EACjF,CAAC,MAAM,IAAIJ,WAAW,CAACE,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC;IAAE;IACvC;MACI,OAAO,IAAI;IACf;EAEJ,OAAO,KAAK;AAChB;AAEA,SAASI,SAASA,CAACzB,MAAM,EAAE;EACvB,IAAI,CAACD,MAAM,GAAGC,MAAM,CAAC,CAAC;EACtB,IAAI,CAACzB,IAAI,CAAC,CAAC;;EAEX;EACA,IAAI,CAACmD,IAAI,CAAC,CAAC;EACX,IAAI,CAAChD,KAAK,CAAC,CAAC;EACZ,IAAI,CAACiD,IAAI,CAAC,CAAC;EACX,IAAI,CAACC,GAAG,CAAC,CAAC;EACV,IAAI,CAACC,MAAM,CAAC,CAAC;EACb,IAAI,CAACpD,GAAG,CAAC,CAAC;EACV,IAAI,CAACqD,MAAM,CAAC,CAAC;EACb,IAAI,CAAC1H,IAAI,CAAC,CAAC;EACX,IAAI,CAAC2H,IAAI,CAAC,CAAC;EACX,IAAI,CAACC,YAAY,CAAC,CAAC;EACnB,IAAI,CAACC,SAAS,CAAC,CAAC;EAChB,IAAI,CAACC,QAAQ,CAAC,CAAC;;EAEf,IAAI,CAACC,QAAQ,CAAC,CAAC;EACf,IAAI,CAACC,QAAQ,CAAC,CAAC;EACf,IAAI,CAACC,QAAQ,CAAC,CAAC;EACf,IAAI,CAACC,OAAO,CAAC,CAAC;;EAEd,IAAI,CAACC,QAAQ,CAAC,CAAC;EACf,IAAI,CAACC,IAAI,CAAC,CAAC;;EAEX,IAAI,CAACC,eAAe,GAAG,CAAC,CAAC,CAAC,CAAC;EAC3B,IAAI,CAACC,aAAa,GAAG,CAAC,CAAC,CAAC,CAAC;EACzB,IAAI,CAACC,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;;EAEnB,IAAI,CAACC,WAAW,GAAG,UAAUhJ,KAAK,EAAEF,KAAK,EAAE;IACvC,IAAI,CAACmJ,aAAa,CAACC,GAAG,CAAClJ,KAAK,CAAC;IAC7B,QAAQF,KAAK;MACT,KAAKqJ,gBAAgB,CAACC,MAAM;QACxB,OAAO,IAAI,CAACjD,MAAM;MACtB,KAAKgD,gBAAgB,CAACE,IAAI;QACtB,OAAO,IAAI,CAAC1E,IAAI;MACpB,KAAKwE,gBAAgB,CAACG,IAAI;QACtB,OAAO,IAAI,CAACxB,IAAI;MACpB,KAAKqB,gBAAgB,CAACI,KAAK;QACvB,OAAO,IAAI,CAACzE,KAAK;MACrB,KAAKqE,gBAAgB,CAACK,MAAM;QACxB,OAAO,IAAI,CAACvB,MAAM;MACtB,KAAKkB,gBAAgB,CAACM,IAAI;QACtB,OAAO,IAAI,CAAC1B,IAAI;MACpB,KAAKoB,gBAAgB,CAACO,GAAG;QACrB,OAAO,IAAI,CAAC1B,GAAG;MACnB,KAAKmB,gBAAgB,CAACQ,GAAG;QACrB,OAAO,IAAI,CAAC9E,GAAG;MACnB,KAAKsE,gBAAgB,CAACS,MAAM;QACxB,OAAO,IAAI,CAAC1B,MAAM;MACtB,KAAKiB,gBAAgB,CAACU,IAAI;QACtB,OAAO,IAAI,CAACrJ,IAAI;MACpB,KAAK2I,gBAAgB,CAACW,IAAI;QACtB,OAAO,IAAI,CAAC3B,IAAI;MACpB,KAAKgB,gBAAgB,CAACY,QAAQ;QAC1B,OAAO,IAAI,CAACxB,QAAQ;MACxB,KAAKY,gBAAgB,CAACa,aAAa;QAC/B,OAAO,IAAI,CAAC5B,YAAY;MAC5B,KAAKe,gBAAgB,CAACc,SAAS;QAC3B,OAAO,IAAI,CAAC5B,SAAS;MACzB,KAAKc,gBAAgB,CAACe,SAAS;QAC3B,OAAO,IAAI,CAAC1B,QAAQ;MACxB,KAAKW,gBAAgB,CAACgB,SAAS;QAC3B,OAAO,IAAI,CAAC1B,QAAQ;MACxB,KAAKU,gBAAgB,CAACiB,eAAe;QACjC,OAAO,IAAI,CAAC1B,OAAO;MACvB,KAAKS,gBAAgB,CAACkB,QAAQ;QAC1B,OAAO,IAAI,CAAC/B,QAAQ;MAExB,KAAKa,gBAAgB,CAACmB,QAAQ;QAC1B,OAAO,IAAI,CAAC3B,QAAQ;MACxB,KAAKQ,gBAAgB,CAACoB,IAAI;QACtB,OAAO,IAAI,CAAC3B,IAAI;IAAC;EAE7B,CAAC;EAED,IAAI,CAAC4B,IAAI,CAAC,CAAC;EACX;EACA,IAAI,CAACC,WAAW,GAAG,UAAUzK,KAAK,EAAE;IAChC,IAAI,CAAC0K,SAAS,CAACxB,GAAG,CAAClJ,KAAK,CAAC;IACzB,OAAO,IAAI,CAACwK,IAAI;EACpB,CAAC;;EAED;EACA,IAAI,CAACG,IAAI,GAAG,IAAIrM,KAAK,CAACQ,OAAO,EAAE,CAAC,CAAC;EACjC,IAAI,CAAC8L,WAAW,GAAG,UAAU5K,KAAK,EAAEF,KAAK,EAAEC,KAAK,EAAE;IAC9C,IAAI8K,GAAG,GAAG/K,KAAK,CAACgL,QAAQ,EAAE,GAAG,GAAG,GAAG/K,KAAK,CAAC+K,QAAQ,EAAE;IACnD,IAAI,CAAC,IAAI,CAACH,IAAI,CAACI,GAAG,CAACF,GAAG,CAAC,EAAE;MACrB,IAAI1J,IAAI,GAAG,IAAItB,QAAQ,CAACC,KAAK,EAAEC,KAAK,EAAEC,KAAK,CAAC;MAC5C,IAAI,CAAC2K,IAAI,CAACK,GAAG,CAACH,GAAG,EAAE1J,IAAI,CAAC;MACxB,OAAOA,IAAI;IACf;IAEA,IAAIA,IAAI,GAAG,IAAI,CAACwJ,IAAI,CAACM,GAAG,CAACJ,GAAG,CAAC;IAC7B1J,IAAI,CAACd,KAAK,CAAC6I,GAAG,CAAClJ,KAAK,CAAC;IACrB,OAAOmB,IAAI;EACf,CAAC;EAED,IAAI,CAAC+J,IAAI,CAAC,CAAC;EACX,IAAI,CAACC,OAAO,GAAG,UAAUnL,KAAK,EAAE;IAC5B,IAAI,CAACoL,YAAY,CAAClC,GAAG,CAAClJ,KAAK,CAAC;IAC5B,OAAO,IAAI,CAACkL,IAAI;EACpB,CAAC;EAED,IAAI,CAACG,KAAK,CAAC,CAAC;EACZ,IAAI,CAACC,QAAQ,GAAG,UAAUtL,KAAK,EAAE;IAC7B,IAAI,CAACoL,YAAY,CAAClC,GAAG,CAAClJ,KAAK,CAAC;IAC5B,OAAO,IAAI,CAACqL,KAAK;EACrB,CAAC;EAED,IAAI,CAACE,IAAI,CAAC,CAAC;EACX,IAAI,CAACC,OAAO,GAAG,UAAUxL,KAAK,EAAE;IAC5B,IAAI,CAACyL,SAAS,CAACvC,GAAG,CAAClJ,KAAK,CAAC;IACzB,OAAO,IAAI,CAACuL,IAAI;EACpB,CAAC;EAED,IAAI,CAACG,WAAW,CAAC,CAAC;EAClB,IAAI,CAACC,eAAe,CAAC,CAAC;EACtB,IAAI,CAACC,QAAQ,CAAC,CAAC;EACf,IAAI,CAACC,UAAU,CAAC,CAAC;EACjB,IAAI,CAACC,EAAE,CAAC,CAAC;EACT,IAAI,CAACC,GAAG,CAAC,CAAC;EACV,IAAI,CAACC,GAAG,CAAC,CAAC;EACV,IAAI,CAACC,EAAE;EACP,IAAI,CAACC,aAAa,GAAG,UAAUlM,KAAK,EAAEF,KAAK,EAAE;IACzC,IAAI,CAACqM,eAAe,CAACjD,GAAG,CAAClJ,KAAK,CAAC;IAE/B,QAAQF,KAAK;MACT,KAAKqJ,gBAAgB,CAACiD,YAAY;QAC9B,OAAO,IAAI,CAACV,WAAW;MAC3B,KAAKvC,gBAAgB,CAACkD,iBAAiB;QACnC,OAAO,IAAI,CAACV,eAAe;MAC/B,KAAKxC,gBAAgB,CAACmD,SAAS;QAC3B,OAAO,IAAI,CAACV,QAAQ;MACxB,KAAKzC,gBAAgB,CAACoD,WAAW;QAC7B,OAAO,IAAI,CAACV,UAAU;MAC1B,KAAK1C,gBAAgB,CAAC2C,EAAE;QACpB,OAAO,IAAI,CAACA,EAAE;MAClB,KAAK3C,gBAAgB,CAAC4C,GAAG;QACrB,OAAO,IAAI,CAACA,GAAG;MACnB,KAAK5C,gBAAgB,CAAC6C,GAAG;QACrB,OAAO,IAAI,CAACA,GAAG;MACnB,KAAK7C,gBAAgB,CAAC8C,EAAE;QACpB,OAAO,IAAI,CAACA,EAAE;IAAC;EAE3B,CAAC;EAED,IAAI,CAACO,OAAO,CAAC,CAAC;EACd,IAAI,CAACC,UAAU,GAAG,UAAUzM,KAAK,EAAEF,KAAK,EAAE;IACtC,IAAI,CAAC,IAAI,CAAC0M,OAAO;MAAE;MACf;QACI,IAAI,CAACE,YAAY,CAACxD,GAAG,CAAClJ,KAAK,CAAC;QAC5B,OAAO,IAAI;MACf;IAEJ,QAAQF,KAAK;MACT,KAAKqJ,gBAAgB,CAAC5I,GAAG;QACrB,OAAO,IAAI,CAACiM,OAAO,CAACjM,GAAG;MAC3B,KAAK4I,gBAAgB,CAACwD,YAAY;QAC9B,OAAO,IAAI,CAACH,OAAO,CAAChM,IAAI;MAC5B,KAAK2I,gBAAgB,CAACyD,mBAAmB;QACrC,OAAO,IAAI,CAACJ,OAAO,CAAC/L,WAAW;MACnC,KAAK0I,gBAAgB,CAAC0D,mBAAmB;QACrC,OAAO,IAAI,CAACL,OAAO,CAAC7L,WAAW;MACnC,KAAKwI,gBAAgB,CAAC2D,eAAe;QACjC,OAAO,IAAI,CAACN,OAAO,CAAC5L,OAAO;MAC/B,KAAKuI,gBAAgB,CAAC4D,uBAAuB;QACzC,OAAO,IAAI,CAACP,OAAO,CAAC3L,eAAe;MACvC,KAAKsI,gBAAgB,CAAC6D,kBAAkB;QACpC,OAAO,IAAI,CAACR,OAAO,CAAC1L,UAAU;MAClC,KAAKqI,gBAAgB,CAAC8D,wBAAwB;QAC1C,OAAO,IAAI,CAACT,OAAO,CAACzL,gBAAgB;MACxC,KAAKoI,gBAAgB,CAAC+D,qBAAqB;QACvC,OAAO,IAAI,CAACV,OAAO,CAACxL,aAAa;MACrC,KAAKmI,gBAAgB,CAACgE,WAAW;QAC7B,OAAO,IAAI,CAACX,OAAO,CAAC9L,GAAG;MAC3B,KAAKyI,gBAAgB,CAACiE,eAAe;QACjC,OAAO,IAAI,CAACZ,OAAO,CAACvL,OAAO;IAAC;EAExC,CAAC;EAED,IAAI,CAACoM,OAAO,CAAC,CAAC;EACd,IAAI,CAACC,UAAU,GAAG,UAAUtN,KAAK,EAAEF,KAAK,EAAE;IACtC,IAAI,CAAC,IAAI,CAACuN,OAAO;MAAE;MACf;QACI,IAAI,CAACE,YAAY,CAACrE,GAAG,CAAClJ,KAAK,CAAC;QAC5B,OAAO,IAAI;MACf;IAEJ,QAAQF,KAAK;MACT,KAAKqJ,gBAAgB,CAACqE,aAAa;QAC/B,OAAO,IAAI,CAACH,OAAO,CAAClL,KAAK;MAC7B,KAAKgH,gBAAgB,CAACsE,SAAS;QAC3B,OAAO,IAAI,CAACJ,OAAO,CAACnL,CAAC;MACzB,KAAKiH,gBAAgB,CAACuE,aAAa;QAC/B,OAAO,IAAI,CAACL,OAAO,CAACjL,KAAK;IAAC;EAEtC,CAAC;;EAED;EACA,IAAI,CAACuL,cAAc;EACnB,IAAI,CAACC,eAAe;EACpB,IAAI,CAACC,eAAe;EACpB,IAAI,CAACC,gBAAgB;EACrB,IAAI,CAACC,iBAAiB,GAAG,UAAU/N,KAAK,EAAEF,KAAK,EAAE;IAC7C,IAAIqB,IAAI,GAAG,IAAI;IACf,QAAQrB,KAAK;MACT,KAAKqJ,gBAAgB,CAAC6E,gBAAgB;QAClC,IAAI,CAACC,gBAAgB,CAAC/E,GAAG,CAAClJ,KAAK,CAAC;QAChC,IAAI,IAAI,CAAC2N,cAAc,EAAExM,IAAI,GAAG,IAAI,CAACwM,cAAc;QACnD;MACJ,KAAKxE,gBAAgB,CAAC+E,iBAAiB;QACnC,IAAI,CAACC,iBAAiB,CAACjF,GAAG,CAAClJ,KAAK,CAAC;QACjC,IAAI,IAAI,CAAC4N,eAAe,EAAEzM,IAAI,GAAG,IAAI,CAACyM,eAAe;QACrD;MACJ,KAAKzE,gBAAgB,CAACiF,iBAAiB;QACnC,IAAI,CAACC,iBAAiB,CAACnF,GAAG,CAAClJ,KAAK,CAAC;QACjC,IAAI,IAAI,CAAC6N,eAAe,EAAE1M,IAAI,GAAG,IAAI,CAAC0M,eAAe;QACrD;MACJ,KAAK1E,gBAAgB,CAACmF,kBAAkB;QACpC,IAAI,CAACC,kBAAkB,CAACrF,GAAG,CAAClJ,KAAK,CAAC;QAClC,IAAI,IAAI,CAAC8N,gBAAgB,EAAE3M,IAAI,GAAG,IAAI,CAAC2M,gBAAgB;QACvD;IAAM;IAEd,OAAO3M,IAAI;EACf,CAAC;;EAED;EACA,IAAI,CAACqN,GAAG;EACR,IAAI,CAACC,IAAI;EACT,IAAI,CAACC,IAAI;EACT,IAAI,CAACC,KAAK;EACV,IAAI,CAACC,MAAM,GAAG,UAAU5O,KAAK,EAAEF,KAAK,EAAE;IAClC,IAAIqB,IAAI,GAAG,IAAI;IACf,QAAQrB,KAAK;MACT,KAAKqJ,gBAAgB,CAACqF,GAAG;QACrB,IAAI,CAACK,KAAK,CAAC3F,GAAG,CAAClJ,KAAK,CAAC;QACrB,IAAI,IAAI,CAACwO,GAAG,EAAErN,IAAI,GAAG,IAAI,CAACqN,GAAG;QAC7B;MACJ,KAAKrF,gBAAgB,CAACsF,IAAI;QACtB,IAAI,CAACK,MAAM,CAAC5F,GAAG,CAAClJ,KAAK,CAAC;QACtB,IAAI,IAAI,CAACyO,IAAI,EAAEtN,IAAI,GAAG,IAAI,CAACsN,IAAI;QAC/B;MACJ,KAAKtF,gBAAgB,CAACuF,IAAI;QACtB,IAAI,CAACK,MAAM,CAAC7F,GAAG,CAAClJ,KAAK,CAAC;QACtB,IAAI,IAAI,CAAC0O,IAAI,EAAEvN,IAAI,GAAG,IAAI,CAACuN,IAAI;QAC/B;MACJ,KAAKvF,gBAAgB,CAACwF,KAAK;QACvB,IAAI,CAACK,OAAO,CAAC9F,GAAG,CAAClJ,KAAK,CAAC;QACvB,IAAI,IAAI,CAAC2O,KAAK,EAAExN,IAAI,GAAG,IAAI,CAACwN,KAAK;QACjC;IAAM;IAEd,OAAOxN,IAAI;EACf,CAAC;EAED,IAAI,CAAC8N,KAAK,CAAC,CAAC;EACZ,IAAI,CAACC,QAAQ,GAAG,UAAUlP,KAAK,EAAEF,KAAK,EAAE;IACpC,IAAI,CAAC,IAAI,CAACmP,KAAK,EAAE;MACb,IAAI,CAACE,UAAU,CAACjG,GAAG,CAAClJ,KAAK,CAAC;MAC1B,OAAO,IAAI;IACf;IAEA,OAAO,IAAI,CAACiP,KAAK;EACrB,CAAC;;EAED;EACA,IAAI,CAACG,OAAO,CAAC,CAAC;EACd,IAAI,CAACC,UAAU,GAAG,UAAUrP,KAAK,EAAEF,KAAK,EAAE;IACtC,IAAI,CAAC,IAAI,CAACsP,OAAO;MAAE;MACf;QACI,IAAI,CAACE,YAAY,CAACpG,GAAG,CAAClJ,KAAK,CAAC;QAC5B,OAAO,IAAI;MACf;IAEJ,QAAQF,KAAK;MACT,KAAKqJ,gBAAgB,CAACoG,YAAY;QAC9B,OAAO,IAAI,CAACH,OAAO,CAACzK,IAAI;MAC5B,KAAKwE,gBAAgB,CAACqG,gBAAgB;QAClC,OAAO,IAAI,CAACJ,OAAO,CAACxK,QAAQ;MAChC,KAAKuE,gBAAgB,CAACsG,WAAW;QAC7B,OAAO,IAAI,CAACL,OAAO,CAACvK,GAAG;MAC3B,KAAKsE,gBAAgB,CAACuG,aAAa;QAC/B,OAAO,IAAI,CAACN,OAAO,CAACtK,KAAK;MAC7B,KAAKqE,gBAAgB,CAACwG,mBAAmB;QACrC,OAAO,IAAI,CAACP,OAAO,CAACrK,WAAW;MACnC,KAAKoE,gBAAgB,CAACyG,kBAAkB;QACpC,OAAO,IAAI,CAACR,OAAO,CAACpK,UAAU;IAAC;EAE3C,CAAC;EAED,IAAI,CAAC6K,KAAK,CAAC,CAAC;EACZ,IAAI,CAACC,QAAQ,GAAG,UAAU9P,KAAK,EAAEF,KAAK,EAAE;IACpC,IAAI,CAAC,IAAI,CAAC+P,KAAK;MAAE;MACb;QACI,IAAI,CAACE,UAAU,CAAC7G,GAAG,CAAClJ,KAAK,CAAC;QAC1B,OAAO,IAAI;MACf;IAEJ,QAAQF,KAAK;MACT,KAAKqJ,gBAAgB,CAAC6G,cAAc;QAChC,OAAO,IAAI,CAACH,KAAK,CAACpK,QAAQ;MAC9B,KAAK0D,gBAAgB,CAAC8G,aAAa;QAC/B,OAAO,IAAI,CAACJ,KAAK,CAAClK,OAAO;MAC7B,KAAKwD,gBAAgB,CAAC+G,YAAY;QAC9B,OAAO,IAAI,CAACL,KAAK,CAACnK,MAAM;IAAC;EAErC,CAAC;EAED,IAAI,CAACrF,KAAK,GAAG,IAAI7B,KAAK,CAACM,OAAO,EAAE,CAAC,CAAC;EAClC,IAAI,CAACmK,aAAa,GAAG,IAAIzK,KAAK,CAACM,OAAO,EAAE,CAAC,CAAC;EAC1C,IAAI,CAAC4L,SAAS,GAAG,IAAIlM,KAAK,CAACM,OAAO,EAAE,CAAC,CAAC;EACtC,IAAI,CAACsM,YAAY,GAAG,IAAI5M,KAAK,CAACM,OAAO,EAAE,CAAC,CAAC;EACzC,IAAI,CAAC2M,SAAS,GAAG,IAAIjN,KAAK,CAACM,OAAO,EAAE,CAAC,CAAC;EACtC,IAAI,CAACqN,eAAe,GAAG,IAAI3N,KAAK,CAACM,OAAO,EAAE,CAAC,CAAC;EAC5C,IAAI,CAAC4N,YAAY,GAAG,IAAIlO,KAAK,CAACM,OAAO,EAAE,CAAC,CAAC;EACzC,IAAI,CAACyO,YAAY,GAAG,IAAI/O,KAAK,CAACM,OAAO,EAAE,CAAC,CAAC;;EAEzC,IAAI,CAACmP,gBAAgB,GAAG,IAAIzP,KAAK,CAACM,OAAO,EAAE,CAAC,CAAC;EAC7C,IAAI,CAACqP,iBAAiB,GAAG,IAAI3P,KAAK,CAACM,OAAO,EAAE,CAAC,CAAC;EAC9C,IAAI,CAACuP,iBAAiB,GAAG,IAAI7P,KAAK,CAACM,OAAO,EAAE,CAAC,CAAC;EAC9C,IAAI,CAACyP,kBAAkB,GAAG,IAAI/P,KAAK,CAACM,OAAO,EAAE,CAAC,CAAC;EAC/C,IAAI,CAAC+P,KAAK,GAAG,IAAIrQ,KAAK,CAACM,OAAO,EAAE;EAChC,IAAI,CAACgQ,MAAM,GAAG,IAAItQ,KAAK,CAACM,OAAO,EAAE;EACjC,IAAI,CAACiQ,MAAM,GAAG,IAAIvQ,KAAK,CAACM,OAAO,EAAE;EACjC,IAAI,CAACkQ,OAAO,GAAG,IAAIxQ,KAAK,CAACM,OAAO,EAAE;EAClC,IAAI,CAACqQ,UAAU,GAAG,IAAI3Q,KAAK,CAACM,OAAO,EAAE,CAAC,CAAC;EACvC,IAAI,CAACwQ,YAAY,GAAG,IAAI9Q,KAAK,CAACM,OAAO,EAAE,CAAC,CAAC;EACzC,IAAI,CAACiR,UAAU,GAAG,IAAIvR,KAAK,CAACM,OAAO,EAAE,CAAC,CAAC;;EAEvC,IAAI,CAACqR,WAAW,GAAG,UAAUC,EAAE,EAAE;IAC7B,IAAI,CAAC/P,KAAK,CAAC6I,GAAG,CAACkH,EAAE,CAAC;EACtB,CAAC;EAED,IAAI,CAACC,UAAU,GAAG,YAAY;IAC1B,IAAI,CAAChQ,KAAK,CAACiQ,KAAK,EAAE;IAClB,IAAI,CAACrH,aAAa,CAACqH,KAAK,EAAE;IAC1B,IAAI,CAAC5F,SAAS,CAAC4F,KAAK,EAAE;IACtB,IAAI,CAAClF,YAAY,CAACkF,KAAK,EAAE;IACzB,IAAI,CAAC7E,SAAS,CAAC6E,KAAK,EAAE;IACtB,IAAI,CAACnE,eAAe,CAACmE,KAAK,EAAE;IAC5B,IAAI,CAAC5D,YAAY,CAAC4D,KAAK,EAAE;IACzB,IAAI,CAAC/C,YAAY,CAAC+C,KAAK,EAAE;IAEzB,IAAI,CAACrC,gBAAgB,CAACqC,KAAK,EAAE;IAC7B,IAAI,CAACnC,iBAAiB,CAACmC,KAAK,EAAE;IAC9B,IAAI,CAACjC,iBAAiB,CAACiC,KAAK,EAAE;IAC9B,IAAI,CAAC/B,kBAAkB,CAAC+B,KAAK,EAAE;IAE/B,IAAI,CAACzB,KAAK,CAACyB,KAAK,EAAE;IAClB,IAAI,CAACxB,MAAM,CAACwB,KAAK,EAAE;IACnB,IAAI,CAACvB,MAAM,CAACuB,KAAK,EAAE;IACnB,IAAI,CAACtB,OAAO,CAACsB,KAAK,EAAE;IAEpB,IAAI,CAACnB,UAAU,CAACmB,KAAK,EAAE;IACvB,IAAI,CAAChB,YAAY,CAACgB,KAAK,EAAE;IAEzB,IAAIC,yBAAyB,GAAG,IAAI;IACpC,IAAIC,iBAAiB,GAAG,KAAK;IAC7B,IAAIC,cAAc,GAAGC,SAAS;IAE9B,IAAI;MACA,KAAK,IAAIC,SAAS,GAAG,CAAC,CAAC,EAAEvS,aAAa,CAACU,OAAO,EAAE,IAAI,CAAC6L,IAAI,CAAC,EAAEiG,KAAK,EAAE,EAAEL,yBAAyB,GAAG,CAACK,KAAK,GAAGD,SAAS,CAACE,IAAI,EAAE,EAAEC,IAAI,CAAC,EAAEP,yBAAyB,GAAG,IAAI,EAAE;QACjK,IAAItK,IAAI,GAAG2K,KAAK,CAAC7S,KAAK;QAEtBkI,IAAI,CAAC,CAAC,CAAC,CAAC5F,KAAK,CAACiQ,KAAK,EAAE;MACzB;IACJ,CAAC,CAAC,OAAOS,GAAG,EAAE;MACVP,iBAAiB,GAAG,IAAI;MACxBC,cAAc,GAAGM,GAAG;IACxB,CAAC,SAAS;MACN,IAAI;QACA,IAAI,CAACR,yBAAyB,IAAII,SAAS,CAACK,MAAM,EAAE;UAChDL,SAAS,CAACK,MAAM,EAAE;QACtB;MACJ,CAAC,SAAS;QACN,IAAIR,iBAAiB,EAAE;UACnB,MAAMC,cAAc;QACxB;MACJ;IACJ;EACJ,CAAC;EAED,IAAI,CAACQ,WAAW,GAAG,UAAUb,EAAE,EAAE;IAC7B,IAAI,CAAC/P,KAAK,CAAC6Q,MAAM,CAACd,EAAE,CAAC;IACrB,IAAI,CAACnH,aAAa,CAACiI,MAAM,CAACd,EAAE,CAAC;IAC7B,IAAI,CAAC1F,SAAS,CAACwG,MAAM,CAACd,EAAE,CAAC;IACzB,IAAI,CAAChF,YAAY,CAAC8F,MAAM,CAACd,EAAE,CAAC;IAC5B,IAAI,CAAC3E,SAAS,CAACyF,MAAM,CAACd,EAAE,CAAC;IACzB,IAAI,CAACjE,eAAe,CAAC+E,MAAM,CAACd,EAAE,CAAC;IAC/B,IAAI,CAAC1D,YAAY,CAACwE,MAAM,CAACd,EAAE,CAAC;IAC5B,IAAI,CAAC7C,YAAY,CAAC2D,MAAM,CAACd,EAAE,CAAC;IAE5B,IAAI,CAACnC,gBAAgB,CAACiD,MAAM,CAACd,EAAE,CAAC;IAChC,IAAI,CAACjC,iBAAiB,CAAC+C,MAAM,CAACd,EAAE,CAAC;IACjC,IAAI,CAAC/B,iBAAiB,CAAC6C,MAAM,CAACd,EAAE,CAAC;IACjC,IAAI,CAAC7B,kBAAkB,CAAC2C,MAAM,CAACd,EAAE,CAAC;IAElC,IAAI,CAACvB,KAAK,CAACqC,MAAM,CAACd,EAAE,CAAC;IACrB,IAAI,CAACtB,MAAM,CAACoC,MAAM,CAACd,EAAE,CAAC;IACtB,IAAI,CAACrB,MAAM,CAACmC,MAAM,CAACd,EAAE,CAAC;IACtB,IAAI,CAACpB,OAAO,CAACkC,MAAM,CAACd,EAAE,CAAC;IAEvB,IAAI,CAACjB,UAAU,CAAC+B,MAAM,CAACd,EAAE,CAAC;IAC1B,IAAI,CAACd,YAAY,CAAC4B,MAAM,CAACd,EAAE,CAAC;IAE5B,IAAIe,0BAA0B,GAAG,IAAI;IACrC,IAAIC,kBAAkB,GAAG,KAAK;IAC9B,IAAIC,eAAe,GAAGX,SAAS;IAE/B,IAAI;MACA,KAAK,IAAIY,UAAU,GAAG,CAAC,CAAC,EAAElT,aAAa,CAACU,OAAO,EAAE,IAAI,CAAC6L,IAAI,CAAC,EAAE4G,MAAM,EAAE,EAAEJ,0BAA0B,GAAG,CAACI,MAAM,GAAGD,UAAU,CAACT,IAAI,EAAE,EAAEC,IAAI,CAAC,EAAEK,0BAA0B,GAAG,IAAI,EAAE;QACvK,IAAIlL,IAAI,GAAGsL,MAAM,CAACxT,KAAK;QAEvBkI,IAAI,CAAC,CAAC,CAAC,CAAC5F,KAAK,CAAC6Q,MAAM,CAACd,EAAE,CAAC;MAC5B;IACJ,CAAC,CAAC,OAAOW,GAAG,EAAE;MACVK,kBAAkB,GAAG,IAAI;MACzBC,eAAe,GAAGN,GAAG;IACzB,CAAC,SAAS;MACN,IAAI;QACA,IAAI,CAACI,0BAA0B,IAAIG,UAAU,CAACN,MAAM,EAAE;UAClDM,UAAU,CAACN,MAAM,EAAE;QACvB;MACJ,CAAC,SAAS;QACN,IAAII,kBAAkB,EAAE;UACpB,MAAMC,eAAe;QACzB;MACJ;IACJ;EACJ,CAAC;;EAED;EACA,IAAI,CAACG,WAAW,GAAG,UAAUrQ,IAAI,EAAE;IAC/B,IAAI,CAACwD,IAAI,GAAGxD,IAAI,CAAC+D,IAAI;IACrB,IAAI,CAAC+C,MAAM,GAAG9G,IAAI,CAACsQ,MAAM;IACzB,IAAI,CAAC3M,KAAK,GAAG3D,IAAI,CAACkE,KAAK;IACvB,IAAI,CAAC0C,IAAI,GAAG5G,IAAI,CAACuQ,IAAI;IACrB,IAAI,CAAC1J,GAAG,GAAG7G,IAAI,CAACwQ,GAAG;IACnB,IAAI,CAAC7J,IAAI,GAAG3G,IAAI,CAACyQ,IAAI;IACrB,IAAI,CAAC/M,GAAG,GAAG1D,IAAI,CAACiE,GAAG;IACnB,IAAI,CAAC8C,MAAM,GAAG/G,IAAI,CAAC0Q,MAAM;IACzB,IAAI,CAACrR,IAAI,GAAGW,IAAI,CAACI,IAAI;IACrB,IAAI,CAAC4G,IAAI,GAAGhH,IAAI,CAAC2Q,IAAI;IACrB,IAAI,CAACvJ,QAAQ,GAAGpH,IAAI,CAAC4Q,QAAQ;IAC7B,IAAI,CAAC3Q,KAAK,CAACD,IAAI,CAAC6Q,YAAY,CAAC,EAAE,IAAI,CAAC5J,YAAY,GAAGjH,IAAI,CAAC6Q,YAAY;IACpE,IAAI,CAAC5Q,KAAK,CAACD,IAAI,CAAC8Q,SAAS,CAAC,EAAE,IAAI,CAAC5J,SAAS,GAAGlH,IAAI,CAAC8Q,SAAS;IAC3D,IAAI,CAAC7Q,KAAK,CAACD,IAAI,CAAC+Q,QAAQ,CAAC,EAAE,IAAI,CAAC5J,QAAQ,GAAGnH,IAAI,CAAC+Q,QAAQ;IAExD,IAAI,IAAI,CAACvN,IAAI,CAAC8C,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;MAC9B,IAAI,CAACe,QAAQ,GAAG,CAAC,CAAC,GAAG,IAAI,IAAI,IAAI,CAACV,IAAI;MACtC,IAAI,CAACW,QAAQ,GAAG,CAAC,CAAC,GAAG,IAAI,IAAI,IAAI,CAACX,IAAI;IAC1C,CAAC,MAAM;MACH,IAAI,CAACU,QAAQ,GAAG,CAAC,CAAC,GAAG,GAAG,IAAI,IAAI,CAACV,IAAI;MACrC,IAAI,CAACW,QAAQ,GAAG,CAAC,CAAC,GAAG,GAAG,IAAI,IAAI,CAACX,IAAI;IACzC;IAEA,IAAI,IAAI,CAAChD,KAAK,IAAI,IAAI,CAACmD,MAAM,EAAE,IAAI,CAACS,OAAO,GAAG,IAAI,CAAC5D,KAAK,GAAG,IAAI,CAACmD,MAAM;;IAEtE;IACA,IAAI9G,IAAI,CAACgR,IAAI,EAAE;MACX,IAAI,CAACvJ,IAAI,GAAG,CAAC,CAAC;MACd,IAAI,CAACA,IAAI,CAACwJ,KAAK,GAAGjR,IAAI,CAACgR,IAAI,CAACE,KAAK;MACjC,IAAI,CAACzJ,IAAI,CAAC0J,KAAK,GAAGnR,IAAI,CAACgR,IAAI,CAACI,KAAK;MACjC,IAAI,CAAC3J,IAAI,CAAC4J,MAAM,GAAGrR,IAAI,CAACgR,IAAI,CAACM,MAAM;MACnC,IAAI,CAAC7J,IAAI,CAAC8J,MAAM,GAAGvR,IAAI,CAACgR,IAAI,CAACQ,MAAM;MACnC,IAAI,CAAC/J,IAAI,CAACgK,MAAM,GAAGzR,IAAI,CAACgR,IAAI,CAACU,MAAM;IACvC;EACJ,CAAC;EAED,IAAI,CAACC,iBAAiB,GAAG,UAAU3R,IAAI,EAAE;IACrC,IAAI,CAACuK,WAAW,GAAGvK,IAAI,CAAC4R,WAAW,CAAC,CAAC;IACrC,IAAI,CAACpH,eAAe,GAAGxK,IAAI,CAAC6R,eAAe,CAAC,CAAC;IAC7C,IAAI,CAACpH,QAAQ,GAAGzK,IAAI,CAAC8R,QAAQ,CAAC,CAAC;IAC/B,IAAI,CAACpH,UAAU,GAAG1K,IAAI,CAAC+R,UAAU,CAAC,CAAC;IACnC,IAAI,CAACpH,EAAE,GAAG3K,IAAI,CAACgS,EAAE,CAAC,CAAC;IACnB,IAAI,CAACpH,GAAG,GAAG5K,IAAI,CAACiS,GAAG,CAAC,CAAC;IACrB,IAAI,CAACpH,GAAG,GAAG7K,IAAI,CAACkS,GAAG,CAAC,CAAC;IACrB,IAAI,CAACpH,EAAE,GAAG9K,IAAI,CAACmS,EAAE,CAAC,CAAC;EACvB,CAAC;;EAED,IAAI,CAACC,cAAc,GAAG,UAAUpS,IAAI,EAAE;IAClCqS,OAAO,CAACC,GAAG,CAACtS,IAAI,CAAC;IACjB,IAAI,CAACA,IAAI,CAACG,OAAO,EAAE;IAEnB,IAAI,CAACkL,OAAO,GAAG,IAAIlM,WAAW,EAAE;IAChC,IAAI,CAACkM,OAAO,CAACtL,OAAO,CAACC,IAAI,CAAC;EAC9B,CAAC;EAED,IAAI,CAACuS,cAAc,GAAG,UAAUvS,IAAI,EAAE;IAClC,IAAI,CAACA,IAAI,CAACkB,OAAO,EAAE;IAEnB,IAAI,CAACgL,OAAO,GAAG,IAAIpL,WAAW,EAAE;IAChC,IAAI,CAACoL,OAAO,CAACnM,OAAO,CAACC,IAAI,CAAC;EAC9B,CAAC;;EAED;EACA,IAAI,CAACwS,gBAAgB,GAAG,UAAUxS,IAAI,EAAE;IACpC,IAAI,CAACqQ,WAAW,CAACrQ,IAAI,CAAC;IAEtB,IAAIyS,OAAO,GAAG,IAAIzU,YAAY,EAAE;IAChC,IAAIgC,IAAI,CAAC0S,QAAQ,EAAE;MACfD,OAAO,CAACtU,EAAE,GAAG6B,IAAI,CAAC0S,QAAQ,CAACC,EAAE;MAC7BF,OAAO,CAACvU,IAAI,GAAG8B,IAAI,CAAC0S,QAAQ,CAACE,IAAI;MACjCH,OAAO,CAACrU,SAAS,GAAG4B,IAAI,CAAC0S,QAAQ,CAACG,SAAS;MAC3CJ,OAAO,CAACxU,IAAI,GAAG+B,IAAI,CAAC0S,QAAQ,CAACI,IAAI;MAEjCL,OAAO,CAACpU,OAAO,CAAC2G,MAAM,GAAGhF,IAAI,CAAC0S,QAAQ,CAACK,OAAO,CAAC9N,MAAM;MACrDwN,OAAO,CAACpU,OAAO,CAACmF,IAAI,GAAGxD,IAAI,CAAC0S,QAAQ,CAACK,OAAO,CAAChP,IAAI;MAEjD0O,OAAO,CAACnU,SAAS,CAAC0G,MAAM,GAAGhF,IAAI,CAAC0S,QAAQ,CAACM,SAAS,CAAC/N,MAAM;MACzDwN,OAAO,CAACnU,SAAS,CAACkF,IAAI,GAAGxD,IAAI,CAAC0S,QAAQ,CAACM,SAAS,CAACjP,IAAI;IACzD;IAEA,IAAI,CAACyD,QAAQ,GAAGiL,OAAO;EAC3B,CAAC;;EAED;EACA,IAAI,CAACQ,cAAc,GAAG,UAAUjT,IAAI,EAAE;IAClC,IAAI,CAACqQ,WAAW,CAACrQ,IAAI,CAAC;IACtB,IAAI,CAAC+J,IAAI,GAAG,IAAIhL,KAAK,EAAE;IACvB,IAAI,CAACmL,KAAK,GAAG,IAAInL,KAAK,EAAE;IAExB,KAAK,IAAI8F,CAAC,IAAI7E,IAAI,CAACkT,GAAG,EAAE;MACpB,IAAIpO,IAAI,GAAG9E,IAAI,CAACkT,GAAG,CAACrO,CAAC,CAAC;MAEtB,IAAI,CAACkF,IAAI,CAAChF,IAAI,CAAC;QAAE,OAAO,EAAED,IAAI,CAACZ,KAAK;QAAE,KAAK,EAAEY,IAAI,CAACb;MAAI,CAAC,CAAC;IAC5D;IAEA,KAAK,IAAIY,CAAC,IAAI7E,IAAI,CAACmT,IAAI,EAAE;MACrB,IAAIrO,IAAI,GAAG9E,IAAI,CAACmT,IAAI,CAACtO,CAAC,CAAC;MACvB,IAAI,CAACqF,KAAK,CAACnF,IAAI,CAAC;QAAE,OAAO,EAAED,IAAI,CAACZ,KAAK;QAAE,KAAK,EAAEY,IAAI,CAACb;MAAI,CAAC,CAAC;IAC7D;EACJ,CAAC;;EAED;EACA,IAAI,CAACmP,WAAW,GAAG,UAAUpT,IAAI,EAAE;IAC/B,IAAI,CAAC2D,KAAK,GAAG3D,IAAI,CAACkE,KAAK;IACvB,IAAI,CAAC0C,IAAI,GAAG5G,IAAI,CAACuQ,IAAI;IACrB,IAAI,CAAC1J,GAAG,GAAG7G,IAAI,CAACwQ,GAAG;IACnB,IAAI,CAAC9M,GAAG,GAAG1D,IAAI,CAACiE,GAAG;IACnB,IAAI,CAAC8C,MAAM,GAAG/G,IAAI,CAAC0Q,MAAM;IACzB,IAAI,CAACrR,IAAI,GAAGW,IAAI,CAACI,IAAI;IACrB,IAAI,CAAC4G,IAAI,GAAGhH,IAAI,CAAC2Q,IAAI;IACrB,IAAI,CAACvJ,QAAQ,GAAGpH,IAAI,CAAC4Q,QAAQ;IAE7B,IAAI,CAACxG,IAAI,GAAG,IAAIrL,KAAK,EAAE;IACvB,KAAK,IAAI8F,CAAC,IAAI7E,IAAI,CAACqT,IAAI,EAAE;MACrB,IAAIvO,IAAI,GAAG9E,IAAI,CAACqT,IAAI,CAACxO,CAAC,CAAC;MACvB,IAAI5E,KAAK,CAAC6E,IAAI,CAACZ,KAAK,CAAC,IAAIjE,KAAK,CAAC6E,IAAI,CAAC6L,IAAI,CAAC,EAAE;MAC3C,IAAI2C,EAAE,GAAG,EAAE;MACX,IAAIxO,IAAI,CAACwO,EAAE,KAAK,CAAC,EAAEA,EAAE,GAAG,GAAG,CAAC,KAAK,IAAIxO,IAAI,CAACwO,EAAE,KAAK,CAAC,EAAEA,EAAE,GAAG,GAAG;MAC5D,IAAI,CAAClJ,IAAI,CAACrF,IAAI,CAAC;QAAE,OAAO,EAAED,IAAI,CAACZ,KAAK;QAAE,QAAQ,EAAEY,IAAI,CAAC4L,MAAM;QAAE,KAAK,EAAE5L,IAAI,CAACb,GAAG;QAAE,MAAM,EAAEa,IAAI,CAAC6L,IAAI;QAAE,IAAI,EAAE2C;MAAG,CAAC,CAAC;IAChH;EACJ,CAAC;;EAED;EACA,IAAI,CAACC,WAAW,GAAG,UAAUvT,IAAI,EAAE;IAC/B,IAAIwT,QAAQ,GAAG,IAAIjV,aAAa,EAAE;IAClCiV,QAAQ,CAAChV,IAAI,GAAGwB,IAAI,CAACyT,QAAQ,CAACC,IAAI;IAClCF,QAAQ,CAAC/U,YAAY,CAACkV,IAAI,GAAG3T,IAAI,CAACyT,QAAQ,CAACG,SAAS,CAACC,IAAI;IACzDL,QAAQ,CAAC/U,YAAY,CAACwS,KAAK,GAAGjR,IAAI,CAACyT,QAAQ,CAACG,SAAS,CAAC1C,KAAK;IAC3DsC,QAAQ,CAAC/U,YAAY,CAAC0S,KAAK,GAAGnR,IAAI,CAACyT,QAAQ,CAACG,SAAS,CAACxC,KAAK;IAE3D,IAAI,CAAC/H,IAAI,GAAGmK,QAAQ;EACxB,CAAC;EAED,IAAI,CAACM,qBAAqB,GAAG,UAAU9T,IAAI,EAAE+T,QAAQ,EAAE;IACnD,IAAI,CAAC/T,IAAI,EAAE;IAEX,QAAQ+T,QAAQ;MACZ,KAAKC,cAAc,CAACC,qBAAqB;QACrC,IAAI,CAACzH,cAAc,GAAG,IAAIlL,kBAAkB,EAAE;QAC9C,IAAI,CAACkL,cAAc,CAACzM,OAAO,CAACC,IAAI,CAAC;QACjC;MACJ,KAAKgU,cAAc,CAACE,sBAAsB;QACtC,IAAI,CAACzH,eAAe,GAAG,IAAI5J,mBAAmB,EAAE;QAChD,IAAI,CAAC4J,eAAe,CAAC1M,OAAO,CAACC,IAAI,CAAC;QAClC;MACJ,KAAKgU,cAAc,CAACG,sBAAsB;QACtC,IAAI,CAACzH,eAAe,GAAG,IAAI7J,mBAAmB,EAAE;QAChD,IAAI,CAAC6J,eAAe,CAAC3M,OAAO,CAACC,IAAI,CAAC;QAClC;MACJ,KAAKgU,cAAc,CAACI,uBAAuB;QACvC,IAAI,CAACzH,gBAAgB,GAAG,IAAI9J,mBAAmB,EAAE;QACjD,IAAI,CAAC8J,gBAAgB,CAAC5M,OAAO,CAACC,IAAI,CAAC;QACnC;IAAM;EAElB,CAAC;EAED,IAAI,CAACqU,MAAM,GAAG,UAAUrU,IAAI,EAAE+T,QAAQ,EAAE;IACpC,IAAI,CAAC/T,IAAI,EAAE;IAEX,QAAQ+T,QAAQ;MACZ,KAAKC,cAAc,CAACM,YAAY;QAC5B,IAAI,CAACjH,GAAG,GAAG,IAAIrK,OAAO,EAAE;QACxB,IAAI,CAACqK,GAAG,CAACtN,OAAO,CAACC,IAAI,CAAC;QACtB;MACJ,KAAKgU,cAAc,CAACO,aAAa;QAC7B,IAAI,CAACjH,IAAI,GAAG,IAAItK,OAAO,EAAE;QACzB,IAAI,CAACsK,IAAI,CAACvN,OAAO,CAACC,IAAI,CAAC;QACvB;MACJ,KAAKgU,cAAc,CAACQ,aAAa;QAC7B,IAAI,CAACjH,IAAI,GAAG,IAAIvK,OAAO,EAAE;QACzB,IAAI,CAACuK,IAAI,CAACxN,OAAO,CAACC,IAAI,CAAC;QACvB;MACJ,KAAKgU,cAAc,CAACS,cAAc;QAC9B,IAAI,CAACjH,KAAK,GAAG,IAAIxK,OAAO,EAAE;QAC1B,IAAI,CAACwK,KAAK,CAACzN,OAAO,CAACC,IAAI,CAAC;QACxB;IAAM;IAEd,OAAOA,IAAI;EACf,CAAC;EAED,IAAI,CAAC0U,YAAY,GAAG,UAAU1U,IAAI,EAAE;IAChC,IAAI,CAACA,IAAI,CAAC2F,MAAM,EAAE;IAElB,IAAI,CAACmI,KAAK,GAAG,IAAI1I,SAAS,EAAE;IAC5B,IAAI,CAAC0I,KAAK,CAAC/N,OAAO,CAACC,IAAI,CAAC;EAC5B,CAAC;EAED,IAAI,CAAC2U,cAAc,GAAG,UAAU3U,IAAI,EAAE;IAClC,IAAI,CAACA,IAAI,CAAC8D,OAAO,EAAE;IAEnB,IAAI,CAACmK,OAAO,GAAG,IAAI1K,WAAW,EAAE;IAChC,IAAI,CAAC0K,OAAO,CAAClO,OAAO,CAACC,IAAI,CAAC;EAC9B,CAAC;EAED,IAAI,CAAC4U,YAAY,GAAG,UAAU5U,IAAI,EAAE;IAChC,IAAI,CAACA,IAAI,CAAC4E,QAAQ,IAAI,CAAC5E,IAAI,CAACkF,MAAM,IAAI,CAAClF,IAAI,CAACmF,OAAO,EAAE;IAErD,IAAI,CAACuJ,KAAK,GAAG,IAAIrK,SAAS,EAAE;IAC5B,IAAI,CAACqK,KAAK,CAAC3O,OAAO,CAACC,IAAI,CAAC;EAC5B,CAAC;EACD;EACA,IAAI,CAACD,OAAO,GAAG,UAAUC,IAAI,EAAE;IAC3B,IAAIA,IAAI,CAAC+D,IAAI,EAAE,IAAI,CAACP,IAAI,GAAGxD,IAAI,CAAC+D,IAAI;IACpC,IAAI,CAAC9D,KAAK,CAACD,IAAI,CAACsQ,MAAM,CAAC,EAAE,IAAI,CAACxJ,MAAM,GAAG9G,IAAI,CAACsQ,MAAM;IAClD,IAAI,CAACrQ,KAAK,CAACD,IAAI,CAACkE,KAAK,CAAC,EAAE,IAAI,CAACP,KAAK,GAAG3D,IAAI,CAACkE,KAAK;IAC/C,IAAI,CAACjE,KAAK,CAACD,IAAI,CAACuQ,IAAI,CAAC,EAAE,IAAI,CAAC3J,IAAI,GAAG5G,IAAI,CAACuQ,IAAI;IAC5C,IAAI,CAACtQ,KAAK,CAACD,IAAI,CAACwQ,GAAG,CAAC,EAAE,IAAI,CAAC3J,GAAG,GAAG7G,IAAI,CAACwQ,GAAG;IACzC,IAAI,CAACvQ,KAAK,CAACD,IAAI,CAACiE,GAAG,CAAC,EAAE,IAAI,CAACP,GAAG,GAAG1D,IAAI,CAACiE,GAAG;IACzC,IAAI,CAAChE,KAAK,CAACD,IAAI,CAAC0Q,MAAM,CAAC,EAAE,IAAI,CAAC3J,MAAM,GAAG/G,IAAI,CAAC0Q,MAAM;IAClD,IAAI,CAACzQ,KAAK,CAACD,IAAI,CAACI,IAAI,CAAC,EAAE,IAAI,CAACf,IAAI,GAAGW,IAAI,CAACI,IAAI;IAC5C,IAAI,CAACH,KAAK,CAACD,IAAI,CAAC2Q,IAAI,CAAC,EAAE,IAAI,CAAC3J,IAAI,GAAGhH,IAAI,CAAC2Q,IAAI;IAC5C,IAAI,CAAC1Q,KAAK,CAACD,IAAI,CAAC4Q,QAAQ,CAAC,EAAE,IAAI,CAACxJ,QAAQ,GAAGpH,IAAI,CAAC4Q,QAAQ;IAExD,IAAI,CAAC3Q,KAAK,CAACD,IAAI,CAAC4R,WAAW,CAAC,EAAE,IAAI,CAACrH,WAAW,GAAGvK,IAAI,CAAC4R,WAAW,CAAC,CAAC;IACnE,IAAI,CAAC3R,KAAK,CAACD,IAAI,CAAC6R,eAAe,CAAC,EAAE,IAAI,CAACrH,eAAe,GAAGxK,IAAI,CAAC6R,eAAe,CAAC,CAAC;IAC/E,IAAI,CAAC5R,KAAK,CAACD,IAAI,CAAC8R,QAAQ,CAAC,EAAE,IAAI,CAACrH,QAAQ,GAAGzK,IAAI,CAAC8R,QAAQ,CAAC,CAAC;IAC1D,IAAI,CAAC7R,KAAK,CAACD,IAAI,CAAC+R,UAAU,CAAC,EAAE,IAAI,CAACrH,UAAU,GAAG1K,IAAI,CAAC+R,UAAU,CAAC,CAAC;IAChE,IAAI,CAAC9R,KAAK,CAACD,IAAI,CAACgS,EAAE,CAAC,EAAE,IAAI,CAACrH,EAAE,GAAG3K,IAAI,CAACgS,EAAE;IACtC,IAAI,CAAC/R,KAAK,CAACD,IAAI,CAACmS,EAAE,CAAC,EAAE,IAAI,CAACrH,EAAE,GAAG9K,IAAI,CAACmS,EAAE;IAEtC,IAAInS,IAAI,CAACG,OAAO,EAAE,IAAI,CAACiS,cAAc,CAACpS,IAAI,CAAC;IAC3C,IAAIA,IAAI,CAACG,OAAO,EAAE,IAAI,CAAC0U,oBAAoB,CAAC7U,IAAI,CAAC;IACjD,IAAIA,IAAI,CAACkB,OAAO,EAAE,IAAI,CAACqR,cAAc,CAACvS,IAAI,CAAC;IAE3C,IAAIA,IAAI,CAAC8U,UAAU,EAAE;MACjB,IAAI,CAAC7U,KAAK,CAACD,IAAI,CAAC8U,UAAU,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAACpN,eAAe,CAACqN,EAAE,GAAG/U,IAAI,CAAC8U,UAAU,CAAC,CAAC,CAAC;MAC5E,IAAI,CAAC7U,KAAK,CAACD,IAAI,CAAC8U,UAAU,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAACpN,eAAe,CAACsN,EAAE,GAAGhV,IAAI,CAAC8U,UAAU,CAAC,CAAC,CAAC;MAC5E,IAAI,CAAC7U,KAAK,CAACD,IAAI,CAAC8U,UAAU,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAACpN,eAAe,CAACuN,EAAE,GAAGjV,IAAI,CAAC8U,UAAU,CAAC,CAAC,CAAC;MAC5E,IAAI,CAAC7U,KAAK,CAACD,IAAI,CAAC8U,UAAU,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,CAACpN,eAAe,CAACwN,GAAG,GAAGlV,IAAI,CAAC8U,UAAU,CAAC,EAAE,CAAC;MAC/E,IAAI,CAAC7U,KAAK,CAACD,IAAI,CAAC8U,UAAU,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,CAACpN,eAAe,CAACyN,GAAG,GAAGnV,IAAI,CAAC8U,UAAU,CAAC,EAAE,CAAC;IACnF;IAEA,IAAI9U,IAAI,CAACoV,aAAa,EAAE;MACpB,IAAI,CAACnV,KAAK,CAACD,IAAI,CAACoV,aAAa,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAACzN,aAAa,CAACoN,EAAE,GAAG/U,IAAI,CAACoV,aAAa,CAAC,CAAC,CAAC;MAChF,IAAI,CAACnV,KAAK,CAACD,IAAI,CAACoV,aAAa,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAACzN,aAAa,CAACqN,EAAE,GAAGhV,IAAI,CAACoV,aAAa,CAAC,CAAC,CAAC;MAChF,IAAI,CAACnV,KAAK,CAACD,IAAI,CAACoV,aAAa,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAACzN,aAAa,CAACsN,EAAE,GAAGjV,IAAI,CAACoV,aAAa,CAAC,CAAC,CAAC;MAChF,IAAI,CAACnV,KAAK,CAACD,IAAI,CAACoV,aAAa,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,CAACzN,aAAa,CAACuN,GAAG,GAAGlV,IAAI,CAACoV,aAAa,CAAC,EAAE,CAAC;MACnF,IAAI,CAACnV,KAAK,CAACD,IAAI,CAACoV,aAAa,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,CAACzN,aAAa,CAACwN,GAAG,GAAGnV,IAAI,CAACoV,aAAa,CAAC,EAAE,CAAC;IACvF;IAEA,IAAIpV,IAAI,CAACqV,OAAO,EAAE;MACd,IAAI,CAACpV,KAAK,CAACD,IAAI,CAACqV,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAACzN,OAAO,CAACmN,EAAE,GAAG/U,IAAI,CAACqV,OAAO,CAAC,CAAC,CAAC;MAC9D,IAAI,CAACpV,KAAK,CAACD,IAAI,CAACqV,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAACzN,OAAO,CAACqN,EAAE,GAAGjV,IAAI,CAACqV,OAAO,CAAC,CAAC,CAAC;MAC9D,IAAI,CAACpV,KAAK,CAACD,IAAI,CAACqV,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAACzN,OAAO,CAACqN,EAAE,GAAGjV,IAAI,CAACqV,OAAO,CAAC,CAAC,CAAC;MAC9D,IAAI,CAACpV,KAAK,CAACD,IAAI,CAACqV,OAAO,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,CAACzN,OAAO,CAACsN,GAAG,GAAGlV,IAAI,CAACqV,OAAO,CAAC,EAAE,CAAC;MACjE,IAAI,CAACpV,KAAK,CAACD,IAAI,CAACqV,OAAO,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,CAACzN,OAAO,CAACuN,GAAG,GAAGnV,IAAI,CAACqV,OAAO,CAAC,EAAE,CAAC;IACrE;;IAEA;IACA;EACJ,CAAC;AACL;;AAEA;AACA;AACA;;AAEA;AACA,IAAIrN,gBAAgB,GAAG;EACnBC,MAAM,EAAE,CAAC;EACTC,IAAI,EAAE,CAAC;EACPC,IAAI,EAAE,CAAC;EACPC,KAAK,EAAE,CAAC;EACRE,IAAI,EAAE,CAAC;EACPC,GAAG,EAAE,CAAC;EACNF,MAAM,EAAE,CAAC;EACTG,GAAG,EAAE,CAAC;EAAE;EACRC,MAAM,EAAE,CAAC;EAAE;EACXC,IAAI,EAAE,CAAC;EACPC,IAAI,EAAE,EAAE;EACRC,QAAQ,EAAE,EAAE;EACZ0M,IAAI,EAAE,EAAE;EAAE;EACVC,KAAK,EAAE,EAAE;EAAE;EACXC,IAAI,EAAE,EAAE;EAAE;EACV1M,SAAS,EAAE,EAAE;EAAE;;EAEfmC,YAAY,EAAE,EAAE;EAAE;EAClBC,iBAAiB,EAAE,EAAE;EAAE;;EAEvBC,SAAS,EAAE,EAAE;EAAE;EACfC,WAAW,EAAE,EAAE;EAAE;;EAEjBT,EAAE,EAAE,EAAE;EAAE;EACRG,EAAE,EAAE,EAAE;EAAE;EACRjC,aAAa,EAAE,EAAE;EAAE;;EAEnB;EACAzJ,GAAG,EAAE,EAAE;EAAE;EACToM,YAAY,EAAE,EAAE;EAAE;EAClBC,mBAAmB,EAAE,EAAE;EAAE;EACzBC,mBAAmB,EAAE,EAAE;EAAE;;EAEzBC,eAAe,EAAE,EAAE;EAAE;EACrBC,uBAAuB,EAAE,EAAE;EAAE;;EAE7BC,kBAAkB,EAAE,EAAE;EAAE;EACxBC,wBAAwB,EAAE,EAAE;EAAE;EAC9BC,qBAAqB,EAAE,EAAE;EAAE;EAC3BC,WAAW,EAAE,EAAE;EAAE;;EAEjBjD,SAAS,EAAE,EAAE;EAAE;EACfC,SAAS,EAAE,EAAE;EAAE;EACfC,eAAe,EAAE,EAAE;EAAE;;EAErBgD,eAAe,EAAE,EAAE;EAAE;;EAErB;EACAwJ,eAAe,EAAE,EAAE;EACnBC,eAAe,EAAE,EAAE;EACnBC,eAAe,EAAE,EAAE;EACnBC,gBAAgB,EAAE,EAAE;EACpBC,gBAAgB,EAAE,EAAE;EAEpB;EACAC,kBAAkB,EAAE,EAAE;EACtBC,kBAAkB,EAAE,EAAE;EACtBC,kBAAkB,EAAE,EAAE;EACtBC,mBAAmB,EAAE,EAAE;EACvBC,mBAAmB,EAAE,EAAE;EAEvB;EACAC,eAAe,EAAE,EAAE;EACnBC,eAAe,EAAE,EAAE;EACnBC,eAAe,EAAE,EAAE;EACnBC,gBAAgB,EAAE,EAAE;EACpBC,gBAAgB,EAAE,EAAE;EAEpB;EACAnI,YAAY,EAAE,EAAE;EAAE;EAClBS,cAAc,EAAE,EAAE;EAAE;EACpBC,aAAa,EAAE,EAAE;EAAE;EACnBC,YAAY,EAAE,EAAE;EAAE;EAClBV,gBAAgB,EAAE,EAAE;EACpBC,WAAW,EAAE,EAAE;EACfC,aAAa,EAAE,EAAE;EACjBC,mBAAmB,EAAE,EAAE;EACvBC,kBAAkB,EAAE,EAAE;EACtB5B,gBAAgB,EAAE,EAAE;EAAE;EACtBE,iBAAiB,EAAE,EAAE;EAAE;EACvBE,iBAAiB,EAAE,EAAE;EAAE;EACvBE,kBAAkB,EAAE,EAAE;EAAE;EACxBE,GAAG,EAAE,EAAE;EACPC,IAAI,EAAE,EAAE;EACRC,IAAI,EAAE,EAAE;EACRC,KAAK,EAAE,EAAE;EAET;EACA;EACA;EACA;EACA;EACAgJ,MAAM,EAAE,EAAE;EAEVlK,SAAS,EAAE,EAAE;EAAE;EACfD,aAAa,EAAE,EAAE;EAAE;EACnBE,aAAa,EAAE,EAAE;EAAE;;EAEnBrD,QAAQ,EAAE,EAAE;EAAE;EACd0B,GAAG,EAAE,EAAE;EAAE;EACTC,GAAG,EAAE,EAAE;EAAE;;EAGT1B,QAAQ,EAAE,GAAG;EACbC,IAAI,EAAE,GAAG;EACTqN,IAAI,EAAE;AACV,CAAC;AAED,IAAIC,kBAAkB,GAAG;EACrBC,UAAU,EAAE,IAAIxZ,KAAK,CAACQ,OAAO,CAAC,CAAC,CAACqK,gBAAgB,CAACE,IAAI,EAAE,MAAM,CAAC,EAAE,CAACF,gBAAgB,CAACC,MAAM,EAAE,QAAQ,CAAC,EAAE,CAACD,gBAAgB,CAACI,KAAK,EAAE,OAAO,CAAC,EAAE,CAACJ,gBAAgB,CAACY,QAAQ,EAAE,UAAU,CAAC,EAAE,CAACZ,gBAAgB,CAAC2C,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC3C,gBAAgB,CAACiE,eAAe,EAAE,iBAAiB,CAAC,EAAE,CAACjE,gBAAgB,CAACK,MAAM,EAAE,QAAQ,CAAC;EAExS;EACA,CAACL,gBAAgB,CAACyN,eAAe,EAAE,iBAAiB,CAAC,EAAE,CAACzN,gBAAgB,CAAC0N,eAAe,EAAE,iBAAiB,CAAC,EAAE,CAAC1N,gBAAgB,CAAC2N,eAAe,EAAE,iBAAiB,CAAC,EAAE,CAAC3N,gBAAgB,CAAC4N,gBAAgB,EAAE,kBAAkB,CAAC,EAAE,CAAC5N,gBAAgB,CAAC6N,gBAAgB,EAAE,kBAAkB,CAAC;EAErR;EACA,CAAC7N,gBAAgB,CAAC8N,kBAAkB,EAAE,cAAc,CAAC,EAAE,CAAC9N,gBAAgB,CAAC+N,kBAAkB,EAAE,cAAc,CAAC,EAAE,CAAC/N,gBAAgB,CAACgO,kBAAkB,EAAE,cAAc,CAAC,EAAE,CAAChO,gBAAgB,CAACiO,mBAAmB,EAAE,eAAe,CAAC,EAAE,CAACjO,gBAAgB,CAACkO,mBAAmB,EAAE,eAAe,CAAC;EAErR;EACA,CAAClO,gBAAgB,CAACmO,eAAe,EAAE,WAAW,CAAC,EAAE,CAACnO,gBAAgB,CAACoO,eAAe,EAAE,WAAW,CAAC,EAAE,CAACpO,gBAAgB,CAACqO,eAAe,EAAE,WAAW,CAAC,EAAE,CAACrO,gBAAgB,CAACsO,gBAAgB,EAAE,YAAY,CAAC,EAAE,CAACtO,gBAAgB,CAACuO,gBAAgB,EAAE,YAAY,CAAC,CAAC,CAAC;EAEzPK,YAAY,EAAE,SAASA,YAAYA,CAACC,OAAO,EAAE;IACzC,IAAI,CAAC,IAAI,CAACF,UAAU,CAAC/M,GAAG,CAACiN,OAAO,CAAC,EAAE,OAAO,IAAI;IAE9C,OAAO,IAAI,CAACF,UAAU,CAAC7M,GAAG,CAAC+M,OAAO,CAAC;EACvC;AACJ,CAAC;AAED,SAASC,SAASA,CAACC,KAAK,EAAElY,KAAK,EAAE;EAC7B,IAAI,CAACmY,OAAO,GAAGD,KAAK;EACpB,IAAI,CAAC7X,KAAK,GAAGL,KAAK;EAElB,IAAI,CAACoY,GAAG,GAAG,UAAUhS,MAAM,EAAEtG,KAAK,EAAE;IAChC,IAAIqB,IAAI,GAAG+W,KAAK,CAACE,GAAG,CAAChS,MAAM,EAAE,IAAI,CAAC/F,KAAK,CAAC;IACxC,IAAI,CAACc,IAAI,EAAE,OAAO,IAAI;IAEtB,QAAQrB,KAAK;MACT,KAAKqJ,gBAAgB,CAACC,MAAM;MAC5B,KAAKD,gBAAgB,CAACE,IAAI;MAC1B,KAAKF,gBAAgB,CAACG,IAAI;MAC1B,KAAKH,gBAAgB,CAACI,KAAK;MAC3B,KAAKJ,gBAAgB,CAACK,MAAM;MAC5B,KAAKL,gBAAgB,CAACM,IAAI;MAC1B,KAAKN,gBAAgB,CAACO,GAAG;MACzB,KAAKP,gBAAgB,CAACQ,GAAG;MACzB,KAAKR,gBAAgB,CAACS,MAAM;MAC5B,KAAKT,gBAAgB,CAACU,IAAI;MAC1B,KAAKV,gBAAgB,CAACW,IAAI;MAC1B,KAAKX,gBAAgB,CAACY,QAAQ;MAC9B,KAAKZ,gBAAgB,CAACa,aAAa;MACnC,KAAKb,gBAAgB,CAACc,SAAS;MAC/B,KAAKd,gBAAgB,CAACe,SAAS;MAC/B,KAAKf,gBAAgB,CAACgB,SAAS;MAC/B,KAAKhB,gBAAgB,CAACiB,eAAe;MACrC,KAAKjB,gBAAgB,CAACmB,QAAQ;MAC9B,KAAKnB,gBAAgB,CAACoB,IAAI;MAC1B,KAAKpB,gBAAgB,CAACkB,QAAQ;QAC1B,OAAOlJ,IAAI,CAAC6H,WAAW,CAAC,IAAI,CAAC3I,KAAK,EAAEP,KAAK,CAAC;MAE9C,KAAKqJ,gBAAgB,CAACyO,IAAI;QACtB,OAAOzW,IAAI,CAACsJ,WAAW,CAAC,IAAI,CAACpK,KAAK,CAAC;MACvC,KAAK8I,gBAAgB,CAACsN,IAAI;QACtB,OAAOtV,IAAI,CAACgK,OAAO,CAAC,IAAI,CAAC9K,KAAK,CAAC;MACnC,KAAK8I,gBAAgB,CAACuN,KAAK;QACvB,OAAOvV,IAAI,CAACmK,QAAQ,CAAC,IAAI,CAACjL,KAAK,CAAC;MACpC,KAAK8I,gBAAgB,CAACwN,IAAI;QACtB,OAAOxV,IAAI,CAACqK,OAAO,CAAC,IAAI,CAACnL,KAAK,CAAC;;MAEnC;MACA,KAAK8I,gBAAgB,CAACiD,YAAY;MAClC,KAAKjD,gBAAgB,CAACkD,iBAAiB;MACvC,KAAKlD,gBAAgB,CAACmD,SAAS;MAC/B,KAAKnD,gBAAgB,CAACoD,WAAW;MACjC,KAAKpD,gBAAgB,CAAC2C,EAAE;MACxB,KAAK3C,gBAAgB,CAAC4C,GAAG;MACzB,KAAK5C,gBAAgB,CAAC6C,GAAG;MACzB,KAAK7C,gBAAgB,CAAC8C,EAAE;QACpB,OAAO9K,IAAI,CAAC+K,aAAa,CAAC,IAAI,CAAC7L,KAAK,EAAEP,KAAK,CAAC;;MAEhD;MACA,KAAKqJ,gBAAgB,CAAC5I,GAAG;MACzB,KAAK4I,gBAAgB,CAACwD,YAAY;MAClC,KAAKxD,gBAAgB,CAACyD,mBAAmB;MACzC,KAAKzD,gBAAgB,CAAC0D,mBAAmB;MACzC,KAAK1D,gBAAgB,CAAC2D,eAAe;MACrC,KAAK3D,gBAAgB,CAAC4D,uBAAuB;MAC7C,KAAK5D,gBAAgB,CAAC6D,kBAAkB;MACxC,KAAK7D,gBAAgB,CAAC8D,wBAAwB;MAC9C,KAAK9D,gBAAgB,CAAC+D,qBAAqB;MAC3C,KAAK/D,gBAAgB,CAACgE,WAAW;MACjC,KAAKhE,gBAAgB,CAACiE,eAAe;QACjC,OAAOjM,IAAI,CAACsL,UAAU,CAAC,IAAI,CAACpM,KAAK,EAAEP,KAAK,CAAC;;MAE7C;MACA,KAAKqJ,gBAAgB,CAAC6G,cAAc;MACpC,KAAK7G,gBAAgB,CAAC8G,aAAa;MACnC,KAAK9G,gBAAgB,CAAC+G,YAAY;QAC9B,OAAO/O,IAAI,CAAC2O,QAAQ,CAAC,IAAI,CAACzP,KAAK,EAAEP,KAAK,CAAC;;MAE3C;MACA,KAAKqJ,gBAAgB,CAAC6E,gBAAgB;MACtC,KAAK7E,gBAAgB,CAAC+E,iBAAiB;MACvC,KAAK/E,gBAAgB,CAACiF,iBAAiB;MACvC,KAAKjF,gBAAgB,CAACmF,kBAAkB;QACpC,OAAOnN,IAAI,CAAC4M,iBAAiB,CAAC,IAAI,CAAC1N,KAAK,EAAEP,KAAK,CAAC;;MAEpD;MACA,KAAKqJ,gBAAgB,CAACqF,GAAG;MACzB,KAAKrF,gBAAgB,CAACsF,IAAI;MAC1B,KAAKtF,gBAAgB,CAACuF,IAAI;MAC1B,KAAKvF,gBAAgB,CAACwF,KAAK;QACvB,OAAOxN,IAAI,CAACyN,MAAM,CAAC,IAAI,CAACvO,KAAK,EAAEP,KAAK,CAAC;;MAEzC;MACA,KAAKqJ,gBAAgB,CAACwO,MAAM;QACxB,OAAOxW,IAAI,CAAC+N,QAAQ,CAAC,IAAI,CAAC7O,KAAK,EAAEP,KAAK,CAAC;MAC3C;MACA,KAAKqJ,gBAAgB,CAACoG,YAAY;MAClC,KAAKpG,gBAAgB,CAACqG,gBAAgB;MACtC,KAAKrG,gBAAgB,CAACsG,WAAW;MACjC,KAAKtG,gBAAgB,CAACuG,aAAa;MACnC,KAAKvG,gBAAgB,CAACwG,mBAAmB;MACzC,KAAKxG,gBAAgB,CAACyG,kBAAkB;QACpC,OAAOzO,IAAI,CAACkO,UAAU,CAAC,IAAI,CAAChP,KAAK,EAAEP,KAAK,CAAC;MAC7C;MACA,KAAKqJ,gBAAgB,CAACsE,SAAS;MAC/B,KAAKtE,gBAAgB,CAACuE,aAAa;MACnC,KAAKvE,gBAAgB,CAACqE,aAAa;QAC/B,OAAOrM,IAAI,CAACmM,UAAU,CAAC,IAAI,CAACjN,KAAK,EAAEP,KAAK,CAAC;MAC7C;QACI,OAAO,IAAI;IAAC;EAExB,CAAC;;EAED;EACA,IAAI,CAACuY,OAAO,GAAG,UAAUjS,MAAM,EAAEtG,KAAK,EAAEC,KAAK,EAAE;IAC3C,IAAIoB,IAAI,GAAG+W,KAAK,CAACE,GAAG,CAAChS,MAAM,EAAE,IAAI,CAAC/F,KAAK,CAAC;IACxC,IAAIc,IAAI,IAAI,IAAI,EAAE,OAAOA,IAAI;IAE7B,OAAOA,IAAI,CAACyJ,WAAW,CAAC,IAAI,CAACvK,KAAK,EAAEP,KAAK,EAAEC,KAAK,CAAC;EACrD,CAAC;;EAED;EACA,IAAI,CAACuY,OAAO,GAAG,UAAUC,QAAQ,EAAE;IAC/B,IAAIA,QAAQ,IAAI,IAAI,EAAE,IAAI,CAACJ,OAAO,CAACK,WAAW,EAAE;EACpD,CAAC;;EAED;EACA,IAAI,CAACC,aAAa,GAAG,UAAUrS,MAAM,EAAEsS,QAAQ,EAAE;IAC7C,KAAK,IAAI1S,CAAC,IAAI0S,QAAQ,EAAE;MACpB,IAAI,CAACN,GAAG,CAAChS,MAAM,EAAEsS,QAAQ,CAAC1S,CAAC,CAAC,CAAC;IACjC;EACJ,CAAC;AACL;;AAEA;AACA,SAAS2S,cAAcA,CAAA,EAAG;EACtB,IAAI,CAACxS,MAAM;EACX,IAAI,CAACyS,QAAQ,CAAC,CAAC;EACf,IAAI,CAACxY,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC;EACjB,IAAI,CAACD,SAAS,CAAC,CAAC;EAChB,IAAI,CAAC0Y,KAAK,CAAC,CAAC;EACZ,IAAI,CAAChJ,KAAK,CAAC,CAAC;EACZ,IAAI,CAACiJ,IAAI,GAAG,IAAIxa,KAAK,CAACQ,OAAO,EAAE,CAAC,CAAC;EACjC,IAAI,CAACia,MAAM,GAAG7Z,iBAAiB,CAACF,MAAM,GAAG,sBAAsB;EAC/D,IAAI,CAACga,QAAQ,GAAG,EAAE,CAAC,CAAC;EACpB,IAAI,CAACC,SAAS,GAAG,CAAC;EAClB,IAAI,CAACC,KAAK,CAAC,CAAC;EACZ,IAAI,CAACC,WAAW,GAAG,IAAI,CAAC,CAAC;;EAGzB,IAAI,CAACC,WAAW,GAAG,UAAUC,SAAS,EAAEC,UAAU,EAAE;IAChD,IAAIC,IAAI,GAAG,IAAI;IACf,IAAIC,aAAa,GAAG,OAAOD,IAAI,CAACpT,MAAM,IAAI,QAAQ,GAAG,CAAC,IAAI,CAACA,MAAM,CAAC,GAAG,IAAI,CAACA,MAAM;IAChF,IAAIsT,mBAAmB,GAAGD,aAAa,GAAGA,aAAa,CAACE,MAAM,GAAG,CAAC;IAElE,IAAI,IAAI,CAAC7J,KAAK,EAAE;MACZ,IAAI,CAACsJ,WAAW,GAAG;QACf,OAAO,EAAE,IAAI,CAACtJ,KAAK;QAAE;QACrB,QAAQ,EAAE2J,aAAa;QACvB,OAAO,EAAE,CAAC;QACV,KAAK,EAAE,IAAI,CAACR,QAAQ;QACpB,OAAO,EAAE,IAAI,CAACH,KAAK;QACnB,YAAY,EAAE,IAAI,CAAC1Y,SAAS;QAC5B,OAAO,EAAE,IAAI,CAACC,KAAK;QACnB,WAAW,EAAEiZ,SAAS,CAACM,QAAQ,EAAE;QACjC,YAAY,EAAEL,UAAU,GAAGA,UAAU,CAACK,QAAQ,EAAE,GAAG;MACvD,CAAC;IACL,CAAC,MAAM;MACH,IAAI,CAACR,WAAW,GAAG;QACf,QAAQ,EAAEK,aAAa;QACvB,OAAO,EAAE,CAAC;QACV,KAAK,EAAEC,mBAAmB;QAC1B,OAAO,EAAE,IAAI,CAACZ,KAAK;QACnB,YAAY,EAAE,IAAI,CAAC1Y,SAAS;QAC5B,OAAO,EAAE,IAAI,CAACC,KAAK;QACnB,WAAW,EAAEiZ,SAAS,CAACM,QAAQ,EAAE;QACjC,YAAY,EAAEL,UAAU,GAAGA,UAAU,CAACK,QAAQ,EAAE,GAAG;MACvD,CAAC;IACL;IAEAhb,QAAQ,CAACG,OAAO,CAAC8a,IAAI,CAAC;MAClBC,GAAG,EAAE,IAAI,CAACd,MAAM;MAChB5X,IAAI,EAAEoY,IAAI,CAACJ,WAAW;MACtBW,MAAM,EAAE,MAAM;MAEdC,QAAQ,EAAE,MAAM;MAChBC,OAAO,EAAE,SAASA,OAAOA,CAAC7Y,IAAI,EAAE;QAC5BoY,IAAI,CAACL,KAAK,GAAG/X,IAAI,CAACA,IAAI,CAAC8Y,KAAK;QAC5BV,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEkY,SAAS,CAAC;MAClC,CAAC;MACDc,IAAI,EAAE,SAASA,IAAIA,CAACC,OAAO,EAAE;QACzBb,IAAI,CAACc,SAAS,CAACD,OAAO,EAAEf,SAAS,CAAC;MACtC;IACJ,CAAC,CAAC;EACN,CAAC;EAED,IAAI,CAACiB,WAAW,GAAG,YAAY;IAC3B,IAAIf,IAAI,GAAG,IAAI;IAEf,IAAI,IAAI,CAACP,QAAQ,GAAG,IAAI,CAACC,SAAS,GAAG,IAAI,CAACC,KAAK,EAAE;MAC7C,IAAI,CAACC,WAAW,CAACoB,KAAK,GAAG,IAAI,CAACvB,QAAQ,GAAG,IAAI,CAACC,SAAS;MACvD,IAAI,CAACA,SAAS,EAAE;MAChB,IAAI,CAACE,WAAW,CAACqB,GAAG,GAAG,IAAI,CAACxB,QAAQ,GAAG,IAAI,CAACC,SAAS;MAErDta,QAAQ,CAACG,OAAO,CAAC8a,IAAI,CAAC;QAClBC,GAAG,EAAE,IAAI,CAACd,MAAM;QAChB5X,IAAI,EAAEoY,IAAI,CAACJ,WAAW;QACtBW,MAAM,EAAE,MAAM;QACdC,QAAQ,EAAE,MAAM;QAChBC,OAAO,EAAE,SAASA,OAAOA,CAAC7Y,IAAI,EAAE;UAC5BoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,CAAC;QACvB,CAAC;QACDgZ,IAAI,EAAE,SAASA,IAAIA,CAACC,OAAO,EAAE;UACzBb,IAAI,CAACc,SAAS,CAACD,OAAO,CAAC;QAC3B;MACJ,CAAC,CAAC;IACN,CAAC,MAAM;MACHK,KAAK,CAAC,SAAS,CAAC;MAChB;MACA;MACA;MACA;MACA;IACJ;EACJ,CAAC;;EAED;EACA,IAAI,CAACP,QAAQ,GAAG,UAAUQ,QAAQ,EAAErB,SAAS,EAAE;IAC3C,IAAIlY,IAAI,GAAGuZ,QAAQ,CAACvZ,IAAI;IACxB,KAAK,IAAI6E,CAAC,IAAI7E,IAAI,CAAC+W,KAAK,EAAE;MACtB,IAAIjS,IAAI,GAAG9E,IAAI,CAAC+W,KAAK,CAAClS,CAAC,CAAC;MACxB,IAAI2U,SAAS,GAAG1U,IAAI,CAACG,MAAM;MAC3B,IAAIwU,SAAS,GAAG,CAAC,CAAC;MAClB;MACA,IAAI,IAAI,CAAC9B,IAAI,CAAC/N,GAAG,CAAC4P,SAAS,CAAC,EAAE;QAC1BC,SAAS,GAAG,IAAI,CAAC9B,IAAI,CAAC7N,GAAG,CAAC0P,SAAS,CAAC;MACxC,CAAC,MAAM;QACHC,SAAS,GAAG;UACRzU,MAAM,EAAEF,IAAI,CAACG,MAAM;UACnBzB,IAAI,EAAEsB,IAAI,CAACf,IAAI;UACf4T,IAAI,EAAE,IAAIxa,KAAK,CAACQ,OAAO,EAAE,CAAC;QAC9B,CAAC;;QAED,IAAI,CAACga,IAAI,CAAC9N,GAAG,CAAC2P,SAAS,EAAEC,SAAS,CAAC;MACvC;MAEA,IAAI,CAACC,YAAY,CAAC5U,IAAI,EAAE2U,SAAS,CAAC;IACtC;IAEA,IAAI,IAAI,CAAChC,QAAQ,EAAE,IAAI,CAACA,QAAQ,CAAC,IAAI,EAAES,SAAS,CAAC;EACrD,CAAC;EAED,IAAI,CAACwB,YAAY,GAAG,UAAU1Z,IAAI,EAAEyZ,SAAS,EAAE;IAC3C,KAAK,IAAI5U,CAAC,IAAI7E,IAAI,CAAC2Z,QAAQ,EAAE;MACzB,IAAI7U,IAAI,GAAG9E,IAAI,CAAC2Z,QAAQ,CAAC9U,CAAC,CAAC;MAC3B,IAAIzE,IAAI,GAAG0E,IAAI,CAAC1E,IAAI;MACpB,IAAIwZ,OAAO,GAAG,IAAIzc,KAAK,CAACQ,OAAO,EAAE;MACjC,IAAI,CAACyU,cAAc,CAACtN,IAAI,EAAE8U,OAAO,CAAC;MAClC,IAAI,CAACC,mBAAmB,CAAC/U,IAAI,EAAE8U,OAAO,CAAC;MACvC,IAAI,CAACE,cAAc,CAAChV,IAAI,EAAE8U,OAAO,CAAC;MAClC,IAAI,CAACG,cAAc,CAACjV,IAAI,EAAE8U,OAAO,CAAC;MAClC,IAAI,CAACI,gBAAgB,CAAClV,IAAI,EAAE8U,OAAO,CAAC;MACpC,IAAI,CAACK,sBAAsB,CAACnV,IAAI,EAAE8U,OAAO,CAAC;MAC1CH,SAAS,CAAC9B,IAAI,CAAC9N,GAAG,CAACzJ,IAAI,EAAEwZ,OAAO,CAAC;IACrC;IAEA,OAAOH,SAAS;EACpB,CAAC;EAED,IAAI,CAACrH,cAAc,GAAG,UAAUmH,QAAQ,EAAEK,OAAO,EAAE;IAC/C;IACA,IAAIM,QAAQ,GAAGX,QAAQ,CAACY,QAAQ;IAChC,IAAID,QAAQ,EAAE;MACV,IAAI,CAACja,KAAK,CAACia,QAAQ,CAACzZ,eAAe,CAAC,EAAEmZ,OAAO,CAAC/P,GAAG,CAACuQ,wBAAwB,CAACC,wBAAwB,EAAEH,QAAQ,CAACzZ,eAAe,CAAC;MAC9H,IAAI,CAACR,KAAK,CAACia,QAAQ,CAACvZ,gBAAgB,CAAC,EAAEiZ,OAAO,CAAC/P,GAAG,CAACuQ,wBAAwB,CAACE,yBAAyB,EAAEJ,QAAQ,CAACvZ,gBAAgB,CAAC;MACjI,IAAI,CAACV,KAAK,CAACia,QAAQ,CAACtZ,aAAa,CAAC,EAAEgZ,OAAO,CAAC/P,GAAG,CAACuQ,wBAAwB,CAACG,sBAAsB,EAAEL,QAAQ,CAACtZ,aAAa,CAAC;MACxH,IAAI,CAACX,KAAK,CAACia,QAAQ,CAACrZ,OAAO,CAAC,EAAE+Y,OAAO,CAAC/P,GAAG,CAACuQ,wBAAwB,CAACI,gBAAgB,EAAEN,QAAQ,CAACrZ,OAAO,CAAC;IAC1G;IAEA,IAAI4Z,YAAY,GAAGlB,QAAQ,CAACmB,aAAa;IACzC,IAAID,YAAY,EAAE;MACd,IAAI,CAACxa,KAAK,CAACwa,YAAY,CAACE,IAAI,CAAC,EAAEf,OAAO,CAAC/P,GAAG,CAACuQ,wBAAwB,CAACQ,aAAa,EAAEH,YAAY,CAACE,IAAI,CAAC;MACrG,IAAI,CAAC1a,KAAK,CAACwa,YAAY,CAACI,OAAO,CAAC,EAAEjB,OAAO,CAAC/P,GAAG,CAACuQ,wBAAwB,CAACU,gBAAgB,EAAEL,YAAY,CAACI,OAAO,CAAC;IAClH;;IAEA;IACA,IAAIX,QAAQ,GAAGX,QAAQ,CAACwB,QAAQ;IAChC,IAAIb,QAAQ,EAAE;MACV,IAAI,CAACja,KAAK,CAACia,QAAQ,CAACzZ,eAAe,CAAC,EAAEmZ,OAAO,CAAC/P,GAAG,CAACuQ,wBAAwB,CAACY,wBAAwB,EAAEd,QAAQ,CAACzZ,eAAe,CAAC;MAC9H,IAAI,CAACR,KAAK,CAACia,QAAQ,CAACvZ,gBAAgB,CAAC,EAAEiZ,OAAO,CAAC/P,GAAG,CAACuQ,wBAAwB,CAACa,yBAAyB,EAAEf,QAAQ,CAACvZ,gBAAgB,CAAC;MACjI,IAAI,CAACV,KAAK,CAACia,QAAQ,CAACtZ,aAAa,CAAC,EAAEgZ,OAAO,CAAC/P,GAAG,CAACuQ,wBAAwB,CAACc,sBAAsB,EAAEhB,QAAQ,CAACtZ,aAAa,CAAC;MACxH,IAAI,CAACX,KAAK,CAACia,QAAQ,CAACrZ,OAAO,CAAC,EAAE+Y,OAAO,CAAC/P,GAAG,CAACuQ,wBAAwB,CAACe,gBAAgB,EAAEjB,QAAQ,CAACrZ,OAAO,CAAC;IAC1G;IAEA,IAAI4Z,YAAY,GAAGlB,QAAQ,CAAC6B,aAAa;IACzC,IAAIX,YAAY,EAAE;MACd,IAAI,CAACxa,KAAK,CAACwa,YAAY,CAACE,IAAI,CAAC,EAAEf,OAAO,CAAC/P,GAAG,CAACuQ,wBAAwB,CAACiB,aAAa,EAAEZ,YAAY,CAACE,IAAI,CAAC;MACrG,IAAI,CAAC1a,KAAK,CAACwa,YAAY,CAACI,OAAO,CAAC,EAAEjB,OAAO,CAAC/P,GAAG,CAACuQ,wBAAwB,CAACkB,gBAAgB,EAAEb,YAAY,CAACI,OAAO,CAAC;IAClH;;IAEA;IACA,IAAIX,QAAQ,GAAGX,QAAQ,CAACgC,QAAQ;IAChC,IAAIrB,QAAQ,EAAE;MACV,IAAI,CAACja,KAAK,CAACia,QAAQ,CAACzZ,eAAe,CAAC,EAAEmZ,OAAO,CAAC/P,GAAG,CAACuQ,wBAAwB,CAACoB,wBAAwB,EAAEtB,QAAQ,CAACzZ,eAAe,CAAC;MAC9H,IAAI,CAACR,KAAK,CAACia,QAAQ,CAACvZ,gBAAgB,CAAC,EAAEiZ,OAAO,CAAC/P,GAAG,CAACuQ,wBAAwB,CAACqB,yBAAyB,EAAEvB,QAAQ,CAACvZ,gBAAgB,CAAC;MACjI,IAAI,CAACV,KAAK,CAACia,QAAQ,CAACtZ,aAAa,CAAC,EAAEgZ,OAAO,CAAC/P,GAAG,CAACuQ,wBAAwB,CAACsB,sBAAsB,EAAExB,QAAQ,CAACtZ,aAAa,CAAC;MACxH,IAAI,CAACX,KAAK,CAACia,QAAQ,CAACrZ,OAAO,CAAC,EAAE+Y,OAAO,CAAC/P,GAAG,CAACuQ,wBAAwB,CAACuB,gBAAgB,EAAEzB,QAAQ,CAACrZ,OAAO,CAAC;IAC1G;IAEA,IAAI4Z,YAAY,GAAGlB,QAAQ,CAACqC,aAAa;IACzC,IAAInB,YAAY,EAAE;MACd,IAAI,CAACxa,KAAK,CAACwa,YAAY,CAACE,IAAI,CAAC,EAAEf,OAAO,CAAC/P,GAAG,CAACuQ,wBAAwB,CAACyB,aAAa,EAAEpB,YAAY,CAACE,IAAI,CAAC;MACrG,IAAI,CAAC1a,KAAK,CAACwa,YAAY,CAACI,OAAO,CAAC,EAAEjB,OAAO,CAAC/P,GAAG,CAACuQ,wBAAwB,CAAC0B,gBAAgB,EAAErB,YAAY,CAACI,OAAO,CAAC;IAClH;;IAEA;IACA,IAAIX,QAAQ,GAAGX,QAAQ,CAACwC,QAAQ;IAChC,IAAI7B,QAAQ,EAAE;MACV,IAAI,CAACja,KAAK,CAACia,QAAQ,CAACzZ,eAAe,CAAC,EAAEmZ,OAAO,CAAC/P,GAAG,CAACuQ,wBAAwB,CAAC4B,wBAAwB,EAAE9B,QAAQ,CAACzZ,eAAe,CAAC;MAC9H,IAAI,CAACR,KAAK,CAACia,QAAQ,CAACvZ,gBAAgB,CAAC,EAAEiZ,OAAO,CAAC/P,GAAG,CAACuQ,wBAAwB,CAAC6B,yBAAyB,EAAE/B,QAAQ,CAACvZ,gBAAgB,CAAC;MACjI,IAAI,CAACV,KAAK,CAACia,QAAQ,CAACtZ,aAAa,CAAC,EAAEgZ,OAAO,CAAC/P,GAAG,CAACuQ,wBAAwB,CAAC8B,sBAAsB,EAAEhC,QAAQ,CAACtZ,aAAa,CAAC;MACxH,IAAI,CAACX,KAAK,CAACia,QAAQ,CAACrZ,OAAO,CAAC,EAAE+Y,OAAO,CAAC/P,GAAG,CAACuQ,wBAAwB,CAAC+B,gBAAgB,EAAEjC,QAAQ,CAACrZ,OAAO,CAAC;IAC1G;IAEA,IAAI4Z,YAAY,GAAGlB,QAAQ,CAAC6C,aAAa;IACzC,IAAI3B,YAAY,EAAE;MACd,IAAI,CAACxa,KAAK,CAACwa,YAAY,CAACE,IAAI,CAAC,EAAEf,OAAO,CAAC/P,GAAG,CAACuQ,wBAAwB,CAACiC,aAAa,EAAE5B,YAAY,CAACE,IAAI,CAAC;MACrG,IAAI,CAAC1a,KAAK,CAACwa,YAAY,CAACI,OAAO,CAAC,EAAEjB,OAAO,CAAC/P,GAAG,CAACuQ,wBAAwB,CAACkC,gBAAgB,EAAE7B,YAAY,CAACI,OAAO,CAAC;IAClH;EACJ,CAAC;;EAED;EACA,IAAI,CAAChB,mBAAmB,GAAG,UAAUN,QAAQ,EAAEK,OAAO,EAAE;IACpD,IAAI2C,YAAY,GAAGhD,QAAQ,CAACgD,YAAY;IACxC,IAAIA,YAAY,EAAE;MACd3C,OAAO,CAAC/P,GAAG,CAACuQ,wBAAwB,CAACoC,aAAa,EAAE;QAChDC,OAAO,EAAEF,YAAY,CAACG,OAAO;QAAE;QAC/B/Y,KAAK,EAAE4Y,YAAY,CAACrY,KAAK;QAAE;QAC3BR,GAAG,EAAE6Y,YAAY,CAACtY,GAAG;QAAE;QACvB8C,MAAM,EAAEwV,YAAY,CAAC7L,MAAM,CAAC;MAChC,CAAC,CAAC;IACN;EACJ,CAAC;;EAED;EACA,IAAI,CAACoJ,cAAc,GAAG,UAAUP,QAAQ,EAAEK,OAAO,EAAE;IAC/C,IAAI+C,OAAO,GAAGpD,QAAQ,CAACoD,OAAO;IAC9B,IAAIA,OAAO,EAAE;MACT/C,OAAO,CAAC/P,GAAG,CAACuQ,wBAAwB,CAACwC,eAAe,EAAE;QAAEC,IAAI,EAAEF,OAAO,CAACG;MAAK,CAAC,CAAC;IACjF;EACJ,CAAC;;EAED;EACA,IAAI,CAAC/C,cAAc,GAAG,UAAUR,QAAQ,EAAEK,OAAO,EAAE;IAC/C,IAAImD,OAAO,GAAGxD,QAAQ,CAACwD,OAAO;IAC9B,IAAIA,OAAO,EAAE;MACT;MACAnD,OAAO,CAAC/P,GAAG,CAACuQ,wBAAwB,CAAC4C,OAAO,EAAE;QAAEC,OAAO,EAAEF;MAAQ,CAAC,CAAC;IACvE;EACJ,CAAC;;EAED;EACA,IAAI,CAAC/C,gBAAgB,GAAG,UAAUT,QAAQ,EAAEK,OAAO,EAAE;IACjD,IAAIsD,SAAS,GAAG3D,QAAQ,CAAC2D,SAAS;IAClC,IAAIA,SAAS,EAAE;MACX;MACAtD,OAAO,CAAC/P,GAAG,CAACuQ,wBAAwB,CAAC+C,SAAS,EAAE;QAC5CC,SAAS,EAAEF,SAAS,CAAC,CAAC,CAAC,CAACG,SAAS;QAAE;QACnCC,UAAU,EAAEJ,SAAS,CAAC,CAAC,CAAC,CAACK,UAAU;QAAE;QACrCC,SAAS,EAAEN,SAAS,CAAC,CAAC,CAAC,CAACO,SAAS;QAAE;QACnCC,UAAU,EAAER,SAAS,CAAC,CAAC,CAAC,CAACS,UAAU;QAAE;QACrCC,UAAU,EAAEV,SAAS,CAAC,CAAC,CAAC,CAACW,UAAU,CAAC;MACxC,CAAC,CAAC;IACN;EACJ,CAAC;;EAED;EACA,IAAI,CAAC5D,sBAAsB,GAAG,UAAUV,QAAQ,EAAEK,OAAO,EAAE;IACvD;IACA,IAAIkE,MAAM,GAAGvE,QAAQ,CAACuE,MAAM;IAC5B,IAAIA,MAAM,EAAE;MACR,IAAIC,YAAY,GAAG,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,UAAU,CAAC;MAC7G,IAAIC,aAAa,GAAG,CAAC;QACjBC,QAAQ,GAAG,EAAE;QACbC,UAAU,GAAG,CAAC;QACdC,UAAU,GAAG,EAAE;MACnB;MACAL,MAAM,CAACM,OAAO,CAAC,UAAUC,CAAC,EAAE;QACxB,IAAIC,QAAQ,GAAGP,YAAY,CAACQ,IAAI,CAAC,UAAUC,CAAC,EAAE;UAC1C,OAAOA,CAAC,KAAKH,CAAC,CAACta,IAAI;QACvB,CAAC,CAAC;QACF,IAAIua,QAAQ,EAAE;UACVN,aAAa,EAAE;UACfC,QAAQ,CAAClZ,IAAI,CAACsZ,CAAC,CAAC1N,IAAI,CAAC;QACzB;MACJ,CAAC,CAAC;MACF,IAAI,CAACqN,aAAa,EAAE;QAChBG,UAAU,GAAG,EAAE;MACnB,CAAC,MAAM;QACHD,UAAU,GAAGO,IAAI,CAACC,GAAG,CAACC,KAAK,CAACV,QAAQ,EAAEA,QAAQ,CAAC;QAC/CE,UAAU,GAAGL,MAAM,CAACc,IAAI,CAAC,UAAUP,CAAC,EAAE;UAClC,OAAOA,CAAC,CAAC1N,IAAI,KAAKuN,UAAU;QAChC,CAAC,CAAC,CAACna,IAAI;MACX;MACAsO,OAAO,CAACC,GAAG,CAAC6L,UAAU,EAAEH,aAAa,EAAE,0BAA0B,CAAC;MAClEpE,OAAO,CAAC/P,GAAG,CAACuQ,wBAAwB,CAACyE,gBAAgB,EAAE;QACnDC,mBAAmB,EAAEX,UAAU;QAAE;QACjCY,cAAc,EAAEf,aAAa,CAAC;MAClC,CAAC,CAAC;IACN;EACJ,CAAC;;EAED,IAAI,CAAC9E,SAAS,GAAG,UAAUD,OAAO,EAAEf,SAAS,EAAE,CAAC,CAAC;EAEjD,IAAI,CAAC8G,eAAe,GAAG,UAAUjb,IAAI,EAAE;IACnC,OAAO,IAAIkb,cAAc,CAAClb,IAAI,CAAC;EACnC,CAAC;AACL;;AAEA;AACAiT,OAAO,CAACkI,IAAI,GAAG,YAAY;EACvB,IAAInI,KAAK,GAAG,IAAIC,OAAO,EAAE;EACzB,OAAOD,KAAK;AAChB,CAAC;AAEDC,OAAO,CAACmI,SAAS,GAAG,UAAUC,MAAM,EAAEC,WAAW,EAAE;EAC/C,IAAID,MAAM,EAAErhB,iBAAiB,CAACF,MAAM,GAAGuhB,MAAM;EAC7C,IAAIC,WAAW,EAAEthB,iBAAiB,CAACD,WAAW,GAAGuhB,WAAW;AAChE,CAAC;;AAED;AACArI,OAAO,CAACsI,cAAc,GAAG,UAAUC,QAAQ,EAAE;EACzC,OAAO,IAAIC,WAAW,CAACD,QAAQ,CAAC;AACpC,CAAC;;AAED;AACAvI,OAAO,CAACyI,YAAY,GAAG,UAAUxa,MAAM,EAAE;EACrC,OAAO,IAAIya,SAAS,CAACza,MAAM,CAAC;AAChC,CAAC;;AAED;AACA+R,OAAO,CAAC2I,UAAU,GAAG,UAAU1a,MAAM,EAAE;EACnC,OAAO,IAAI2a,OAAO,CAAC3a,MAAM,CAAC;AAC9B,CAAC;;AAED;AACA+R,OAAO,CAAC6I,cAAc,GAAG,UAAU5a,MAAM,EAAE;EACvC,OAAO,IAAI6a,WAAW,CAAC7a,MAAM,CAAC;AAClC,CAAC;AACD+R,OAAO,CAAC+I,WAAW,GAAG,YAAY;EAC9B,OAAO,IAAIC,QAAQ,EAAE;AACzB,CAAC;;AAED;AACAhJ,OAAO,CAACiJ,cAAc,GAAG,UAAUhb,MAAM,EAAE;EACvC,OAAO,IAAIib,WAAW,CAACjb,MAAM,CAAC;AAClC,CAAC;;AAED;AACA+R,OAAO,CAACmJ,iBAAiB,GAAG,UAAUlb,MAAM,EAAE;EAC1C,OAAO,IAAImb,cAAc,CAACnb,MAAM,CAAC;AACrC,CAAC;AAED+R,OAAO,CAACqJ,oBAAoB,GAAG,UAAUpb,MAAM,EAAE;EAC7C,OAAO,IAAIqb,iBAAiB,CAACrb,MAAM,CAAC;AACxC,CAAC;AAED+R,OAAO,CAACuJ,mBAAmB,GAAG,UAAUtb,MAAM,EAAE;EAC5C,OAAO,IAAIub,gBAAgB,CAACvb,MAAM,CAAC;AACvC,CAAC;;AAED;AACA+R,OAAO,CAACyJ,gBAAgB,GAAG,YAAY;EACnC,OAAO,IAAIC,aAAa,EAAE;AAC9B,CAAC;;AAED;AACA1J,OAAO,CAAC2J,eAAe,GAAG,YAAY;EAClC,OAAO,IAAInJ,cAAc,EAAE;AAC/B,CAAC;AAED,IAAIxD,cAAc,GAAG;EACjB4M,SAAS,EAAE,CAAC;EAAE;EACdC,eAAe,EAAE,CAAC;EAAE;EACpBC,SAAS,EAAE,CAAC;EAAE;EACdC,SAAS,EAAE,CAAC;EAAE;EACdC,aAAa,EAAE,CAAC;EAAE;EAClBC,SAAS,EAAE,CAAC;EAAE;EACdC,eAAe,EAAE,CAAC;EAAE;EACpBC,YAAY,EAAE,CAAC;EAAE;EACjBC,iBAAiB,EAAE,CAAC;EAAE;;EAEtBC,eAAe,EAAE,EAAE;EAAE;EACrBC,UAAU,EAAE,EAAE;EAAE;EAChBC,iBAAiB,EAAE,EAAE;EAAE;EACvBC,eAAe,EAAE,EAAE;EAAE;EACrBC,YAAY,EAAE,EAAE;EAAE;EAClBC,UAAU,EAAE,EAAE;EAAE;EAChBC,YAAY,EAAE,EAAE;EAAE;;EAGlB;EACA1N,qBAAqB,EAAE,EAAE;EACzBC,sBAAsB,EAAE,EAAE;EAC1BC,sBAAsB,EAAE,EAAE;EAC1BC,uBAAuB,EAAE,EAAE;EAE3B;EACAE,YAAY,EAAE,EAAE;EAChBC,aAAa,EAAE,EAAE;EACjBC,aAAa,EAAE,EAAE;EACjBC,cAAc,EAAE,EAAE;EAElBmN,aAAa,EAAE,GAAG;EAAE;EACpBC,UAAU,EAAE,GAAG;EAAE;EACjBC,iBAAiB,EAAE,GAAG;EAAE;EACxBC,gBAAgB,EAAE,GAAG;EAAE;EACvBC,oBAAoB,EAAE,GAAG;EAAE;EAC3BC,kBAAkB,EAAE,GAAG,CAAC;AAC5B,CAAC;;AAED,SAASjL,OAAOA,CAAA,EAAG;EACf,IAAI,CAACkL,QAAQ,GAAG,IAAI/kB,KAAK,CAACQ,OAAO,EAAE,CAAC,CAAC;EACrC,IAAI,CAACwkB,cAAc,GAAG,IAAIhlB,KAAK,CAACQ,OAAO,EAAE,CAAC,CAAC;EAC3C,IAAI,CAACykB,cAAc,GAAG,IAAIrjB,KAAK,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;EAEhD,IAAI,CAACsjB,cAAc,GAAGtkB,iBAAiB,CAACF,MAAM,GAAG,YAAY;EAC7D,IAAI,CAACykB,mBAAmB,GAAGvkB,iBAAiB,CAACF,MAAM,GAAG,yBAAyB,CAAC,CAAC;;EAEjF,IAAI,CAAC0kB,YAAY,GAAG,IAAI;EACxB,IAAI,CAACC,gBAAgB,GAAG,KAAK,CAAC,CAAC;EAC/B,IAAI,CAACC,OAAO;EAEZ,IAAI,CAACC,aAAa,CAAC,CAAC;;EAEpB,IAAI,CAACC,YAAY,GAAG,UAAU9jB,KAAK,EAAE0gB,QAAQ,EAAE;IAC3C,IAAIqD,0BAA0B,GAAG,IAAI;IACrC,IAAIC,kBAAkB,GAAG,KAAK;IAC9B,IAAIC,eAAe,GAAGvT,SAAS;IAE/B,IAAI;MACA,KAAK,IAAIwT,UAAU,GAAG,CAAC,CAAC,EAAE9lB,aAAa,CAACU,OAAO,EAAE,IAAI,CAACukB,QAAQ,CAAC,EAAEc,MAAM,EAAE,EAAEJ,0BAA0B,GAAG,CAACI,MAAM,GAAGD,UAAU,CAACrT,IAAI,EAAE,EAAEC,IAAI,CAAC,EAAEiT,0BAA0B,GAAG,IAAI,EAAE;QAC3K,IAAI9d,IAAI,GAAGke,MAAM,CAACpmB,KAAK;QAEvBkI,IAAI,CAAC,CAAC,CAAC,CAACgL,WAAW,CAACjR,KAAK,CAAC;MAC9B;IACJ,CAAC,CAAC,OAAO+Q,GAAG,EAAE;MACViT,kBAAkB,GAAG,IAAI;MACzBC,eAAe,GAAGlT,GAAG;IACzB,CAAC,SAAS;MACN,IAAI;QACA,IAAI,CAACgT,0BAA0B,IAAIG,UAAU,CAAClT,MAAM,EAAE;UAClDkT,UAAU,CAAClT,MAAM,EAAE;QACvB;MACJ,CAAC,SAAS;QACN,IAAIgT,kBAAkB,EAAE;UACpB,MAAMC,eAAe;QACzB;MACJ;IACJ;IAEA,IAAI,CAACX,cAAc,CAACtY,GAAG,CAAChL,KAAK,EAAE0gB,QAAQ,CAAC;IAExC,IAAI0D,IAAI,GAAG,IAAInM,SAAS,CAAC,IAAI,EAAEjY,KAAK,CAAC;IACrC,OAAOokB,IAAI;EACf,CAAC;;EAED;EACA,IAAI,CAACC,WAAW,GAAG,UAAUrkB,KAAK,EAAE;IAChC,IAAIskB,0BAA0B,GAAG,IAAI;IACrC,IAAIC,kBAAkB,GAAG,KAAK;IAC9B,IAAIC,eAAe,GAAG9T,SAAS;IAE/B,IAAI;MACA,KAAK,IAAI+T,UAAU,GAAG,CAAC,CAAC,EAAErmB,aAAa,CAACU,OAAO,EAAE,IAAI,CAACukB,QAAQ,CAAC,EAAEqB,MAAM,EAAE,EAAEJ,0BAA0B,GAAG,CAACI,MAAM,GAAGD,UAAU,CAAC5T,IAAI,EAAE,EAAEC,IAAI,CAAC,EAAEwT,0BAA0B,GAAG,IAAI,EAAE;QAC3K,IAAIre,IAAI,GAAGye,MAAM,CAAC3mB,KAAK;QAEvBkI,IAAI,CAAC,CAAC,CAAC,CAACgL,WAAW,CAACjR,KAAK,CAAC;MAC9B;IACJ,CAAC,CAAC,OAAO+Q,GAAG,EAAE;MACVwT,kBAAkB,GAAG,IAAI;MACzBC,eAAe,GAAGzT,GAAG;IACzB,CAAC,SAAS;MACN,IAAI;QACA,IAAI,CAACuT,0BAA0B,IAAIG,UAAU,CAACzT,MAAM,EAAE;UAClDyT,UAAU,CAACzT,MAAM,EAAE;QACvB;MACJ,CAAC,SAAS;QACN,IAAIuT,kBAAkB,EAAE;UACpB,MAAMC,eAAe;QACzB;MACJ;IACJ;EACJ,CAAC;;EAED;EACA,IAAI,CAACG,gBAAgB,GAAG,UAAUve,MAAM,EAAEpG,KAAK,EAAE;IAC7C,IAAI4kB,0BAA0B,GAAG,IAAI;IACrC,IAAIC,kBAAkB,GAAG,KAAK;IAC9B,IAAIC,eAAe,GAAGpU,SAAS;IAE/B,IAAI;MACA,KAAK,IAAIqU,UAAU,GAAG,CAAC,CAAC,EAAE3mB,aAAa,CAACU,OAAO,EAAE,IAAI,CAACukB,QAAQ,CAAC,EAAE2B,MAAM,EAAE,EAAEJ,0BAA0B,GAAG,CAACI,MAAM,GAAGD,UAAU,CAAClU,IAAI,EAAE,EAAEC,IAAI,CAAC,EAAE8T,0BAA0B,GAAG,IAAI,EAAE;QAC3K,IAAI3e,IAAI,GAAG+e,MAAM,CAACjnB,KAAK;QAEvB,IAAIkI,IAAI,CAAC,CAAC,CAAC,KAAKG,MAAM,EAAE;UACpB,IAAIpG,KAAK,EAAEiG,IAAI,CAAC,CAAC,CAAC,CAACgL,WAAW,CAACjR,KAAK,CAAC,CAAC,KAAKiG,IAAI,CAAC,CAAC,CAAC,CAACoK,UAAU,EAAE;UAE/DmD,OAAO,CAACC,GAAG,CAAC,qCAAqC,GAAGrN,MAAM,GAAG,UAAU,GAAGpG,KAAK,CAAC;UAChF;QACJ;MACJ;IACJ,CAAC,CAAC,OAAO+Q,GAAG,EAAE;MACV8T,kBAAkB,GAAG,IAAI;MACzBC,eAAe,GAAG/T,GAAG;IACzB,CAAC,SAAS;MACN,IAAI;QACA,IAAI,CAAC6T,0BAA0B,IAAIG,UAAU,CAAC/T,MAAM,EAAE;UAClD+T,UAAU,CAAC/T,MAAM,EAAE;QACvB;MACJ,CAAC,SAAS;QACN,IAAI6T,kBAAkB,EAAE;UACpB,MAAMC,eAAe;QACzB;MACJ;IACJ;EACJ,CAAC;;EAED;EACA,IAAI,CAAC1M,GAAG,GAAG,UAAUhS,MAAM,EAAEpG,KAAK,EAAE;IAChC,IAAI,CAAC,IAAI,CAACqjB,QAAQ,CAACtY,GAAG,CAAC3E,MAAM,CAAC,EAAE;MAC5B,IAAI,CAACid,QAAQ,CAACrY,GAAG,CAAC5E,MAAM,EAAE,IAAIyB,SAAS,CAACzB,MAAM,CAAC,CAAC;IACpD;IAEA,IAAIjF,IAAI,GAAG,IAAI,CAACkiB,QAAQ,CAACpY,GAAG,CAAC7E,MAAM,CAAC;IACpC,IAAIpG,KAAK,EAAEmB,IAAI,CAACgP,WAAW,CAACnQ,KAAK,CAAC;IAClC,OAAOmB,IAAI;EACf,CAAC;EAED,IAAI,CAAC8jB,WAAW,GAAG,YAAY;IAC3B,IAAI,CAACC,UAAU,EAAE;IAEjB,IAAIjlB,SAAS,GAAG,IAAIC,KAAK,EAAE,CAAC,CAAC;IAC7B,IAAIilB,QAAQ,GAAG,IAAIjlB,KAAK,EAAE,CAAC,CAAC;IAC5B,IAAIklB,OAAO,GAAG,IAAIllB,KAAK,EAAE,CAAC,CAAC;IAC3B,IAAImlB,UAAU,GAAG,IAAInlB,KAAK,EAAE,CAAC,CAAC;IAC9B,IAAIolB,OAAO,GAAG,IAAIplB,KAAK,EAAE,CAAC,CAAC;IAC3B,IAAIqlB,aAAa,GAAG,IAAIrlB,KAAK,EAAE,CAAC,CAAC;IACjC,IAAIslB,UAAU,GAAG,IAAItlB,KAAK,EAAE,CAAC,CAAC;IAC9B,IAAIulB,OAAO,GAAG,EAAE;MACZC,QAAQ,GAAG,EAAE;MACbC,QAAQ,GAAG,EAAE;MACbC,SAAS,GAAG,EAAE;IAClB,IAAIC,MAAM,GAAG,EAAE;MACXC,OAAO,GAAG,EAAE;MACZC,OAAO,GAAG,EAAE;MACZC,QAAQ,GAAG,EAAE;IACjB,IAAIC,QAAQ,GAAG,IAAI/lB,KAAK,EAAE;IAC1B,IAAIgmB,UAAU,GAAG,IAAIhmB,KAAK,EAAE,CAAC,CAAC;IAC9B,IAAIimB,QAAQ,GAAG,IAAIjmB,KAAK,EAAE,CAAC,CAAC;IAC5B,IAAIkmB,UAAU,GAAG,IAAIlmB,KAAK,EAAE;IAE5B,IAAImmB,0BAA0B,GAAG,IAAI;IACrC,IAAIC,kBAAkB,GAAG,KAAK;IAC9B,IAAIC,eAAe,GAAG7V,SAAS;IAE/B,IAAI;MACA,KAAK,IAAI8V,UAAU,GAAG,CAAC,CAAC,EAAEpoB,aAAa,CAACU,OAAO,EAAE,IAAI,CAACukB,QAAQ,CAAC,EAAEoD,MAAM,EAAE,EAAEJ,0BAA0B,GAAG,CAACI,MAAM,GAAGD,UAAU,CAAC3V,IAAI,EAAE,EAAEC,IAAI,CAAC,EAAEuV,0BAA0B,GAAG,IAAI,EAAE;QAC3K,IAAIpgB,IAAI,GAAGwgB,MAAM,CAAC1oB,KAAK;QAEvB,IAAI2oB,SAAS,GAAGzgB,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QACzB,IAAIG,MAAM,GAAGH,IAAI,CAAC,CAAC,CAAC;;QAEpB;QACA,IAAIygB,SAAS,CAACzd,aAAa,CAAC0d,IAAI,GAAG,CAAC,EAAE;UAClC,IAAIrf,aAAa,CAAClB,MAAM,CAAC,EAAE+e,QAAQ,CAACjf,IAAI,CAACE,MAAM,CAAC,CAAC,KAAKnG,SAAS,CAACiG,IAAI,CAACE,MAAM,CAAC;QAChF;QAEA,IAAIsgB,SAAS,CAACtb,YAAY,CAACub,IAAI,GAAG,CAAC,EAAEtB,UAAU,CAACnf,IAAI,CAACE,MAAM,CAAC;QAE5D,IAAIsgB,SAAS,CAACzY,gBAAgB,CAAC0Y,IAAI,GAAG,CAAC,EAAElB,OAAO,CAACvf,IAAI,CAACE,MAAM,CAAC;QAC7D,IAAIsgB,SAAS,CAACvY,iBAAiB,CAACwY,IAAI,GAAG,CAAC,EAAEjB,QAAQ,CAACxf,IAAI,CAACE,MAAM,CAAC;QAC/D,IAAIsgB,SAAS,CAACrY,iBAAiB,CAACsY,IAAI,GAAG,CAAC,EAAEhB,QAAQ,CAACzf,IAAI,CAACE,MAAM,CAAC;QAC/D,IAAIsgB,SAAS,CAACnY,kBAAkB,CAACoY,IAAI,GAAG,CAAC,EAAEf,SAAS,CAAC1f,IAAI,CAACE,MAAM,CAAC;QAEjE,IAAIsgB,SAAS,CAAC7X,KAAK,CAAC8X,IAAI,GAAG,CAAC,EAAEd,MAAM,CAAC3f,IAAI,CAACE,MAAM,CAAC;QACjD,IAAIsgB,SAAS,CAAC5X,MAAM,CAAC6X,IAAI,GAAG,CAAC,EAAEb,OAAO,CAAC5f,IAAI,CAACE,MAAM,CAAC;QACnD,IAAIsgB,SAAS,CAAC3X,MAAM,CAAC4X,IAAI,GAAG,CAAC,EAAEZ,OAAO,CAAC7f,IAAI,CAACE,MAAM,CAAC;QACnD,IAAIsgB,SAAS,CAAC1X,OAAO,CAAC2X,IAAI,GAAG,CAAC,EAAEX,QAAQ,CAAC9f,IAAI,CAACE,MAAM,CAAC;QAErD,IAAIsgB,SAAS,CAAChc,SAAS,CAACic,IAAI,GAAG,CAAC,EAAEvB,OAAO,CAAClf,IAAI,CAACE,MAAM,CAAC;QACtD,IAAIsgB,SAAS,CAACjb,SAAS,CAACkb,IAAI,GAAG,CAAC,EAAErB,OAAO,CAACpf,IAAI,CAACE,MAAM,CAAC;QACtD,IAAIsgB,SAAS,CAACva,eAAe,CAACwa,IAAI,GAAG,CAAC,EAAEpB,aAAa,CAACrf,IAAI,CAACE,MAAM,CAAC;QAClE,IAAIsgB,SAAS,CAACha,YAAY,CAACia,IAAI,GAAG,CAAC,EAAEnB,UAAU,CAACtf,IAAI,CAACE,MAAM,CAAC;QAC5D,IAAIsgB,SAAS,CAACnZ,YAAY,CAACoZ,IAAI,GAAG,CAAC,EAAEP,UAAU,CAAClgB,IAAI,CAACE,MAAM,CAAC;QAE5D,IAAIsgB,SAAS,CAACzX,KAAK,IAAI,IAAI,IAAIyX,SAAS,CAACvX,UAAU,CAACwX,IAAI,GAAG,CAAC,EAAEV,QAAQ,CAAC/f,IAAI,CAACE,MAAM,CAAC;QACnF,IAAIsgB,SAAS,CAACtX,OAAO,IAAI,IAAI,IAAIsX,SAAS,CAACpX,YAAY,CAACqX,IAAI,GAAG,CAAC,EAAET,UAAU,CAAChgB,IAAI,CAACE,MAAM,CAAC;QACzF,IAAIH,IAAI,CAAC,CAAC,CAAC,CAAC4J,KAAK,IAAI,IAAI,IAAI5J,IAAI,CAAC,CAAC,CAAC,CAAC8J,UAAU,CAAC4W,IAAI,GAAG,CAAC,EAAER,QAAQ,CAACjgB,IAAI,CAACD,IAAI,CAAC,CAAC,CAAC,CAAC;MACpF;IACJ,CAAC,CAAC,OAAO8K,GAAG,EAAE;MACVuV,kBAAkB,GAAG,IAAI;MACzBC,eAAe,GAAGxV,GAAG;IACzB,CAAC,SAAS;MACN,IAAI;QACA,IAAI,CAACsV,0BAA0B,IAAIG,UAAU,CAACxV,MAAM,EAAE;UAClDwV,UAAU,CAACxV,MAAM,EAAE;QACvB;MACJ,CAAC,SAAS;QACN,IAAIsV,kBAAkB,EAAE;UACpB,MAAMC,eAAe;QACzB;MACJ;IACJ;IAEA,IAAIlB,UAAU,CAAC3L,MAAM,GAAG,CAAC,EAAE,IAAI,CAACkN,kBAAkB,CAACvB,UAAU,CAAC;IAC9D,IAAIplB,SAAS,CAACyZ,MAAM,GAAG,CAAC,EAAE,IAAI,CAACmN,eAAe,CAAC5mB,SAAS,CAAC;IACzD,IAAIklB,QAAQ,CAACzL,MAAM,GAAG,CAAC,EAAE,IAAI,CAACoN,oBAAoB,CAAC3B,QAAQ,CAAC;IAC5D,IAAIC,OAAO,CAAC1L,MAAM,GAAG,CAAC,EAAE,IAAI,CAACqN,oBAAoB,CAAC3B,OAAO,CAAC;IAC1D,IAAIE,OAAO,CAAC5L,MAAM,GAAG,CAAC,EAAE,IAAI,CAACsN,eAAe,CAAC1B,OAAO,CAAC;IACrD,IAAIC,aAAa,CAAC7L,MAAM,GAAG,CAAC,EAAE,IAAI,CAACuN,qBAAqB,CAAC1B,aAAa,CAAC;IACvE,IAAIC,UAAU,CAAC9L,MAAM,GAAG,CAAC,EAAE,IAAI,CAACwN,kBAAkB,CAAC1B,UAAU,CAAC;IAC9D,IAAIY,UAAU,CAAC1M,MAAM,GAAG,CAAC,EAAE,IAAI,CAACyN,kBAAkB,CAACf,UAAU,CAAC;;IAE9D;IACA,IAAIX,OAAO,CAAC/L,MAAM,GAAG,CAAC,EAAE,IAAI,CAAC0N,sBAAsB,CAAC3B,OAAO,EAAE,SAAS,CAAC;IACvE,IAAIC,QAAQ,CAAChM,MAAM,GAAG,CAAC,EAAE,IAAI,CAAC0N,sBAAsB,CAAC1B,QAAQ,EAAE,UAAU,CAAC;IAC1E,IAAIC,QAAQ,CAACjM,MAAM,GAAG,CAAC,EAAE,IAAI,CAAC0N,sBAAsB,CAACzB,QAAQ,EAAE,UAAU,CAAC;IAC1E,IAAIC,SAAS,CAAClM,MAAM,GAAG,CAAC,EAAE,IAAI,CAAC0N,sBAAsB,CAACxB,SAAS,EAAE,WAAW,CAAC;IAC7E,IAAIC,MAAM,CAACnM,MAAM,GAAG,CAAC,EAAE,IAAI,CAAC0N,sBAAsB,CAACvB,MAAM,EAAE,KAAK,CAAC;IACjE,IAAIC,OAAO,CAACpM,MAAM,GAAG,CAAC,EAAE,IAAI,CAAC0N,sBAAsB,CAACtB,OAAO,EAAE,MAAM,CAAC;IACpE,IAAIC,OAAO,CAACrM,MAAM,GAAG,CAAC,EAAE,IAAI,CAAC0N,sBAAsB,CAACrB,OAAO,EAAE,MAAM,CAAC;IACpE,IAAIC,QAAQ,CAACtM,MAAM,GAAG,CAAC,EAAE,IAAI,CAAC0N,sBAAsB,CAACpB,QAAQ,EAAE,OAAO,CAAC;;IAEvE;IACA,IAAIC,QAAQ,CAACvM,MAAM,GAAG,CAAC,EAAE,IAAI,CAAC2N,gBAAgB,CAACpB,QAAQ,CAAC;;IAExD;IACA,IAAIC,UAAU,CAACxM,MAAM,GAAG,CAAC,EAAE,IAAI,CAAC4N,kBAAkB,CAACpB,UAAU,CAAC;IAC9D,IAAIC,QAAQ,CAACzM,MAAM,GAAG,CAAC,EAAE,IAAI,CAAC6N,gBAAgB,CAACpB,QAAQ,CAAC;IACxD,IAAI,CAACqB,kBAAkB,EAAE,CAAC,CAAC;EAC/B,CAAC;;EAED,IAAI,CAAChP,WAAW,GAAG,IAAI,CAACyM,WAAW,CAAC,CAAC;;EAErC;EACA,IAAI,CAAC4B,eAAe,GAAG,UAAU5mB,SAAS,EAAE;IACxC,IAAIsZ,IAAI,GAAG,IAAI;IACf,IAAIzZ,KAAK,GAAG,CAAC,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,UAAU,EAAE,cAAc,EAAE,WAAW,EAAE,UAAU,CAAC;IAEtK,IAAI,IAAI,CAAC+jB,aAAa,EAAE;MACpB,IAAIjlB,GAAG,GAAG;QACN+F,IAAI,EAAE,0BAA0B;QAAE;QAClC8iB,OAAO,EAAE,QAAQ;QACjBC,EAAE,EAAEvS,cAAc,CAAC4M,SAAS;QAC5B4F,OAAO,EAAE;UAAEC,GAAG,EAAErO,IAAI,CAACiK,cAAc;UAAE1K,IAAI,EAAE;YAAEhZ,KAAK,EAAEA,KAAK;YAAEsG,MAAM,EAAEnG;UAAU,CAAC;UAAE4nB,IAAI,EAAE;QAAO,CAAC;QAC9FC,IAAI,EAAE,IAAI;QACVC,cAAc,EAAE;MACpB,CAAC;MACD,IAAI,CAAClE,aAAa,CAACjlB,GAAG,EAAE,UAAUuC,IAAI,EAAE;QACpCoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEgU,cAAc,CAAC4M,SAAS,CAAC;MACjD,CAAC,CAAC;MAEF,IAAInjB,GAAG,CAACmpB,cAAc,IAAI,IAAI,EAAE,OAAO,CAAC;IAC5C;;IAEAppB,QAAQ,CAACG,OAAO,CAAC8a,IAAI,CAAC;MAClBC,GAAG,EAAE,IAAI,CAAC2J,cAAc;MACxBriB,IAAI,EAAE;QACF,OAAO,EAAErB,KAAK;QAAE,QAAQ,EAAEG;MAC9B,CAAC;MACD+nB,IAAI,EAAE,MAAM;MACZjO,QAAQ,EAAE,MAAM;MAChBkO,KAAK,EAAE,IAAI;MACXjO,OAAO,EAAE,SAASA,OAAOA,CAAC7Y,IAAI,EAAE;QAC5BoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEgU,cAAc,CAAC4M,SAAS,CAAC;MACjD,CAAC;MACDmG,KAAK,EAAE,SAASA,KAAKA,CAAC9N,OAAO,EAAE;QAC3Bb,IAAI,CAACc,SAAS,CAACD,OAAO,EAAEjF,cAAc,CAAC4M,SAAS,CAAC;MACrD;IACJ,CAAC,CAAC;EACN,CAAC;;EAED;EACA,IAAI,CAACkF,qBAAqB,GAAG,UAAUhnB,SAAS,EAAE;IAC9C,IAAIsZ,IAAI,GAAG,IAAI;IACf,IAAIzZ,KAAK,GAAG,CAAC,MAAM,EAAE,QAAQ,EAAE,aAAa,EAAE,iBAAiB,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,UAAU,EAAE,YAAY,CAAC;IACpH,IAAI,IAAI,CAAC+jB,aAAa,EAAE;MACpB,IAAIjlB,GAAG,GAAG;QACN+F,IAAI,EAAE,gCAAgC;QAAE;QACxC8iB,OAAO,EAAE,QAAQ;QACjBC,EAAE,EAAEvS,cAAc,CAACkN,eAAe;QAClCsF,OAAO,EAAE;UAAEC,GAAG,EAAErO,IAAI,CAACiK,cAAc;UAAE1K,IAAI,EAAE;YAAEhZ,KAAK,EAAEA,KAAK;YAAEsG,MAAM,EAAEnG;UAAU,CAAC;UAAE4nB,IAAI,EAAE;QAAO,CAAC;QAC9FC,IAAI,EAAE,IAAI;QACVC,cAAc,EAAE;MACpB,CAAC;MACD,IAAI,CAAClE,aAAa,CAACjlB,GAAG,EAAE,UAAUuC,IAAI,EAAE;QACpCoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEgU,cAAc,CAACkN,eAAe,CAAC;MACvD,CAAC,CAAC;MAEF,IAAIzjB,GAAG,CAACmpB,cAAc,IAAI,IAAI,EAAE,OAAO,CAAC;IAC5C;;IAEAppB,QAAQ,CAACG,OAAO,CAAC8a,IAAI,CAAC;MAClBC,GAAG,EAAE,IAAI,CAAC2J,cAAc;MACxBriB,IAAI,EAAE;QACF,OAAO,EAAErB,KAAK;QAAE,QAAQ,EAAEG;MAC9B,CAAC;MACD+nB,IAAI,EAAE,MAAM;MACZjO,QAAQ,EAAE,MAAM;MAChBkO,KAAK,EAAE,IAAI;MACXjO,OAAO,EAAE,SAASA,OAAOA,CAAC7Y,IAAI,EAAE;QAC5BoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEgU,cAAc,CAACkN,eAAe,CAAC;MACvD,CAAC;MACD6F,KAAK,EAAE,SAASA,KAAKA,CAAC9N,OAAO,EAAE;QAC3Bb,IAAI,CAACc,SAAS,CAACD,OAAO,EAAEjF,cAAc,CAACkN,eAAe,CAAC;MAC3D;IACJ,CAAC,CAAC;EACN,CAAC;;EAED;EACA,IAAI,CAAC6E,kBAAkB,GAAG,UAAUjnB,SAAS,EAAE;IAC3C,IAAIsZ,IAAI,GAAG,IAAI;IACf,IAAIzZ,KAAK,GAAG,CAAC,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,SAAS,CAAC;IAEhD,IAAI,IAAI,CAAC+jB,aAAa,EAAE;MACpB,IAAIjlB,GAAG,GAAG;QACN+F,IAAI,EAAE,6BAA6B;QAAE;QACrC8iB,OAAO,EAAE,MAAM;QACfC,EAAE,EAAEvS,cAAc,CAACmN,YAAY;QAC/BqF,OAAO,EAAE;UAAEC,GAAG,EAAErO,IAAI,CAACiK,cAAc;UAAE1K,IAAI,EAAE;YAAEhZ,KAAK,EAAEA,KAAK;YAAEsG,MAAM,EAAEnG;UAAU,CAAC;UAAE4nB,IAAI,EAAE;QAAO,CAAC;QAC9FC,IAAI,EAAE,IAAI;QACVC,cAAc,EAAE;MACpB,CAAC;MACD,IAAI,CAAClE,aAAa,CAACjlB,GAAG,EAAE,UAAUuC,IAAI,EAAE;QACpCoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEgU,cAAc,CAACmN,YAAY,CAAC;MACpD,CAAC,CAAC;MAEF,IAAI1jB,GAAG,CAACmpB,cAAc,IAAI,IAAI,EAAE,OAAO,CAAC;IAC5C;;IAEAppB,QAAQ,CAACG,OAAO,CAAC8a,IAAI,CAAC;MAClBC,GAAG,EAAE,IAAI,CAAC2J,cAAc;MACxBriB,IAAI,EAAE;QACF,OAAO,EAAErB,KAAK;QAAE,QAAQ,EAAEG;MAC9B,CAAC;MACD+nB,IAAI,EAAE,MAAM;MACZjO,QAAQ,EAAE,MAAM;MAChBkO,KAAK,EAAE,IAAI;MACXjO,OAAO,EAAE,SAASA,OAAOA,CAAC7Y,IAAI,EAAE;QAC5BoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEgU,cAAc,CAACmN,YAAY,CAAC;MACpD,CAAC;MACD4F,KAAK,EAAE,SAASA,KAAKA,CAAC9N,OAAO,EAAE;QAC3Bb,IAAI,CAACc,SAAS,CAACD,OAAO,EAAEjF,cAAc,CAACmN,YAAY,CAAC;MACxD;IACJ,CAAC,CAAC;EACN,CAAC;;EAED;EACA,IAAI,CAAC6E,kBAAkB,GAAG,UAAUlnB,SAAS,EAAE;IAC3C,IAAIsZ,IAAI,GAAG,IAAI;IACf,IAAIzZ,KAAK,GAAG,CAAC,MAAM,EAAE,QAAQ,EAAE,SAAS,CAAC;IAEzC,IAAI,IAAI,CAAC+jB,aAAa,EAAE;MACpB,IAAIjlB,GAAG,GAAG;QACN+F,IAAI,EAAE,6BAA6B;QAAE;QACrC8iB,OAAO,EAAE,MAAM;QACfC,EAAE,EAAEvS,cAAc,CAAC2N,YAAY;QAC/B6E,OAAO,EAAE;UAAEC,GAAG,EAAErO,IAAI,CAACiK,cAAc;UAAE1K,IAAI,EAAE;YAAEhZ,KAAK,EAAEA,KAAK;YAAEsG,MAAM,EAAEnG;UAAU,CAAC;UAAE4nB,IAAI,EAAE;QAAO,CAAC;QAC9FC,IAAI,EAAE,IAAI;QACVC,cAAc,EAAE;MACpB,CAAC;MACD,IAAI,CAAClE,aAAa,CAACjlB,GAAG,EAAE,UAAUuC,IAAI,EAAE;QACpCoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEgU,cAAc,CAAC2N,YAAY,CAAC;MACpD,CAAC,CAAC;MAEF,IAAIlkB,GAAG,CAACmpB,cAAc,IAAI,IAAI,EAAE,OAAO,CAAC;IAC5C;;IAEAppB,QAAQ,CAACG,OAAO,CAAC8a,IAAI,CAAC;MAClBC,GAAG,EAAE,IAAI,CAAC2J,cAAc;MACxBriB,IAAI,EAAE;QACF,OAAO,EAAErB,KAAK;QAAE,QAAQ,EAAEG;MAC9B,CAAC;MACD+nB,IAAI,EAAE,MAAM;MACZjO,QAAQ,EAAE,MAAM;MAChBkO,KAAK,EAAE,IAAI;MACXjO,OAAO,EAAE,SAASA,OAAOA,CAAC7Y,IAAI,EAAE;QAC5BoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEgU,cAAc,CAAC2N,YAAY,CAAC;MACpD,CAAC;MACDoF,KAAK,EAAE,SAASA,KAAKA,CAAC9N,OAAO,EAAE;QAC3Bb,IAAI,CAACc,SAAS,CAACD,OAAO,EAAEjF,cAAc,CAAC2N,YAAY,CAAC;MACxD;IACJ,CAAC,CAAC;EACN,CAAC;;EAED;EACA,IAAI,CAAC8D,kBAAkB,GAAG,UAAU3mB,SAAS,EAAE;IAC3C,IAAIsZ,IAAI,GAAG,IAAI;IACf,IAAIzZ,KAAK,GAAG,CAAC,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE,MAAM,EAAE,cAAc,EAAE,WAAW,CAAC;IACzK,IAAI,IAAI,CAAC+jB,aAAa,EAAE;MACpB,IAAIjlB,GAAG,GAAG;QACN+F,IAAI,EAAE,6BAA6B;QAAE;QACrC8iB,OAAO,EAAE,OAAO;QAChBC,EAAE,EAAEvS,cAAc,CAACgN,aAAa;QAChCwF,OAAO,EAAE;UAAEC,GAAG,EAAErO,IAAI,CAACiK,cAAc;UAAE1K,IAAI,EAAE;YAAEhZ,KAAK,EAAEA,KAAK;YAAEsG,MAAM,EAAEnG;UAAU,CAAC;UAAE4nB,IAAI,EAAE;QAAO,CAAC;QAC9FC,IAAI,EAAE,IAAI;QACVC,cAAc,EAAE;MACpB,CAAC;MACD,IAAI,CAAClE,aAAa,CAACjlB,GAAG,EAAE,UAAUuC,IAAI,EAAE;QACpCoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEgU,cAAc,CAACgN,aAAa,CAAC;MACrD,CAAC,CAAC;MAEF,IAAIvjB,GAAG,CAACmpB,cAAc,IAAI,IAAI,EAAE,OAAO,CAAC;IAC5C;;IAEAppB,QAAQ,CAACG,OAAO,CAAC8a,IAAI,CAAC;MAClBC,GAAG,EAAE,IAAI,CAAC2J,cAAc;MACxBriB,IAAI,EAAE;QACF,OAAO,EAAErB,KAAK;QAAE,QAAQ,EAAEG;MAC9B,CAAC;MACD+nB,IAAI,EAAE,MAAM;MACZjO,QAAQ,EAAE,MAAM;MAChBkO,KAAK,EAAE,IAAI;MACXjO,OAAO,EAAE,SAASA,OAAOA,CAAC7Y,IAAI,EAAE;QAC5BoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEgU,cAAc,CAACgN,aAAa,CAAC;MACrD,CAAC;MACD+F,KAAK,EAAE,SAASA,KAAKA,CAAC9N,OAAO,EAAE;QAC3Bb,IAAI,CAACc,SAAS,CAACD,OAAO,EAAEjF,cAAc,CAACgN,aAAa,CAAC;MACzD;IACJ,CAAC,CAAC;EACN,CAAC;;EAED;EACA,IAAI,CAAC6E,eAAe,GAAG,UAAU/mB,SAAS,EAAE;IACxC,IAAIsZ,IAAI,GAAG,IAAI;IACf,IAAIzZ,KAAK,GAAG,CAAC,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,CAAC;IAE3G,IAAI,IAAI,CAAC+jB,aAAa,EAAE;MACpB,IAAIjlB,GAAG,GAAG;QACN+F,IAAI,EAAE,0BAA0B;QAAE;QAClC8iB,OAAO,EAAE,MAAM;QACfC,EAAE,EAAEvS,cAAc,CAACiN,SAAS;QAC5BuF,OAAO,EAAE;UAAEC,GAAG,EAAErO,IAAI,CAACiK,cAAc;UAAE1K,IAAI,EAAE;YAAEhZ,KAAK,EAAEA,KAAK;YAAEsG,MAAM,EAAEnG;UAAU,CAAC;UAAE4nB,IAAI,EAAE;QAAO,CAAC;QAC9FC,IAAI,EAAE,IAAI;QACVC,cAAc,EAAE;MACpB,CAAC;MACD,IAAI,CAAClE,aAAa,CAACjlB,GAAG,EAAE,UAAUuC,IAAI,EAAE;QACpCoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEgU,cAAc,CAACiN,SAAS,CAAC;MACjD,CAAC,CAAC;MAEF,IAAIxjB,GAAG,CAACmpB,cAAc,IAAI,IAAI,EAAE,OAAO,CAAC;IAC5C;;IAEAppB,QAAQ,CAACG,OAAO,CAAC8a,IAAI,CAAC;MAClBC,GAAG,EAAE,IAAI,CAAC2J,cAAc;MACxBriB,IAAI,EAAE;QACF,OAAO,EAAErB,KAAK;QAAE,QAAQ,EAAEG;MAC9B,CAAC;MACD+nB,IAAI,EAAE,MAAM;MACZjO,QAAQ,EAAE,MAAM;MAChBkO,KAAK,EAAE,IAAI;MACXjO,OAAO,EAAE,SAASA,OAAOA,CAAC7Y,IAAI,EAAE;QAC5BoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEgU,cAAc,CAACiN,SAAS,CAAC;MACjD,CAAC;MACD8F,KAAK,EAAE,SAASA,KAAKA,CAAC9N,OAAO,EAAE;QAC3Bb,IAAI,CAACc,SAAS,CAACD,OAAO,EAAEjF,cAAc,CAACiN,SAAS,CAAC;MACrD;IACJ,CAAC,CAAC;EACN,CAAC;;EAED;EACA,IAAI,CAAC0E,oBAAoB,GAAG,UAAU7mB,SAAS,EAAE;IAC7C,IAAIsZ,IAAI,GAAG,IAAI;IACf,IAAIzZ,KAAK,GAAG,CAAC,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,UAAU,EAAE,UAAU,CAAC;IACzI,IAAI,IAAI,CAAC+jB,aAAa,EAAE;MACpB,IAAIjlB,GAAG,GAAG;QACN+F,IAAI,EAAE,+BAA+B;QAAE;QACvC8iB,OAAO,EAAE,kBAAkB;QAC3BC,EAAE,EAAEvS,cAAc,CAAC6M,eAAe;QAClC2F,OAAO,EAAE;UAAEC,GAAG,EAAErO,IAAI,CAACiK,cAAc;UAAE1K,IAAI,EAAE;YAAEhZ,KAAK,EAAEA,KAAK;YAAEsG,MAAM,EAAEnG;UAAU,CAAC;UAAE4nB,IAAI,EAAE;QAAO,CAAC;QAC9FC,IAAI,EAAE,IAAI;QACVC,cAAc,EAAE;MACpB,CAAC;MACD,IAAI,CAAClE,aAAa,CAACjlB,GAAG,EAAE,UAAUuC,IAAI,EAAE;QACpCoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEgU,cAAc,CAAC6M,eAAe,CAAC;MACvD,CAAC,CAAC;MAEF,IAAIpjB,GAAG,CAACmpB,cAAc,IAAI,IAAI,EAAE,OAAO,CAAC;IAC5C;;IAEAppB,QAAQ,CAACG,OAAO,CAAC8a,IAAI,CAAC;MAClBC,GAAG,EAAE,IAAI,CAAC2J,cAAc;MACxBriB,IAAI,EAAE;QACF,OAAO,EAAErB,KAAK;QAAE,QAAQ,EAAEG;MAC9B,CAAC;MACD+nB,IAAI,EAAE,MAAM;MACZjO,QAAQ,EAAE,MAAM;MAChBkO,KAAK,EAAE,IAAI;MACXjO,OAAO,EAAE,SAASA,OAAOA,CAAC7Y,IAAI,EAAE;QAC5BqS,OAAO,CAACC,GAAG,CAACtS,IAAI,CAAC;QACjBoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEgU,cAAc,CAAC6M,eAAe,CAAC;MACvD,CAAC;MACDkG,KAAK,EAAE,SAASA,KAAKA,CAAC9N,OAAO,EAAE;QAC3Bb,IAAI,CAACc,SAAS,CAACD,OAAO,EAAEjF,cAAc,CAAC6M,eAAe,CAAC;MAC3D;IACJ,CAAC,CAAC;EACN,CAAC;;EAED;EACA,IAAI,CAAC+E,oBAAoB,GAAG,UAAU9mB,SAAS,EAAE;IAC7C,IAAIsZ,IAAI,GAAG,IAAI;IAEf5a,QAAQ,CAACG,OAAO,CAAC8a,IAAI,CAAC;MAClBC,GAAG,EAAE,IAAI,CAAC4J,mBAAmB;MAC7BtiB,IAAI,EAAE;QACF,OAAO,EAAElB;MACb,CAAC;MACD+nB,IAAI,EAAE,MAAM;MACZjO,QAAQ,EAAE,MAAM;MAChBkO,KAAK,EAAE,IAAI;MACXjO,OAAO,EAAE,SAASA,OAAOA,CAAC7Y,IAAI,EAAE;QAC5BoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEgU,cAAc,CAAC8M,SAAS,CAAC;MACjD,CAAC;MACDiG,KAAK,EAAE,SAASA,KAAKA,CAAC9N,OAAO,EAAE;QAC3Bb,IAAI,CAACc,SAAS,CAACD,OAAO,EAAEjF,cAAc,CAAC8M,SAAS,CAAC;MACrD;IACJ,CAAC,CAAC;EACN,CAAC;;EAED;EACA,IAAI,CAACuF,kBAAkB,GAAG,YAAY;IAClC,IAAIW,OAAO,GAAG,IAAIjoB,KAAK,EAAE;IACzB,IAAIkoB,0BAA0B,GAAG,IAAI;IACrC,IAAIC,kBAAkB,GAAG,KAAK;IAC9B,IAAIC,eAAe,GAAG5X,SAAS;IAE/B,IAAI;MACA,KAAK,IAAI6X,UAAU,GAAG,CAAC,CAAC,EAAEnqB,aAAa,CAACU,OAAO,EAAE,IAAI,CAACukB,QAAQ,CAAC,EAAEmF,MAAM,EAAE,EAAEJ,0BAA0B,GAAG,CAACI,MAAM,GAAGD,UAAU,CAAC1X,IAAI,EAAE,EAAEC,IAAI,CAAC,EAAEsX,0BAA0B,GAAG,IAAI,EAAE;QAC3K,IAAIniB,IAAI,GAAGuiB,MAAM,CAACzqB,KAAK;QAEvB,IAAI,CAACuJ,aAAa,CAACrB,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE;QAC7B,IAAIA,IAAI,CAAC,CAAC,CAAC,CAAC0E,IAAI,IAAI,IAAI,IAAI1E,IAAI,CAAC,CAAC,CAAC,CAAC0E,IAAI,CAACgc,IAAI,IAAI,CAAC,EAAE;QAEpD,IAAI8B,0BAA0B,GAAG,IAAI;QACrC,IAAIC,kBAAkB,GAAG,KAAK;QAC9B,IAAIC,eAAe,GAAGjY,SAAS;QAE/B,IAAI;UACA,KAAK,IAAIkY,UAAU,GAAG,CAAC,CAAC,EAAExqB,aAAa,CAACU,OAAO,EAAEmH,IAAI,CAAC,CAAC,CAAC,CAAC0E,IAAI,CAAC,EAAEke,MAAM,EAAE,EAAEJ,0BAA0B,GAAG,CAACI,MAAM,GAAGD,UAAU,CAAC/X,IAAI,EAAE,EAAEC,IAAI,CAAC,EAAE2X,0BAA0B,GAAG,IAAI,EAAE;YAC1K,IAAIK,QAAQ,GAAGD,MAAM,CAAC9qB,KAAK;YAE3B,IAAIgrB,QAAQ,GAAGD,QAAQ,CAAC,CAAC,CAAC;YAC1B,IAAI3nB,IAAI,GAAG;cAAE,OAAO,EAAE8E,IAAI,CAAC,CAAC,CAAC;cAAE,WAAW,EAAE8iB,QAAQ,CAAC5oB,SAAS;cAAE,OAAO,EAAE4oB,QAAQ,CAAC3oB,KAAK;cAAE,OAAO,EAAE2oB,QAAQ,CAAC1oB;YAAM,CAAC;YAClH8nB,OAAO,CAACjiB,IAAI,CAAC/E,IAAI,CAAC;UACtB;QACJ,CAAC,CAAC,OAAO4P,GAAG,EAAE;UACV2X,kBAAkB,GAAG,IAAI;UACzBC,eAAe,GAAG5X,GAAG;QACzB,CAAC,SAAS;UACN,IAAI;YACA,IAAI,CAAC0X,0BAA0B,IAAIG,UAAU,CAAC5X,MAAM,EAAE;cAClD4X,UAAU,CAAC5X,MAAM,EAAE;YACvB;UACJ,CAAC,SAAS;YACN,IAAI0X,kBAAkB,EAAE;cACpB,MAAMC,eAAe;YACzB;UACJ;QACJ;MACJ;IACJ,CAAC,CAAC,OAAO5X,GAAG,EAAE;MACVsX,kBAAkB,GAAG,IAAI;MACzBC,eAAe,GAAGvX,GAAG;IACzB,CAAC,SAAS;MACN,IAAI;QACA,IAAI,CAACqX,0BAA0B,IAAIG,UAAU,CAACvX,MAAM,EAAE;UAClDuX,UAAU,CAACvX,MAAM,EAAE;QACvB;MACJ,CAAC,SAAS;QACN,IAAIqX,kBAAkB,EAAE;UACpB,MAAMC,eAAe;QACzB;MACJ;IACJ;IAEA,KAAK,IAAItiB,CAAC,IAAImiB,OAAO,EAAE;MACnB,IAAIW,QAAQ,GAAGX,OAAO,CAACniB,CAAC,CAAC;MACzB,IAAI,CAACgjB,eAAe,CAACF,QAAQ,CAAC;IAClC;EACJ,CAAC;EAED,IAAI,CAACE,eAAe,GAAG,UAAUF,QAAQ,EAAE;IACvC,IAAIvP,IAAI,GAAG,IAAI;IACf,IAAIwP,QAAQ,GAAGD,QAAQ;IACvB,IAAIG,SAAS,GAAG,EAAE;;IAElB;IACA,QAAQF,QAAQ,CAAC5oB,SAAS;MACtB,KAAKgJ,gBAAgB,CAACY,QAAQ;QAC1Bkf,SAAS,GAAG,UAAU;QACtB;MACJ,KAAK9f,gBAAgB,CAACI,KAAK;QACvB0f,SAAS,GAAG,OAAO;QACnB;MACJ;QACI;IAAO;IAGf,IAAInpB,KAAK,GAAG,CAAC,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,UAAU,EAAE,cAAc,CAAC;IAE7I,IAAI,IAAI,CAAC+jB,aAAa,EAAE;MACpB,IAAIjlB,GAAG,GAAG;QACN+F,IAAI,EAAE,0BAA0B;QAAE;QAClC8iB,OAAO,EAAE,QAAQ;QACjBC,EAAE,EAAEvS,cAAc,CAAC+M,SAAS;QAC5ByF,OAAO,EAAE;UAAEC,GAAG,EAAErO,IAAI,CAACiK,cAAc;UAC/B1K,IAAI,EAAE;YAAEhZ,KAAK,EAAEA,KAAK;YAAEopB,KAAK,EAAE,CAACJ,QAAQ,CAACjZ,KAAK,CAAC;YAAEsZ,UAAU,EAAEF,SAAS;YAAElpB,KAAK,EAAE+oB,QAAQ,CAAC1oB,KAAK;YAAEgpB,SAAS,EAAE,CAAC;YAAEC,UAAU,EAAE;UAAE,CAAC;UAC1HxB,IAAI,EAAE;QAAO,CAAC;QAClBC,IAAI,EAAE,IAAI;QACVC,cAAc,EAAE;MACpB,CAAC;MACD,IAAI,CAAClE,aAAa,CAACjlB,GAAG,EAAE,UAAUuC,IAAI,EAAE;QACpCoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEgU,cAAc,CAAC+M,SAAS,EAAE6G,QAAQ,CAAC;MAC3D,CAAC,CAAC;MAEF,IAAInqB,GAAG,CAACmpB,cAAc,IAAI,IAAI,EAAE,OAAO,CAAC;IAC5C;;IAEAppB,QAAQ,CAACG,OAAO,CAAC8a,IAAI,CAAC;MAClBC,GAAG,EAAE,IAAI,CAAC2J,cAAc;MACxBriB,IAAI,EAAE;QACF,OAAO,EAAErB,KAAK;QACd,OAAO,EAAE,CAACgpB,QAAQ,CAACjZ,KAAK,CAAC;QACzB,YAAY,EAAEoZ,SAAS;QACvB,OAAO,EAAEH,QAAQ,CAAC1oB,KAAK;QACvB,WAAW,EAAE,CAAC;QAAE;QAChB,YAAY,EAAE,CAAC,CAAC;MACpB,CAAC;;MACD4nB,IAAI,EAAE,MAAM;MACZjO,QAAQ,EAAE,MAAM;MAChBkO,KAAK,EAAE,IAAI;MACXjO,OAAO,EAAE,SAASA,OAAOA,CAAC7Y,IAAI,EAAE;QAC5BoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEgU,cAAc,CAAC+M,SAAS,EAAE6G,QAAQ,CAAC;MAC3D,CAAC;MACDb,KAAK,EAAE,SAASA,KAAKA,CAAC9N,OAAO,EAAE;QAC3Bb,IAAI,CAACc,SAAS,CAACD,OAAO,EAAEjF,cAAc,CAAC+M,SAAS,EAAE6G,QAAQ,CAAC;MAC/D;IACJ,CAAC,CAAC;EACN,CAAC;;EAED;EACA,IAAI,CAAC3B,sBAAsB,GAAG,UAAUnnB,SAAS,EAAEmQ,EAAE,EAAE;IACnD,IAAImJ,IAAI,GAAG,IAAI;IACf,IAAI+P,MAAM,GAAG,IAAIhrB,KAAK,CAACQ,OAAO,CAAC,CAAC,CAAC,SAAS,EAAE;MAAE+Z,KAAK,EAAE,SAAS;MAAE0Q,MAAM,EAAEpU,cAAc,CAACC;IAAsB,CAAC,CAAC,EAAE,CAAC,UAAU,EAAE;MAAEyD,KAAK,EAAE,UAAU;MAAE0Q,MAAM,EAAEpU,cAAc,CAACE;IAAuB,CAAC,CAAC,EAAE,CAAC,UAAU,EAAE;MAAEwD,KAAK,EAAE,UAAU;MAAE0Q,MAAM,EAAEpU,cAAc,CAACG;IAAuB,CAAC,CAAC,EAAE,CAAC,WAAW,EAAE;MAAEuD,KAAK,EAAE,WAAW;MAAE0Q,MAAM,EAAEpU,cAAc,CAACI;IAAwB,CAAC,CAAC,EAAE,CAAC,KAAK,EAAE;MAAEsD,KAAK,EAAE,KAAK;MAAE0Q,MAAM,EAAEpU,cAAc,CAACM;IAAa,CAAC,CAAC,EAAE,CAAC,MAAM,EAAE;MAAEoD,KAAK,EAAE,MAAM;MAAE0Q,MAAM,EAAEpU,cAAc,CAACO;IAAc,CAAC,CAAC,EAAE,CAAC,MAAM,EAAE;MAAEmD,KAAK,EAAE,MAAM;MAAE0Q,MAAM,EAAEpU,cAAc,CAACQ;IAAc,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE;MAAEkD,KAAK,EAAE,OAAO;MAAE0Q,MAAM,EAAEpU,cAAc,CAACS;IAAe,CAAC,CAAC,CAAC,CAAC;IAE5nB,IAAI,CAAC0T,MAAM,CAACve,GAAG,CAACqF,EAAE,CAAC,EAAE;IACrB,IAAIrS,KAAK,GAAGurB,MAAM,CAACre,GAAG,CAACmF,EAAE,CAAC;IAE1B,IAAI,IAAI,CAACyT,aAAa,EAAE;MACpB,IAAIjlB,GAAG,GAAG;QACN+F,IAAI,EAAE,iCAAiC;QAAE;QACzC8iB,OAAO,EAAE,OAAO;QAChBC,EAAE,EAAE3pB,KAAK,CAACwrB,MAAM;QAChB5B,OAAO,EAAE;UAAEC,GAAG,EAAErO,IAAI,CAACiK,cAAc;UAAE1K,IAAI,EAAE;YAAEhZ,KAAK,EAAE,CAAC,QAAQ,EAAE/B,KAAK,CAAC8a,KAAK,CAAC;YAAEzS,MAAM,EAAEnG,SAAS;YAAEsa,KAAK,EAAE,CAAC;YAAEC,GAAG,EAAE;UAAG,CAAC;UAAEqN,IAAI,EAAE;QAAO,CAAC;QACnIC,IAAI,EAAE,IAAI;QACVC,cAAc,EAAE;MACpB,CAAC;MACD,IAAI,CAAClE,aAAa,CAACjlB,GAAG,EAAE,UAAUuC,IAAI,EAAE;QACpCoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEpD,KAAK,CAACwrB,MAAM,CAAC;MACrC,CAAC,CAAC;MAEF,IAAI3qB,GAAG,CAACmpB,cAAc,IAAI,IAAI,EAAE,OAAO,CAAC;IAC5C;;IAEAppB,QAAQ,CAACG,OAAO,CAAC8a,IAAI,CAAC;MAClBC,GAAG,EAAE,IAAI,CAAC2J,cAAc;MACxBriB,IAAI,EAAE;QACF,OAAO,EAAE,CAAC,QAAQ,EAAEpD,KAAK,CAAC8a,KAAK,CAAC;QAChC,QAAQ,EAAE5Y,SAAS;QACnB,OAAO,EAAE,CAAC;QACV,KAAK,EAAE;MACX,CAAC;MACD+nB,IAAI,EAAE,MAAM;MACZjO,QAAQ,EAAE,MAAM;MAChBC,OAAO,EAAE,SAASA,OAAOA,CAAC7Y,IAAI,EAAE;QAC5BoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEpD,KAAK,CAACwrB,MAAM,CAAC;MACrC,CAAC;MACDrB,KAAK,EAAE,SAASA,KAAKA,CAAC9N,OAAO,EAAE;QAC3Bb,IAAI,CAACc,SAAS,CAACD,OAAO,EAAErc,KAAK,CAACwrB,MAAM,CAAC;MACzC;IACJ,CAAC,CAAC;EACN,CAAC;EAED,IAAI,CAAClC,gBAAgB,GAAG,UAAUpnB,SAAS,EAAE;IACzC,IAAIsZ,IAAI,GAAG,IAAI;IAEf5a,QAAQ,CAACG,OAAO,CAAC8a,IAAI,CAAC;MAClBC,GAAG,EAAE,IAAI,CAAC2J,cAAc;MACxBriB,IAAI,EAAE;QACF,OAAO,EAAE,CAAC,QAAQ,EAAE,eAAe,EAAE,aAAa,EAAE,WAAW,EAAE,WAAW,EAAE,iBAAiB,EAAE,eAAe,EAAE,aAAa,CAAC;QAChI,QAAQ,EAAElB,SAAS;QACnB,OAAO,EAAE,CAAC;QACV,KAAK,EAAE;MACX,CAAC;MACD+nB,IAAI,EAAE,MAAM;MACZjO,QAAQ,EAAE,MAAM;MAChBC,OAAO,EAAE,SAASA,OAAOA,CAAC7Y,IAAI,EAAE;QAC5BoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEgU,cAAc,CAAC6N,UAAU,CAAC;MAClD,CAAC;MACDkF,KAAK,EAAE,SAASA,KAAKA,CAAC9N,OAAO,EAAE;QAC3Bb,IAAI,CAACc,SAAS,CAACD,OAAO,EAAEjF,cAAc,CAAC6N,UAAU,CAAC;MACtD;IACJ,CAAC,CAAC;EACN,CAAC;;EAED;EACA,IAAI,CAACsE,kBAAkB,GAAG,UAAUrnB,SAAS,EAAE;IAC3C,IAAIsZ,IAAI,GAAG,IAAI;IAEf5a,QAAQ,CAACG,OAAO,CAAC8a,IAAI,CAAC;MAClBC,GAAG,EAAE,IAAI,CAAC2J,cAAc;MACxBriB,IAAI,EAAE;QACF,OAAO,EAAE,CAAC,MAAM,EAAE,QAAQ,EAAE,SAAS,CAAC;QACtC,QAAQ,EAAElB,SAAS;QACnB,OAAO,EAAE,CAAC;QACV,KAAK,EAAE;MACX,CAAC;MACD+nB,IAAI,EAAE,MAAM;MACZjO,QAAQ,EAAE,MAAM;MAChBC,OAAO,EAAE,SAASA,OAAOA,CAAC7Y,IAAI,EAAE;QAC5BoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEgU,cAAc,CAACyN,YAAY,CAAC;MACpD,CAAC;MACDsF,KAAK,EAAE,SAASA,KAAKA,CAAC9N,OAAO,EAAE;QAC3Bb,IAAI,CAACc,SAAS,CAACD,OAAO,EAAEjF,cAAc,CAACyN,YAAY,CAAC;MACxD;IACJ,CAAC,CAAC;EACN,CAAC;EAED,IAAI,CAAC2E,gBAAgB,GAAG,UAAUtnB,SAAS,EAAE;IACzC,IAAIsZ,IAAI,GAAG,IAAI;IAEf5a,QAAQ,CAACG,OAAO,CAAC8a,IAAI,CAAC;MAClBC,GAAG,EAAE,IAAI,CAAC2J,cAAc;MACxBriB,IAAI,EAAE;QACF,OAAO,EAAE,CAAC,MAAM,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,CAAC;QAC5D,QAAQ,EAAElB,SAAS;QACnB,OAAO,EAAE,CAAC;QACV,KAAK,EAAE;MACX,CAAC;MACD+nB,IAAI,EAAE,MAAM;MACZjO,QAAQ,EAAE,MAAM;MAChBC,OAAO,EAAE,SAASA,OAAOA,CAAC7Y,IAAI,EAAE;QAC5BoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEgU,cAAc,CAAC0N,UAAU,CAAC;MAClD,CAAC;MACDqF,KAAK,EAAE,SAASA,KAAKA,CAAC9N,OAAO,EAAE;QAC3Bb,IAAI,CAACc,SAAS,CAACD,OAAO,EAAEjF,cAAc,CAAC0N,UAAU,CAAC;MACtD;IACJ,CAAC,CAAC;EACN,CAAC;EAED,IAAI,CAACxI,SAAS,GAAG,UAAUD,OAAO,EAAElF,QAAQ,EAAEsU,WAAW,EAAE;IACvDhW,OAAO,CAACC,GAAG,CAAC,sBAAsB,GAAGyB,QAAQ,CAACpK,QAAQ,EAAE,CAAC;IACzD0I,OAAO,CAACC,GAAG,CAAC2G,OAAO,CAAC;IAEpB,IAAIb,IAAI,GAAG,IAAI;IACf,IAAI,IAAI,CAACqK,OAAO,EAAE6F,YAAY,CAAC,IAAI,CAAC7F,OAAO,CAAC,CAAC,CAAC;IAC9C,IAAI,CAACA,OAAO,GAAG8F,UAAU,CAAC,YAAY;MAClCnQ,IAAI,CAACf,WAAW,EAAE;IACtB,CAAC,EAAE,IAAI,CAACmL,gBAAgB,GAAG,CAAC,CAAC;EACjC,CAAC;EAED,IAAI,CAACzJ,QAAQ,GAAG,UAAU/Y,IAAI,EAAE+T,QAAQ,EAAEsU,WAAW,EAAE;IACnD,IAAIG,UAAU,CAAC,CAAC;;IAEhB,QAAQzU,QAAQ;MACZ,KAAKC,cAAc,CAAC4M,SAAS;MAC7B,KAAK5M,cAAc,CAAC6M,eAAe;QAC/B2H,UAAU,GAAG,IAAI,CAACC,YAAY,CAACzoB,IAAI,EAAE+T,QAAQ,CAAC;QAC9C;MACJ,KAAKC,cAAc,CAAC8M,SAAS;QACzB0H,UAAU,GAAG,IAAI,CAACE,YAAY,CAAC1oB,IAAI,EAAE+T,QAAQ,CAAC;QAC9C;MACJ,KAAKC,cAAc,CAAC+M,SAAS;QACzByH,UAAU,GAAG,IAAI,CAACG,YAAY,CAAC3oB,IAAI,EAAE+T,QAAQ,EAAEsU,WAAW,CAAC;QAC3D;MACJ,KAAKrU,cAAc,CAACgN,aAAa;QAC7BwH,UAAU,GAAG,IAAI,CAACI,eAAe,CAAC5oB,IAAI,EAAE+T,QAAQ,CAAC;QACjD;MACJ,KAAKC,cAAc,CAACiN,SAAS;QACzBuH,UAAU,GAAG,IAAI,CAACK,YAAY,CAAC7oB,IAAI,EAAE+T,QAAQ,CAAC;QAC9C;MACJ,KAAKC,cAAc,CAACkN,eAAe;QAC/BsH,UAAU,GAAG,IAAI,CAACM,kBAAkB,CAAC9oB,IAAI,EAAE+T,QAAQ,CAAC;QACpD;MACJ,KAAKC,cAAc,CAACmN,YAAY;QAC5BqH,UAAU,GAAG,IAAI,CAACO,eAAe,CAAC/oB,IAAI,EAAE+T,QAAQ,CAAC;QACjD;MACJ,KAAKC,cAAc,CAAC2N,YAAY;QAC5B6G,UAAU,GAAG,IAAI,CAACQ,eAAe,CAAChpB,IAAI,EAAE+T,QAAQ,CAAC;QACjD;MACJ,KAAKC,cAAc,CAACC,qBAAqB;MACzC,KAAKD,cAAc,CAACE,sBAAsB;MAC1C,KAAKF,cAAc,CAACG,sBAAsB;MAC1C,KAAKH,cAAc,CAACI,uBAAuB;MAC3C,KAAKJ,cAAc,CAACM,YAAY;MAChC,KAAKN,cAAc,CAACO,aAAa;MACjC,KAAKP,cAAc,CAACQ,aAAa;MACjC,KAAKR,cAAc,CAACS,cAAc;QAC9B+T,UAAU,GAAG,IAAI,CAACS,mBAAmB,CAACjpB,IAAI,EAAE+T,QAAQ,CAAC;QACrD;MACJ,KAAKC,cAAc,CAAC6N,UAAU;QAC1B2G,UAAU,GAAG,IAAI,CAACU,aAAa,CAAClpB,IAAI,EAAE+T,QAAQ,CAAC;QAC/C;MACJ,KAAKC,cAAc,CAACyN,YAAY;QAC5B+G,UAAU,GAAG,IAAI,CAACW,eAAe,CAACnpB,IAAI,EAAE+T,QAAQ,CAAC;QACjD;MACJ,KAAKC,cAAc,CAAC0N,UAAU;QAC1B8G,UAAU,GAAG,IAAI,CAACY,aAAa,CAACppB,IAAI,EAAE+T,QAAQ,CAAC;QAC/C;IAAM;IAGd,IAAIsV,0BAA0B,GAAG,IAAI;IACrC,IAAIC,kBAAkB,GAAG,KAAK;IAC9B,IAAIC,eAAe,GAAGha,SAAS;IAE/B,IAAI;MACA,KAAK,IAAIia,UAAU,GAAG,CAAC,CAAC,EAAEvsB,aAAa,CAACU,OAAO,EAAE6qB,UAAU,CAAC,EAAEiB,MAAM,EAAE,EAAEJ,0BAA0B,GAAG,CAACI,MAAM,GAAGD,UAAU,CAAC9Z,IAAI,EAAE,EAAEC,IAAI,CAAC,EAAE0Z,0BAA0B,GAAG,IAAI,EAAE;QACxK,IAAIzsB,KAAK,GAAG6sB,MAAM,CAAC7sB,KAAK;QAExB,IAAI,CAAC,IAAI,CAACulB,cAAc,CAACvY,GAAG,CAAChN,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;QAExC,IAAI,CAACulB,cAAc,CAACrY,GAAG,CAAClN,KAAK,CAAC,CAAC,CAAC,CAAC,CAACA,KAAK,CAAC,CAAC,CAAC,EAAEA,KAAK,CAAC,CAAC,CAAC,EAAEmX,QAAQ,EAAE,IAAI,CAAC;MACzE;IACJ,CAAC,CAAC,OAAOnE,GAAG,EAAE;MACV0Z,kBAAkB,GAAG,IAAI;MACzBC,eAAe,GAAG3Z,GAAG;IACzB,CAAC,SAAS;MACN,IAAI;QACA,IAAI,CAACyZ,0BAA0B,IAAIG,UAAU,CAAC3Z,MAAM,EAAE;UAClD2Z,UAAU,CAAC3Z,MAAM,EAAE;QACvB;MACJ,CAAC,SAAS;QACN,IAAIyZ,kBAAkB,EAAE;UACpB,MAAMC,eAAe;QACzB;MACJ;IACJ;IAEA,IAAI,CAACG,UAAU,EAAE;EACrB,CAAC;EAED,IAAI,CAAC3F,UAAU,GAAG,YAAY;IAC1B,IAAI,IAAI,CAACtB,OAAO,EAAE;MACd6F,YAAY,CAAC,IAAI,CAAC7F,OAAO,CAAC,CAAC,CAAC;MAC5B,IAAI,CAACA,OAAO,GAAG,IAAI;IACvB;EACJ,CAAC;EAED,IAAI,CAACiH,UAAU,GAAG,YAAY;IAC1B,IAAI,CAAC3F,UAAU,EAAE;IACjB,IAAI,CAAC,IAAI,CAACxB,YAAY,EAAE;IAExB,IAAInK,IAAI,GAAG,IAAI;IACf,IAAIuR,WAAW,GAAG,KAAK;IACvB,IAAIC,2BAA2B,GAAG,IAAI;IACtC,IAAIC,mBAAmB,GAAG,KAAK;IAC/B,IAAIC,gBAAgB,GAAGva,SAAS;IAEhC,IAAI;MACA,KAAK,IAAIwa,WAAW,GAAG,CAAC,CAAC,EAAE9sB,aAAa,CAACU,OAAO,EAAE,IAAI,CAACukB,QAAQ,CAAC,EAAE8H,OAAO,EAAE,EAAEJ,2BAA2B,GAAG,CAACI,OAAO,GAAGD,WAAW,CAACra,IAAI,EAAE,EAAEC,IAAI,CAAC,EAAEia,2BAA2B,GAAG,IAAI;MAAE;MACrL;QACI,IAAI9kB,IAAI,GAAGklB,OAAO,CAACptB,KAAK;QAExB,IAAIqtB,MAAM,GAAGC,YAAY,CAACC,eAAe,CAACrlB,IAAI,CAAC,CAAC,CAAC,CAAC;QAClD,IAAImlB,MAAM,IAAI,CAAC;UAAE;UACb;YACI,IAAI,CAACxH,OAAO,GAAG8F,UAAU,CAAC,YAAY;cAClCnQ,IAAI,CAACf,WAAW,EAAE;YACtB,CAAC,EAAE,IAAI,CAACmL,gBAAgB,CAAC;YACzB;UACJ,CAAC,MAAM,IAAIyH,MAAM,IAAI,CAAC;UAAE;UACxB;YACIN,WAAW,GAAG,IAAI;UACtB;MACR;;MAEA;IACJ,CAAC,CAAC,OAAO/Z,GAAG,EAAE;MACVia,mBAAmB,GAAG,IAAI;MAC1BC,gBAAgB,GAAGla,GAAG;IAC1B,CAAC,SAAS;MACN,IAAI;QACA,IAAI,CAACga,2BAA2B,IAAIG,WAAW,CAACla,MAAM,EAAE;UACpDka,WAAW,CAACla,MAAM,EAAE;QACxB;MACJ,CAAC,SAAS;QACN,IAAIga,mBAAmB,EAAE;UACrB,MAAMC,gBAAgB;QAC1B;MACJ;IACJ;IAEA,IAAIH,WAAW,EAAE,IAAI,CAAClH,OAAO,GAAG8F,UAAU,CAAC,YAAY;MACnDnQ,IAAI,CAACsR,UAAU,EAAE;IACrB,CAAC,EAAE,IAAI,CAAClH,gBAAgB,CAAC;EAC7B,CAAC;EAED,IAAI,CAACiG,YAAY,GAAG,UAAUzoB,IAAI,EAAE+T,QAAQ,EAAE;IAC1C,IAAIyU,UAAU,GAAG,IAAIrrB,KAAK,CAACQ,OAAO,EAAE,CAAC,CAAC;IACtC,KAAK,IAAIkH,CAAC,IAAI7E,IAAI,CAAC+W,KAAK,EAAE;MACtB,IAAIjS,IAAI,GAAG9E,IAAI,CAAC+W,KAAK,CAAClS,CAAC,CAAC;MACxB,IAAI4U,SAAS,GAAG,IAAI,CAACyI,QAAQ,CAACpY,GAAG,CAAChF,IAAI,CAACG,MAAM,CAAC;MAC9C,IAAI,CAACwU,SAAS,EAAE;MAEhB,QAAQ1F,QAAQ;QACZ,KAAKC,cAAc,CAAC4M,SAAS;UACzBnH,SAAS,CAACpJ,WAAW,CAACvL,IAAI,CAAC;UAC3B;QACJ,KAAKkP,cAAc,CAAC6M,eAAe;UAC/BpH,SAAS,CAACjH,gBAAgB,CAAC1N,IAAI,CAAC;UAChC;QACJ;UACI;MAAS;MAGjB,IAAI2U,SAAS,CAACva,KAAK,CAACsmB,IAAI,GAAG,CAAC,EAAE;QAC1B,IAAI4E,2BAA2B,GAAG,IAAI;QACtC,IAAIC,mBAAmB,GAAG,KAAK;QAC/B,IAAIC,gBAAgB,GAAG/a,SAAS;QAEhC,IAAI;UACA,KAAK,IAAIgb,WAAW,GAAG,CAAC,CAAC,EAAEttB,aAAa,CAACU,OAAO,EAAE8b,SAAS,CAACva,KAAK,CAAC,EAAEsrB,OAAO,EAAE,EAAEJ,2BAA2B,GAAG,CAACI,OAAO,GAAGD,WAAW,CAAC7a,IAAI,EAAE,EAAEC,IAAI,CAAC,EAAEya,2BAA2B,GAAG,IAAI,EAAE;YACnL,IAAInb,EAAE,GAAGub,OAAO,CAAC5tB,KAAK;YAEtB,IAAI4rB,UAAU,CAAC5e,GAAG,CAACqF,EAAE,CAAC,EAAE;cACpBuZ,UAAU,CAAC1e,GAAG,CAACmF,EAAE,CAAC,CAAClK,IAAI,CAAC0U,SAAS,CAACzU,MAAM,CAAC;YAC7C,CAAC,MAAM;cACHwjB,UAAU,CAAC3e,GAAG,CAACoF,EAAE,EAAE,IAAIlQ,KAAK,CAAC0a,SAAS,CAACzU,MAAM,CAAC,CAAC;YACnD;UACJ;QACJ,CAAC,CAAC,OAAO4K,GAAG,EAAE;UACVya,mBAAmB,GAAG,IAAI;UAC1BC,gBAAgB,GAAG1a,GAAG;QAC1B,CAAC,SAAS;UACN,IAAI;YACA,IAAI,CAACwa,2BAA2B,IAAIG,WAAW,CAAC1a,MAAM,EAAE;cACpD0a,WAAW,CAAC1a,MAAM,EAAE;YACxB;UACJ,CAAC,SAAS;YACN,IAAIwa,mBAAmB,EAAE;cACrB,MAAMC,gBAAgB;YAC1B;UACJ;QACJ;MACJ;IACJ;IAEA,OAAO9B,UAAU;EACrB,CAAC;EAED,IAAI,CAACI,eAAe,GAAG,UAAU5oB,IAAI,EAAE+T,QAAQ,EAAE;IAC7C,IAAIyU,UAAU,GAAG,IAAIrrB,KAAK,CAACQ,OAAO,EAAE,CAAC,CAAC;IACtC,KAAK,IAAIkH,CAAC,IAAI7E,IAAI,CAAC+W,KAAK,EAAE;MACtB,IAAIjS,IAAI,GAAG9E,IAAI,CAAC+W,KAAK,CAAClS,CAAC,CAAC;MACxB,IAAI4U,SAAS,GAAG,IAAI,CAACyI,QAAQ,CAACpY,GAAG,CAAChF,IAAI,CAACG,MAAM,CAAC;MAC9C,IAAI,CAACwU,SAAS,EAAE;MAEhBA,SAAS,CAACxG,cAAc,CAACnO,IAAI,CAAC;MAE9B,IAAI2U,SAAS,CAACva,KAAK,CAACsmB,IAAI,GAAG,CAAC,EAAE;QAC1B,IAAIiF,2BAA2B,GAAG,IAAI;QACtC,IAAIC,mBAAmB,GAAG,KAAK;QAC/B,IAAIC,gBAAgB,GAAGpb,SAAS;QAEhC,IAAI;UACA,KAAK,IAAIqb,WAAW,GAAG,CAAC,CAAC,EAAE3tB,aAAa,CAACU,OAAO,EAAE8b,SAAS,CAACva,KAAK,CAAC,EAAE2rB,OAAO,EAAE,EAAEJ,2BAA2B,GAAG,CAACI,OAAO,GAAGD,WAAW,CAAClb,IAAI,EAAE,EAAEC,IAAI,CAAC,EAAE8a,2BAA2B,GAAG,IAAI,EAAE;YACnL,IAAIxb,EAAE,GAAG4b,OAAO,CAACjuB,KAAK;YAEtB,IAAI4rB,UAAU,CAAC5e,GAAG,CAACqF,EAAE,CAAC,EAAE;cACpBuZ,UAAU,CAAC1e,GAAG,CAACmF,EAAE,CAAC,CAAClK,IAAI,CAAC0U,SAAS,CAACzU,MAAM,CAAC;YAC7C,CAAC,MAAM;cACHwjB,UAAU,CAAC3e,GAAG,CAACoF,EAAE,EAAE,IAAIlQ,KAAK,CAAC0a,SAAS,CAACzU,MAAM,CAAC,CAAC;YACnD;UACJ;QACJ,CAAC,CAAC,OAAO4K,GAAG,EAAE;UACV8a,mBAAmB,GAAG,IAAI;UAC1BC,gBAAgB,GAAG/a,GAAG;QAC1B,CAAC,SAAS;UACN,IAAI;YACA,IAAI,CAAC6a,2BAA2B,IAAIG,WAAW,CAAC/a,MAAM,EAAE;cACpD+a,WAAW,CAAC/a,MAAM,EAAE;YACxB;UACJ,CAAC,SAAS;YACN,IAAI6a,mBAAmB,EAAE;cACrB,MAAMC,gBAAgB;YAC1B;UACJ;QACJ;MACJ;MAEA,IAAIlR,SAAS,CAACxP,YAAY,CAACub,IAAI,GAAG,CAAC,EAAE;QACjC,IAAIsF,2BAA2B,GAAG,IAAI;QACtC,IAAIC,mBAAmB,GAAG,KAAK;QAC/B,IAAIC,gBAAgB,GAAGzb,SAAS;QAEhC,IAAI;UACA,KAAK,IAAI0b,WAAW,GAAG,CAAC,CAAC,EAAEhuB,aAAa,CAACU,OAAO,EAAE8b,SAAS,CAACxP,YAAY,CAAC,EAAEihB,OAAO,EAAE,EAAEJ,2BAA2B,GAAG,CAACI,OAAO,GAAGD,WAAW,CAACvb,IAAI,EAAE,EAAEC,IAAI,CAAC,EAAEmb,2BAA2B,GAAG,IAAI,EAAE;YAC1L,IAAI7b,EAAE,GAAGic,OAAO,CAACtuB,KAAK;YAEtB,IAAI4rB,UAAU,CAAC5e,GAAG,CAACqF,EAAE,CAAC,EAAE;cACpBuZ,UAAU,CAAC1e,GAAG,CAACmF,EAAE,CAAC,CAAClK,IAAI,CAAC0U,SAAS,CAACzU,MAAM,CAAC;YAC7C,CAAC,MAAM;cACHwjB,UAAU,CAAC3e,GAAG,CAACoF,EAAE,EAAE,IAAIlQ,KAAK,CAAC0a,SAAS,CAACzU,MAAM,CAAC,CAAC;YACnD;UACJ;QACJ,CAAC,CAAC,OAAO4K,GAAG,EAAE;UACVmb,mBAAmB,GAAG,IAAI;UAC1BC,gBAAgB,GAAGpb,GAAG;QAC1B,CAAC,SAAS;UACN,IAAI;YACA,IAAI,CAACkb,2BAA2B,IAAIG,WAAW,CAACpb,MAAM,EAAE;cACpDob,WAAW,CAACpb,MAAM,EAAE;YACxB;UACJ,CAAC,SAAS;YACN,IAAIkb,mBAAmB,EAAE;cACrB,MAAMC,gBAAgB;YAC1B;UACJ;QACJ;MACJ;IACJ;IAEA,OAAOxC,UAAU;EACrB,CAAC;EAED,IAAI,CAACM,kBAAkB,GAAG,UAAU9oB,IAAI,EAAE+T,QAAQ,EAAE;IAChD,IAAIyU,UAAU,GAAG,IAAIrrB,KAAK,CAACQ,OAAO,EAAE,CAAC,CAAC;IACtC,KAAK,IAAIkH,CAAC,IAAI7E,IAAI,CAAC+W,KAAK,EAAE;MACtB,IAAIjS,IAAI,GAAG9E,IAAI,CAAC+W,KAAK,CAAClS,CAAC,CAAC;MACxB,IAAI4U,SAAS,GAAG,IAAI,CAACyI,QAAQ,CAACpY,GAAG,CAAChF,IAAI,CAACG,MAAM,CAAC;MAC9C,IAAI,CAACwU,SAAS,EAAE;MAEhBA,SAAS,CAAC9H,iBAAiB,CAAC7M,IAAI,CAAC;MAEjC,IAAI2U,SAAS,CAACzO,eAAe,CAACwa,IAAI,GAAG,CAAC,EAAE;QACpC,IAAI2F,2BAA2B,GAAG,IAAI;QACtC,IAAIC,mBAAmB,GAAG,KAAK;QAC/B,IAAIC,gBAAgB,GAAG9b,SAAS;QAEhC,IAAI;UACA,KAAK,IAAI+b,WAAW,GAAG,CAAC,CAAC,EAAEruB,aAAa,CAACU,OAAO,EAAE8b,SAAS,CAACzO,eAAe,CAAC,EAAEugB,OAAO,EAAE,EAAEJ,2BAA2B,GAAG,CAACI,OAAO,GAAGD,WAAW,CAAC5b,IAAI,EAAE,EAAEC,IAAI,CAAC,EAAEwb,2BAA2B,GAAG,IAAI,EAAE;YAC7L,IAAIlc,EAAE,GAAGsc,OAAO,CAAC3uB,KAAK;YAEtB,IAAI4rB,UAAU,CAAC5e,GAAG,CAACqF,EAAE,CAAC,EAAE;cACpBuZ,UAAU,CAAC1e,GAAG,CAACmF,EAAE,CAAC,CAAClK,IAAI,CAAC0U,SAAS,CAACzU,MAAM,CAAC;YAC7C,CAAC,MAAM;cACHwjB,UAAU,CAAC3e,GAAG,CAACoF,EAAE,EAAE,IAAIlQ,KAAK,CAAC0a,SAAS,CAACzU,MAAM,CAAC,CAAC;YACnD;UACJ;QACJ,CAAC,CAAC,OAAO4K,GAAG,EAAE;UACVwb,mBAAmB,GAAG,IAAI;UAC1BC,gBAAgB,GAAGzb,GAAG;QAC1B,CAAC,SAAS;UACN,IAAI;YACA,IAAI,CAACub,2BAA2B,IAAIG,WAAW,CAACzb,MAAM,EAAE;cACpDyb,WAAW,CAACzb,MAAM,EAAE;YACxB;UACJ,CAAC,SAAS;YACN,IAAIub,mBAAmB,EAAE;cACrB,MAAMC,gBAAgB;YAC1B;UACJ;QACJ;MACJ;IACJ;IAEA,OAAO7C,UAAU;EACrB,CAAC;EAED,IAAI,CAACO,eAAe,GAAG,UAAU/oB,IAAI,EAAE+T,QAAQ,EAAE;IAC7C,IAAIyU,UAAU,GAAG,IAAIrrB,KAAK,CAACQ,OAAO,EAAE,CAAC,CAAC;IACtC,KAAK,IAAIkH,CAAC,IAAI7E,IAAI,CAAC+W,KAAK,EAAE;MACtB,IAAIjS,IAAI,GAAG9E,IAAI,CAAC+W,KAAK,CAAClS,CAAC,CAAC;MACxB,IAAI4U,SAAS,GAAG,IAAI,CAACyI,QAAQ,CAACpY,GAAG,CAAChF,IAAI,CAACG,MAAM,CAAC;MAC9C,IAAI,CAACwU,SAAS,EAAE;MAEhBA,SAAS,CAACrH,cAAc,CAACtN,IAAI,CAAC;MAE9B,IAAI2U,SAAS,CAAClO,YAAY,CAACia,IAAI,GAAG,CAAC,EAAE;QACjC,IAAIgG,2BAA2B,GAAG,IAAI;QACtC,IAAIC,mBAAmB,GAAG,KAAK;QAC/B,IAAIC,gBAAgB,GAAGnc,SAAS;QAEhC,IAAI;UACA,KAAK,IAAIoc,WAAW,GAAG,CAAC,CAAC,EAAE1uB,aAAa,CAACU,OAAO,EAAE8b,SAAS,CAAClO,YAAY,CAAC,EAAEqgB,OAAO,EAAE,EAAEJ,2BAA2B,GAAG,CAACI,OAAO,GAAGD,WAAW,CAACjc,IAAI,EAAE,EAAEC,IAAI,CAAC,EAAE6b,2BAA2B,GAAG,IAAI,EAAE;YAC1L,IAAIvc,EAAE,GAAG2c,OAAO,CAAChvB,KAAK;YAEtB,IAAI4rB,UAAU,CAAC5e,GAAG,CAACqF,EAAE,CAAC,EAAE;cACpBuZ,UAAU,CAAC1e,GAAG,CAACmF,EAAE,CAAC,CAAClK,IAAI,CAAC0U,SAAS,CAACzU,MAAM,CAAC;YAC7C,CAAC,MAAM;cACHwjB,UAAU,CAAC3e,GAAG,CAACoF,EAAE,EAAE,IAAIlQ,KAAK,CAAC0a,SAAS,CAACzU,MAAM,CAAC,CAAC;YACnD;UACJ;QACJ,CAAC,CAAC,OAAO4K,GAAG,EAAE;UACV6b,mBAAmB,GAAG,IAAI;UAC1BC,gBAAgB,GAAG9b,GAAG;QAC1B,CAAC,SAAS;UACN,IAAI;YACA,IAAI,CAAC4b,2BAA2B,IAAIG,WAAW,CAAC9b,MAAM,EAAE;cACpD8b,WAAW,CAAC9b,MAAM,EAAE;YACxB;UACJ,CAAC,SAAS;YACN,IAAI4b,mBAAmB,EAAE;cACrB,MAAMC,gBAAgB;YAC1B;UACJ;QACJ;MACJ;IACJ;IAEA,OAAOlD,UAAU;EACrB,CAAC;EAED,IAAI,CAACQ,eAAe,GAAG,UAAUhpB,IAAI,EAAE+T,QAAQ,EAAE;IAC7C,IAAIyU,UAAU,GAAG,IAAIrrB,KAAK,CAACQ,OAAO,EAAE,CAAC,CAAC;IACtC,KAAK,IAAIkH,CAAC,IAAI7E,IAAI,CAAC+W,KAAK,EAAE;MACtB,IAAIjS,IAAI,GAAG9E,IAAI,CAAC+W,KAAK,CAAClS,CAAC,CAAC;MACxB,IAAI4U,SAAS,GAAG,IAAI,CAACyI,QAAQ,CAACpY,GAAG,CAAChF,IAAI,CAACG,MAAM,CAAC;MAC9C,IAAI,CAACwU,SAAS,EAAE;MAEhBA,SAAS,CAAClH,cAAc,CAACzN,IAAI,CAAC;MAE9B,IAAI2U,SAAS,CAACrN,YAAY,CAACoZ,IAAI,GAAG,CAAC,EAAE;QACjC,IAAIqG,2BAA2B,GAAG,IAAI;QACtC,IAAIC,mBAAmB,GAAG,KAAK;QAC/B,IAAIC,gBAAgB,GAAGxc,SAAS;QAEhC,IAAI;UACA,KAAK,IAAIyc,WAAW,GAAG,CAAC,CAAC,EAAE/uB,aAAa,CAACU,OAAO,EAAE8b,SAAS,CAACrN,YAAY,CAAC,EAAE6f,OAAO,EAAE,EAAEJ,2BAA2B,GAAG,CAACI,OAAO,GAAGD,WAAW,CAACtc,IAAI,EAAE,EAAEC,IAAI,CAAC,EAAEkc,2BAA2B,GAAG,IAAI,EAAE;YAC1L,IAAI5c,EAAE,GAAGgd,OAAO,CAACrvB,KAAK;YAEtB,IAAI4rB,UAAU,CAAC5e,GAAG,CAACqF,EAAE,CAAC,EAAE;cACpBuZ,UAAU,CAAC1e,GAAG,CAACmF,EAAE,CAAC,CAAClK,IAAI,CAAC0U,SAAS,CAACzU,MAAM,CAAC;YAC7C,CAAC,MAAM;cACHwjB,UAAU,CAAC3e,GAAG,CAACoF,EAAE,EAAE,IAAIlQ,KAAK,CAAC0a,SAAS,CAACzU,MAAM,CAAC,CAAC;YACnD;UACJ;QACJ,CAAC,CAAC,OAAO4K,GAAG,EAAE;UACVkc,mBAAmB,GAAG,IAAI;UAC1BC,gBAAgB,GAAGnc,GAAG;QAC1B,CAAC,SAAS;UACN,IAAI;YACA,IAAI,CAACic,2BAA2B,IAAIG,WAAW,CAACnc,MAAM,EAAE;cACpDmc,WAAW,CAACnc,MAAM,EAAE;YACxB;UACJ,CAAC,SAAS;YACN,IAAIic,mBAAmB,EAAE;cACrB,MAAMC,gBAAgB;YAC1B;UACJ;QACJ;MACJ;IACJ;IAEA,OAAOvD,UAAU;EACrB,CAAC;EAED,IAAI,CAACK,YAAY,GAAG,UAAU7oB,IAAI,EAAE+T,QAAQ,EAAE;IAC1C,IAAIyU,UAAU,GAAG,IAAIrrB,KAAK,CAACQ,OAAO,EAAE,CAAC,CAAC;IACtC,KAAK,IAAIkH,CAAC,IAAI7E,IAAI,CAAC+W,KAAK,EAAE;MACtB,IAAIjS,IAAI,GAAG9E,IAAI,CAAC+W,KAAK,CAAClS,CAAC,CAAC;MACxB,IAAI4U,SAAS,GAAG,IAAI,CAACyI,QAAQ,CAACpY,GAAG,CAAChF,IAAI,CAACG,MAAM,CAAC;MAC9C,IAAI,CAACwU,SAAS,EAAE;MAEhBA,SAAS,CAACrG,WAAW,CAACtO,IAAI,CAAC;MAE3B,IAAI2U,SAAS,CAACnP,SAAS,CAACkb,IAAI,GAAG,CAAC,EAAE;QAC9B,IAAI0G,2BAA2B,GAAG,IAAI;QACtC,IAAIC,mBAAmB,GAAG,KAAK;QAC/B,IAAIC,gBAAgB,GAAG7c,SAAS;QAEhC,IAAI;UACA,KAAK,IAAI8c,WAAW,GAAG,CAAC,CAAC,EAAEpvB,aAAa,CAACU,OAAO,EAAE8b,SAAS,CAACnP,SAAS,CAAC,EAAEgiB,OAAO,EAAE,EAAEJ,2BAA2B,GAAG,CAACI,OAAO,GAAGD,WAAW,CAAC3c,IAAI,EAAE,EAAEC,IAAI,CAAC,EAAEuc,2BAA2B,GAAG,IAAI,EAAE;YACvL,IAAIjd,EAAE,GAAGqd,OAAO,CAAC1vB,KAAK;YAEtB,IAAI4rB,UAAU,CAAC5e,GAAG,CAACqF,EAAE,CAAC,EAAE;cACpBuZ,UAAU,CAAC1e,GAAG,CAACmF,EAAE,CAAC,CAAClK,IAAI,CAAC0U,SAAS,CAACzU,MAAM,CAAC;YAC7C,CAAC,MAAM;cACHwjB,UAAU,CAAC3e,GAAG,CAACoF,EAAE,EAAE,IAAIlQ,KAAK,CAAC0a,SAAS,CAACzU,MAAM,CAAC,CAAC;YACnD;UACJ;QACJ,CAAC,CAAC,OAAO4K,GAAG,EAAE;UACVuc,mBAAmB,GAAG,IAAI;UAC1BC,gBAAgB,GAAGxc,GAAG;QAC1B,CAAC,SAAS;UACN,IAAI;YACA,IAAI,CAACsc,2BAA2B,IAAIG,WAAW,CAACxc,MAAM,EAAE;cACpDwc,WAAW,CAACxc,MAAM,EAAE;YACxB;UACJ,CAAC,SAAS;YACN,IAAIsc,mBAAmB,EAAE;cACrB,MAAMC,gBAAgB;YAC1B;UACJ;QACJ;MACJ;IACJ;IAEA,OAAO5D,UAAU;EACrB,CAAC;EAED,IAAI,CAACE,YAAY,GAAG,UAAU1oB,IAAI,EAAE+T,QAAQ,EAAE;IAC1C,IAAIyU,UAAU,GAAG,IAAIrrB,KAAK,CAACQ,OAAO,EAAE,CAAC,CAAC;IACtC,KAAK,IAAIkH,CAAC,IAAI7E,IAAI,CAACA,IAAI,EAAE;MACrB,IAAI8E,IAAI,GAAG9E,IAAI,CAACA,IAAI,CAAC6E,CAAC,CAAC;MACvB,IAAI4U,SAAS,GAAG,IAAI,CAACyI,QAAQ,CAACpY,GAAG,CAAChF,IAAI,CAACG,MAAM,CAAC;MAC9C,IAAI,CAACwU,SAAS,EAAE;MAEhBA,SAAS,CAAClG,WAAW,CAACzO,IAAI,CAAC;MAE3B,IAAI2U,SAAS,CAAClQ,SAAS,CAACic,IAAI,GAAG,CAAC,EAAE;QAC9B,IAAI+G,2BAA2B,GAAG,IAAI;QACtC,IAAIC,mBAAmB,GAAG,KAAK;QAC/B,IAAIC,gBAAgB,GAAGld,SAAS;QAEhC,IAAI;UACA,KAAK,IAAImd,WAAW,GAAG,CAAC,CAAC,EAAEzvB,aAAa,CAACU,OAAO,EAAE8b,SAAS,CAAClQ,SAAS,CAAC,EAAEojB,OAAO,EAAE,EAAEJ,2BAA2B,GAAG,CAACI,OAAO,GAAGD,WAAW,CAAChd,IAAI,EAAE,EAAEC,IAAI,CAAC,EAAE4c,2BAA2B,GAAG,IAAI,EAAE;YACvL,IAAItd,EAAE,GAAG0d,OAAO,CAAC/vB,KAAK;YAEtB,IAAI4rB,UAAU,CAAC5e,GAAG,CAACqF,EAAE,CAAC,EAAE;cACpBuZ,UAAU,CAAC1e,GAAG,CAACmF,EAAE,CAAC,CAAClK,IAAI,CAAC0U,SAAS,CAACzU,MAAM,CAAC;YAC7C,CAAC,MAAM;cACHwjB,UAAU,CAAC3e,GAAG,CAACoF,EAAE,EAAE,IAAIlQ,KAAK,CAAC0a,SAAS,CAACzU,MAAM,CAAC,CAAC;YACnD;UACJ;QACJ,CAAC,CAAC,OAAO4K,GAAG,EAAE;UACV4c,mBAAmB,GAAG,IAAI;UAC1BC,gBAAgB,GAAG7c,GAAG;QAC1B,CAAC,SAAS;UACN,IAAI;YACA,IAAI,CAAC2c,2BAA2B,IAAIG,WAAW,CAAC7c,MAAM,EAAE;cACpD6c,WAAW,CAAC7c,MAAM,EAAE;YACxB;UACJ,CAAC,SAAS;YACN,IAAI2c,mBAAmB,EAAE;cACrB,MAAMC,gBAAgB;YAC1B;UACJ;QACJ;MACJ;IACJ;IAEA,OAAOjE,UAAU;EACrB,CAAC;EAED,IAAI,CAACG,YAAY,GAAG,UAAU3oB,IAAI,EAAE+T,QAAQ,EAAE4T,QAAQ,EAAE;IACpD,IAAIa,UAAU,GAAG,IAAIrrB,KAAK,CAACQ,OAAO,EAAE,CAAC,CAAC;IACtC,IAAImB,SAAS,GAAG,IAAIC,KAAK,EAAE;IAC3B,IAAI0a,SAAS,GAAG,IAAI,CAACyI,QAAQ,CAACpY,GAAG,CAAC6d,QAAQ,CAACjZ,KAAK,CAAC;IAEjD,KAAK,IAAI7J,CAAC,IAAI7E,IAAI,CAAC+W,KAAK,EAAE;MACtB,IAAIjS,IAAI,GAAG9E,IAAI,CAAC+W,KAAK,CAAClS,CAAC,CAAC;MACxB/F,SAAS,CAACiG,IAAI,CAACD,IAAI,CAACG,MAAM,CAAC;MAE3B,IAAI,IAAI,CAACid,QAAQ,CAACtY,GAAG,CAAC9E,IAAI,CAACG,MAAM,CAAC,EAAE;QAChC,IAAI2nB,QAAQ,GAAG,IAAI,CAAC1K,QAAQ,CAACpY,GAAG,CAAChF,IAAI,CAACG,MAAM,CAAC;QAC7C2nB,QAAQ,CAACvc,WAAW,CAACvL,IAAI,CAAC;MAC9B,CAAC,MAAM;QACH,IAAI8nB,QAAQ,GAAG,IAAIlmB,SAAS,CAAC5B,IAAI,CAACG,MAAM,CAAC;QACzC2nB,QAAQ,CAACvc,WAAW,CAACvL,IAAI,CAAC;QAC1B,IAAI,CAACod,QAAQ,CAACrY,GAAG,CAAC/E,IAAI,CAACG,MAAM,EAAE2nB,QAAQ,CAAC;MAC5C;IACJ;IAEA,IAAIljB,GAAG,GAAGie,QAAQ,CAAC3oB,SAAS,CAAC2K,QAAQ,EAAE,GAAG,GAAG,GAAGge,QAAQ,CAAC1oB,KAAK,CAAC0K,QAAQ,EAAE;IACzE,IAAI,CAAC8P,SAAS,CAACjQ,IAAI,CAACI,GAAG,CAACF,GAAG,CAAC,EAAE,OAAO8e,UAAU;IAE/C,IAAIZ,QAAQ,GAAGnO,SAAS,CAACjQ,IAAI,CAACM,GAAG,CAACJ,GAAG,CAAC;IACtCke,QAAQ,CAAC9oB,SAAS,GAAGA,SAAS;IAE9B,IAAI+tB,2BAA2B,GAAG,IAAI;IACtC,IAAIC,mBAAmB,GAAG,KAAK;IAC/B,IAAIC,gBAAgB,GAAGxd,SAAS;IAEhC,IAAI;MACA,KAAK,IAAIyd,WAAW,GAAG,CAAC,CAAC,EAAE/vB,aAAa,CAACU,OAAO,EAAEgqB,QAAQ,CAACzoB,KAAK,CAAC,EAAE+tB,OAAO,EAAE,EAAEJ,2BAA2B,GAAG,CAACI,OAAO,GAAGD,WAAW,CAACtd,IAAI,EAAE,EAAEC,IAAI,CAAC,EAAEkd,2BAA2B,GAAG,IAAI,EAAE;QAClL,IAAI/nB,IAAI,GAAGmoB,OAAO,CAACrwB,KAAK;QAExB4rB,UAAU,CAAC3e,GAAG,CAAC/E,IAAI,EAAE,IAAI/F,KAAK,CAAC,CAAC0a,SAAS,CAACzU,MAAM,CAAC,CAAC,CAAC;MACvD;IACJ,CAAC,CAAC,OAAO4K,GAAG,EAAE;MACVkd,mBAAmB,GAAG,IAAI;MAC1BC,gBAAgB,GAAGnd,GAAG;IAC1B,CAAC,SAAS;MACN,IAAI;QACA,IAAI,CAACid,2BAA2B,IAAIG,WAAW,CAACnd,MAAM,EAAE;UACpDmd,WAAW,CAACnd,MAAM,EAAE;QACxB;MACJ,CAAC,SAAS;QACN,IAAIid,mBAAmB,EAAE;UACrB,MAAMC,gBAAgB;QAC1B;MACJ;IACJ;IAEA,OAAOvE,UAAU;EACrB,CAAC;EAED,IAAI,CAACS,mBAAmB,GAAG,UAAUjpB,IAAI,EAAE+T,QAAQ,EAAE;IACjD,IAAIyU,UAAU,GAAG,IAAIrrB,KAAK,CAACQ,OAAO,EAAE,CAAC,CAAC;IACtC,KAAK,IAAIkH,CAAC,IAAI7E,IAAI,CAAC+W,KAAK,EAAE;MACtB,IAAIjS,IAAI,GAAG9E,IAAI,CAAC+W,KAAK,CAAClS,CAAC,CAAC;MACxB,IAAI4U,SAAS,GAAG,IAAI,CAACyI,QAAQ,CAACpY,GAAG,CAAChF,IAAI,CAACG,MAAM,CAAC;MAC9C,IAAI,CAACwU,SAAS,EAAE;MAEhB,IAAIyT,OAAO,GAAG,IAAI;MAClB,QAAQnZ,QAAQ;QACZ,KAAKC,cAAc,CAACC,qBAAqB;UACrCwF,SAAS,CAAC3F,qBAAqB,CAAChP,IAAI,CAACqoB,OAAO,EAAEpZ,QAAQ,CAAC;UACvDmZ,OAAO,GAAGzT,SAAS,CAAC3M,gBAAgB;UACpC;QACJ,KAAKkH,cAAc,CAACE,sBAAsB;UACtCuF,SAAS,CAAC3F,qBAAqB,CAAChP,IAAI,CAACsoB,QAAQ,EAAErZ,QAAQ,CAAC;UACxDmZ,OAAO,GAAGzT,SAAS,CAACzM,iBAAiB;UACrC;QACJ,KAAKgH,cAAc,CAACG,sBAAsB;UACtCsF,SAAS,CAAC3F,qBAAqB,CAAChP,IAAI,CAACuoB,QAAQ,EAAEtZ,QAAQ,CAAC;UACxDmZ,OAAO,GAAGzT,SAAS,CAACvM,iBAAiB;UACrC;QACJ,KAAK8G,cAAc,CAACI,uBAAuB;UACvCqF,SAAS,CAAC3F,qBAAqB,CAAChP,IAAI,CAACwoB,SAAS,EAAEvZ,QAAQ,CAAC;UACzDmZ,OAAO,GAAGzT,SAAS,CAACrM,kBAAkB;UACtC;QACJ,KAAK4G,cAAc,CAACM,YAAY;UAC5BmF,SAAS,CAACpF,MAAM,CAACvP,IAAI,CAACyoB,GAAG,EAAExZ,QAAQ,CAAC;UACpCmZ,OAAO,GAAGzT,SAAS,CAAC/L,KAAK;UACzB;QACJ,KAAKsG,cAAc,CAACO,aAAa;UAC7BkF,SAAS,CAACpF,MAAM,CAACvP,IAAI,CAAC0oB,IAAI,EAAEzZ,QAAQ,CAAC;UACrCmZ,OAAO,GAAGzT,SAAS,CAAC9L,MAAM;UAC1B;QACJ,KAAKqG,cAAc,CAACQ,aAAa;UAC7BiF,SAAS,CAACpF,MAAM,CAACvP,IAAI,CAAC2oB,IAAI,EAAE1Z,QAAQ,CAAC;UACrCmZ,OAAO,GAAGzT,SAAS,CAAC7L,MAAM;UAC1B;QACJ,KAAKoG,cAAc,CAACS,cAAc;UAC9BgF,SAAS,CAACpF,MAAM,CAACvP,IAAI,CAAC4oB,KAAK,EAAE3Z,QAAQ,CAAC;UACtCmZ,OAAO,GAAGzT,SAAS,CAAC5L,OAAO;UAC3B;MAAM;MAGd,IAAIqf,OAAO,IAAIA,OAAO,CAAC1H,IAAI,GAAG,CAAC,EAAE;QAC7B,IAAImI,2BAA2B,GAAG,IAAI;QACtC,IAAIC,mBAAmB,GAAG,KAAK;QAC/B,IAAIC,gBAAgB,GAAGte,SAAS;QAEhC,IAAI;UACA,KAAK,IAAIue,WAAW,GAAG,CAAC,CAAC,EAAE7wB,aAAa,CAACU,OAAO,EAAEuvB,OAAO,CAAC,EAAEa,OAAO,EAAE,EAAEJ,2BAA2B,GAAG,CAACI,OAAO,GAAGD,WAAW,CAACpe,IAAI,EAAE,EAAEC,IAAI,CAAC,EAAEge,2BAA2B,GAAG,IAAI,EAAE;YAC3K,IAAI1e,EAAE,GAAG8e,OAAO,CAACnxB,KAAK;YAEtB,IAAI4rB,UAAU,CAAC5e,GAAG,CAACqF,EAAE,CAAC,EAAE;cACpBuZ,UAAU,CAAC1e,GAAG,CAACmF,EAAE,CAAC,CAAClK,IAAI,CAAC0U,SAAS,CAACzU,MAAM,CAAC;YAC7C,CAAC,MAAM;cACHwjB,UAAU,CAAC3e,GAAG,CAACoF,EAAE,EAAE,IAAIlQ,KAAK,CAAC0a,SAAS,CAACzU,MAAM,CAAC,CAAC;YACnD;UACJ;QACJ,CAAC,CAAC,OAAO4K,GAAG,EAAE;UACVge,mBAAmB,GAAG,IAAI;UAC1BC,gBAAgB,GAAGje,GAAG;QAC1B,CAAC,SAAS;UACN,IAAI;YACA,IAAI,CAAC+d,2BAA2B,IAAIG,WAAW,CAACje,MAAM,EAAE;cACpDie,WAAW,CAACje,MAAM,EAAE;YACxB;UACJ,CAAC,SAAS;YACN,IAAI+d,mBAAmB,EAAE;cACrB,MAAMC,gBAAgB;YAC1B;UACJ;QACJ;MACJ;IACJ;IAEA,OAAOrF,UAAU;EACrB,CAAC;EAED,IAAI,CAACU,aAAa,GAAG,UAAUlpB,IAAI,EAAE+T,QAAQ,EAAE;IAC3C,IAAIyU,UAAU,GAAG,IAAIrrB,KAAK,CAACQ,OAAO,EAAE,CAAC,CAAC;;IAEtC,KAAK,IAAIkH,CAAC,IAAI7E,IAAI,CAAC+W,KAAK,EAAE;MACtB,IAAIjS,IAAI,GAAG9E,IAAI,CAAC+W,KAAK,CAAClS,CAAC,CAAC;MACxB,IAAI4U,SAAS,GAAG,IAAI,CAACyI,QAAQ,CAACpY,GAAG,CAAChF,IAAI,CAACG,MAAM,CAAC;MAC9C,IAAI,CAACwU,SAAS,EAAE;MAEhBA,SAAS,CAAC/E,YAAY,CAAC5P,IAAI,CAAC;MAC5B,IAAI2U,SAAS,CAACzL,UAAU,CAACwX,IAAI,GAAG,CAAC,EAAE;QAC/B,IAAIwI,2BAA2B,GAAG,IAAI;QACtC,IAAIC,mBAAmB,GAAG,KAAK;QAC/B,IAAIC,gBAAgB,GAAG3e,SAAS;QAEhC,IAAI;UACA,KAAK,IAAI4e,WAAW,GAAG,CAAC,CAAC,EAAElxB,aAAa,CAACU,OAAO,EAAE8b,SAAS,CAACzL,UAAU,CAAC,EAAEogB,OAAO,EAAE,EAAEJ,2BAA2B,GAAG,CAACI,OAAO,GAAGD,WAAW,CAACze,IAAI,EAAE,EAAEC,IAAI,CAAC,EAAEqe,2BAA2B,GAAG,IAAI,EAAE;YACxL,IAAI/e,EAAE,GAAGmf,OAAO,CAACxxB,KAAK;YAEtB,IAAI4rB,UAAU,CAAC5e,GAAG,CAACqF,EAAE,CAAC,EAAEuZ,UAAU,CAAC1e,GAAG,CAACmF,EAAE,CAAC,CAAClK,IAAI,CAAC0U,SAAS,CAACzU,MAAM,CAAC,CAAC,KAAKwjB,UAAU,CAAC3e,GAAG,CAACoF,EAAE,EAAE,IAAIlQ,KAAK,CAAC0a,SAAS,CAACzU,MAAM,CAAC,CAAC;UAC1H;QACJ,CAAC,CAAC,OAAO4K,GAAG,EAAE;UACVqe,mBAAmB,GAAG,IAAI;UAC1BC,gBAAgB,GAAGte,GAAG;QAC1B,CAAC,SAAS;UACN,IAAI;YACA,IAAI,CAACoe,2BAA2B,IAAIG,WAAW,CAACte,MAAM,EAAE;cACpDse,WAAW,CAACte,MAAM,EAAE;YACxB;UACJ,CAAC,SAAS;YACN,IAAIoe,mBAAmB,EAAE;cACrB,MAAMC,gBAAgB;YAC1B;UACJ;QACJ;MACJ;IACJ;IAEA,OAAO1F,UAAU;EACrB,CAAC;EAED,IAAI,CAACW,eAAe,GAAG,UAAUnpB,IAAI,EAAE+T,QAAQ,EAAE;IAC7C,IAAIyU,UAAU,GAAG,IAAIrrB,KAAK,CAACQ,OAAO,EAAE,CAAC,CAAC;IACtC,KAAK,IAAIkH,CAAC,IAAI7E,IAAI,CAAC+W,KAAK,EAAE;MACtB,IAAIjS,IAAI,GAAG9E,IAAI,CAAC+W,KAAK,CAAClS,CAAC,CAAC;MACxB,IAAI4U,SAAS,GAAG,IAAI,CAACyI,QAAQ,CAACpY,GAAG,CAAChF,IAAI,CAACG,MAAM,CAAC;MAC9C,IAAI,CAACwU,SAAS,EAAE;MAEhBA,SAAS,CAAC9E,cAAc,CAAC7P,IAAI,CAAC;MAE9B,IAAI2U,SAAS,CAACtL,YAAY,CAACqX,IAAI,GAAG,CAAC,EAAE;QACjC,IAAI6I,2BAA2B,GAAG,IAAI;QACtC,IAAIC,mBAAmB,GAAG,KAAK;QAC/B,IAAIC,gBAAgB,GAAGhf,SAAS;QAEhC,IAAI;UACA,KAAK,IAAIif,WAAW,GAAG,CAAC,CAAC,EAAEvxB,aAAa,CAACU,OAAO,EAAE8b,SAAS,CAACtL,YAAY,CAAC,EAAEsgB,OAAO,EAAE,EAAEJ,2BAA2B,GAAG,CAACI,OAAO,GAAGD,WAAW,CAAC9e,IAAI,EAAE,EAAEC,IAAI,CAAC,EAAE0e,2BAA2B,GAAG,IAAI,EAAE;YAC1L,IAAIpf,EAAE,GAAGwf,OAAO,CAAC7xB,KAAK;YAEtB,IAAI4rB,UAAU,CAAC5e,GAAG,CAACqF,EAAE,CAAC,EAAE;cACpBuZ,UAAU,CAAC1e,GAAG,CAACmF,EAAE,CAAC,CAAClK,IAAI,CAAC0U,SAAS,CAACzU,MAAM,CAAC;YAC7C,CAAC,MAAM;cACHwjB,UAAU,CAAC3e,GAAG,CAACoF,EAAE,EAAE,IAAIlQ,KAAK,CAAC0a,SAAS,CAACzU,MAAM,CAAC,CAAC;YACnD;UACJ;QACJ,CAAC,CAAC,OAAO4K,GAAG,EAAE;UACV0e,mBAAmB,GAAG,IAAI;UAC1BC,gBAAgB,GAAG3e,GAAG;QAC1B,CAAC,SAAS;UACN,IAAI;YACA,IAAI,CAACye,2BAA2B,IAAIG,WAAW,CAAC3e,MAAM,EAAE;cACpD2e,WAAW,CAAC3e,MAAM,EAAE;YACxB;UACJ,CAAC,SAAS;YACN,IAAIye,mBAAmB,EAAE;cACrB,MAAMC,gBAAgB;YAC1B;UACJ;QACJ;MACJ;IACJ;IAEA,OAAO/F,UAAU;EACrB,CAAC;EAED,IAAI,CAACY,aAAa,GAAG,UAAUppB,IAAI,EAAE+T,QAAQ,EAAE;IAC3C,IAAIyU,UAAU,GAAG,IAAIrrB,KAAK,CAACQ,OAAO,EAAE,CAAC,CAAC;IACtC,KAAK,IAAIkH,CAAC,IAAI7E,IAAI,CAAC+W,KAAK,EAAE;MACtB,IAAIjS,IAAI,GAAG9E,IAAI,CAAC+W,KAAK,CAAClS,CAAC,CAAC;MACxB,IAAI4U,SAAS,GAAG,IAAI,CAACyI,QAAQ,CAACpY,GAAG,CAAChF,IAAI,CAACG,MAAM,CAAC;MAC9C,IAAI,CAACwU,SAAS,EAAE;MAEhBA,SAAS,CAAC7E,YAAY,CAAC9P,IAAI,CAAC;MAE5B,IAAI2U,SAAS,CAAC7K,UAAU,CAAC4W,IAAI,GAAG,CAAC,EAAE;QAC/B,IAAIkJ,2BAA2B,GAAG,IAAI;QACtC,IAAIC,mBAAmB,GAAG,KAAK;QAC/B,IAAIC,gBAAgB,GAAGrf,SAAS;QAEhC,IAAI;UACA,KAAK,IAAIsf,WAAW,GAAG,CAAC,CAAC,EAAE5xB,aAAa,CAACU,OAAO,EAAE8b,SAAS,CAAC7K,UAAU,CAAC,EAAEkgB,OAAO,EAAE,EAAEJ,2BAA2B,GAAG,CAACI,OAAO,GAAGD,WAAW,CAACnf,IAAI,EAAE,EAAEC,IAAI,CAAC,EAAE+e,2BAA2B,GAAG,IAAI,EAAE;YACxL,IAAIzf,EAAE,GAAG6f,OAAO,CAAClyB,KAAK;YAEtB,IAAI4rB,UAAU,CAAC5e,GAAG,CAACqF,EAAE,CAAC,EAAE;cACpBuZ,UAAU,CAAC1e,GAAG,CAACmF,EAAE,CAAC,CAAClK,IAAI,CAAC0U,SAAS,CAACzU,MAAM,CAAC;YAC7C,CAAC,MAAM;cACHwjB,UAAU,CAAC3e,GAAG,CAACoF,EAAE,EAAE,IAAIlQ,KAAK,CAAC0a,SAAS,CAACzU,MAAM,CAAC,CAAC;YACnD;UACJ;QACJ,CAAC,CAAC,OAAO4K,GAAG,EAAE;UACV+e,mBAAmB,GAAG,IAAI;UAC1BC,gBAAgB,GAAGhf,GAAG;QAC1B,CAAC,SAAS;UACN,IAAI;YACA,IAAI,CAAC8e,2BAA2B,IAAIG,WAAW,CAAChf,MAAM,EAAE;cACpDgf,WAAW,CAAChf,MAAM,EAAE;YACxB;UACJ,CAAC,SAAS;YACN,IAAI8e,mBAAmB,EAAE;cACrB,MAAMC,gBAAgB;YAC1B;UACJ;QACJ;MACJ;IACJ;IAEA,OAAOpG,UAAU;EACrB,CAAC;AACL;;AAEA;AACA,SAAShJ,WAAWA,CAACD,QAAQ,EAAE;EAC3B,IAAI,CAACwP,iBAAiB,GAAGhxB,iBAAiB,CAACF,MAAM,GAAG,iBAAiB;EACrE,IAAI,CAACmxB,gBAAgB,GAAGzP,QAAQ;EAChC,IAAI,CAAC1H,QAAQ,GAAG,EAAE,CAAC,CAAC;;EAEpB,IAAI,CAACE,KAAK,CAAC,CAAC;EACZ,IAAI,CAACkX,SAAS,CAAC,CAAC;;EAEhB,IAAI,CAACtX,IAAI,GAAG,IAAI5Y,KAAK,EAAE;EACvB,IAAI,CAACmwB,YAAY,GAAG,EAAE;EACtB,IAAI,CAACC,UAAU,GAAG,CAAC;EAEnB,IAAI,CAACC,MAAM,GAAG,UAAUC,KAAK,EAAExI,IAAI,EAAE;IACjC,IAAI,IAAI,CAACqI,YAAY,IAAIG,KAAK,IAAI,IAAI,CAACF,UAAU,IAAItI,IAAI,EAAE;MACvD,IAAI,OAAO,IAAI,CAACmI,gBAAgB,IAAI,UAAU,EAAE,IAAI,CAACA,gBAAgB,CAAC,IAAI,CAAC;IAC/E,CAAC,MAAM;MACH,IAAI,CAACE,YAAY,GAAGG,KAAK;MACzB,IAAI,CAACF,UAAU,GAAGtI,IAAI;MACtB,IAAI,CAAC9O,KAAK,GAAG,CAAC;MACd,IAAI,CAACkX,SAAS,GAAG,CAAC;MAClB,IAAI,CAACtX,IAAI,GAAG,EAAE;MACd,IAAI0B,GAAG,GAAG,IAAI,CAACxB,QAAQ,GAAG,CAAC;MAC3B,IAAI,CAACyX,kBAAkB,CAAC,IAAI,CAACJ,YAAY,EAAE,IAAI,CAACC,UAAU,EAAE,IAAI,CAACF,SAAS,EAAE5V,GAAG,CAAC;IACpF;EACJ,CAAC;EAED,IAAI,CAACkW,SAAS,GAAG,YAAY;IACzB,IAAI,IAAI,CAACxX,KAAK,IAAI,CAAC,EAAE,OAAO,IAAI;IAEhC,OAAO,IAAI,CAACkX,SAAS,GAAG,IAAI,CAAClX,KAAK,GAAG,CAAC;EAC1C,CAAC;EAED,IAAI,CAACyX,QAAQ,GAAG,YAAY;IACxB,IAAI,IAAI,CAACP,SAAS,GAAG,CAAC,GAAG,IAAI,CAAClX,KAAK,EAAE;IAErC,IAAIsB,GAAG,GAAG,IAAI,CAAC4V,SAAS,GAAG,IAAI,CAACpX,QAAQ;IACxC,IAAI,CAACyX,kBAAkB,CAAC,IAAI,CAACJ,YAAY,EAAE,IAAI,CAACC,UAAU,EAAE,IAAI,CAACF,SAAS,EAAE5V,GAAG,CAAC;EACpF,CAAC;;EAED;EACA;EACA,IAAI,CAACiW,kBAAkB,GAAG,UAAUD,KAAK,EAAExI,IAAI,EAAEzN,KAAK,EAAEC,GAAG,EAAE;IACzD,IAAIjB,IAAI,GAAG,IAAI;IAEf5a,QAAQ,CAACG,OAAO,CAAC8a,IAAI,CAAC;MAClBC,GAAG,EAAE,IAAI,CAACqW,iBAAiB;MAC3B/uB,IAAI,EAAE;QACF,OAAO,EAAEqvB,KAAK;QACd,OAAO,EAAEjW,KAAK;QACd,KAAK,EAAEC,GAAG;QACV,MAAM,EAAEwN;MACZ,CAAC;MACDA,IAAI,EAAE,MAAM;MACZjO,QAAQ,EAAE,MAAM;MAChBkO,KAAK,EAAE,IAAI;MACXjO,OAAO,EAAE,SAASA,OAAOA,CAAC7Y,IAAI,EAAE;QAC5BoY,IAAI,CAACqX,mBAAmB,CAACzvB,IAAI,EAAEgU,cAAc,CAACoN,iBAAiB,CAAC;MACpE,CAAC;MACD2F,KAAK,EAAE,SAASA,KAAKA,CAAC9N,OAAO,EAAE;QAC3Bb,IAAI,CAACc,SAAS,CAACD,OAAO,EAAEjF,cAAc,CAACoN,iBAAiB,CAAC;MAC7D;IACJ,CAAC,CAAC;EACN,CAAC;EAED,IAAI,CAACqO,mBAAmB,GAAG,UAAUzvB,IAAI,EAAE;IACvC,KAAK,IAAI6E,CAAC,IAAI7E,IAAI,CAAC+W,KAAK,EAAE;MACtB,IAAIjS,IAAI,GAAG9E,IAAI,CAAC+W,KAAK,CAAClS,CAAC,CAAC;MACxB,IAAI,CAAC8S,IAAI,CAAC5S,IAAI,CAAC;QAAE,MAAM,EAAED,IAAI,CAACf,IAAI;QAAE,QAAQ,EAAEe,IAAI,CAACG,MAAM;QAAE,MAAM,EAAEH,IAAI,CAAC+hB;MAAK,CAAC,CAAC;IACnF;IAEA,IAAI7mB,IAAI,CAAC8Y,KAAK,IAAI,CAAC,EAAE;MACjB,IAAI,CAACf,KAAK,GAAG,CAAC;MACd,IAAI,CAACkX,SAAS,GAAG,CAAC;IACtB,CAAC,MAAM;MACH,IAAI,IAAI,CAAClX,KAAK,IAAI,CAAC,EAAE,IAAI,CAACA,KAAK,GAAG/X,IAAI,CAAC8Y,KAAK;MAE5C,IAAI,CAACmW,SAAS,GAAGjvB,IAAI,CAACqZ,GAAG;MACzB,IAAI,IAAI,CAACtB,KAAK,GAAG,CAAC,IAAI,IAAI,CAACkX,SAAS,GAAG,IAAI,CAAClX,KAAK,EAAE,IAAI,CAACkX,SAAS,GAAG,IAAI,CAAClX,KAAK,GAAG,CAAC;IACtF;IAEA,IAAI,OAAO,IAAI,CAACiX,gBAAgB,IAAI,UAAU,EAAE,IAAI,CAACA,gBAAgB,CAAC,IAAI,CAAC;EAC/E,CAAC;EAED,IAAI,CAAC9V,SAAS,GAAG,UAAUD,OAAO,EAAE4N,IAAI,EAAE;IACtCxU,OAAO,CAACC,GAAG,CAAC,oCAAoC,GAAGuU,IAAI,CAACld,QAAQ,EAAE,CAAC;IACnE0I,OAAO,CAACC,GAAG,CAAC2G,OAAO,CAAC;IAEpB,IAAI,OAAO,IAAI,CAAC+V,gBAAgB,IAAI,UAAU,EAAE,IAAI,CAACA,gBAAgB,CAAC,IAAI,EAAE,OAAO,CAAC;EACxF,CAAC;AACL;;AAEA;AACA,SAASU,UAAUA,CAAA,EAAG;EAClB,IAAI,CAACnN,YAAY,GAAG,IAAI,CAAC,CAAC;EAC1B,IAAI,CAACC,gBAAgB,GAAG,IAAI,CAAC,CAAC;EAC9B,IAAI,CAACC,OAAO,CAAC,CAAC;EACd,IAAI,CAAC7K,MAAM;EACX,IAAI,CAACD,IAAI,CAAC,CAAC;EACX,IAAI,CAACgY,KAAK,CAAC,CAAC;EACZ,IAAI,CAACX,gBAAgB,CAAC,CAAC;;EAEvB,IAAI,CAAClL,WAAW,GAAG,YAAY,CAAC,CAAC;EAEjC,IAAI,CAAC7lB,IAAI,GAAG,YAAY;IACpB;IACA,IAAI,CAACskB,YAAY,GAAG,KAAK;IACzB,IAAI,IAAI,CAACE,OAAO,EAAE6F,YAAY,CAAC,IAAI,CAAC7F,OAAO,CAAC,CAAC,CAAC;EAClD,CAAC;;EAED,IAAI,CAACmN,SAAS,GAAG,YAAY;IACzB,IAAI,IAAI,CAACnN,OAAO,EAAE6F,YAAY,CAAC,IAAI,CAAC7F,OAAO,CAAC,CAAC,CAAC;;IAE9C,IAAI,CAAC,IAAI,CAACF,YAAY,EAAE;IAExB,IAAI,IAAI,CAACE,OAAO,EAAE6F,YAAY,CAAC,IAAI,CAAC7F,OAAO,CAAC,CAAC,CAAC;IAC9C,IAAI,CAAC,IAAI,CAACF,YAAY,EAAE;IAExB,IAAInK,IAAI,GAAG,IAAI;IACf,IAAI,IAAI,CAACpT,MAAM,EAAE;MACb,IAAIilB,MAAM,GAAGC,YAAY,CAACC,eAAe,CAAC,IAAI,CAACnlB,MAAM,CAAC;MACtD,IAAIilB,MAAM,IAAI,CAAC,EAAE,IAAI,CAACxH,OAAO,GAAG8F,UAAU,CAAC,YAAY;QACnDnQ,IAAI,CAAC0L,WAAW,EAAE;MACtB,CAAC,EAAE,IAAI,CAACtB,gBAAgB,CAAC,CAAC,KAAK,IAAIyH,MAAM,IAAI,CAAC,EAAE,IAAI,CAACxH,OAAO,GAAG8F,UAAU,CAAC,YAAY;QAClFnQ,IAAI,CAACsR,UAAU,EAAE;MACrB,CAAC,EAAE,IAAI,CAAClH,gBAAgB,CAAC;IAC7B,CAAC,MAAM;MACH;MACA,IAAIpK,IAAI,GAAG,IAAI;MACf,IAAIyX,KAAK,GAAG,IAAIxwB,IAAI,EAAE;MACtB,IAAIsR,IAAI,GAAGkf,KAAK,CAACC,QAAQ,EAAE,GAAG,GAAG,GAAGD,KAAK,CAACE,UAAU,EAAE;MACtD,IAAIF,KAAK,CAACG,MAAM,EAAE,GAAG,CAAC,IAAIH,KAAK,CAACG,MAAM,EAAE,GAAG,CAAC,IAAIrf,IAAI,IAAI,GAAG,IAAIA,IAAI,GAAG,IAAI,EAAE,IAAI,CAAC8R,OAAO,GAAG8F,UAAU,CAAC,YAAY;QAC9GnQ,IAAI,CAAC0L,WAAW,EAAE;MACtB,CAAC,EAAE,IAAI,CAACtB,gBAAgB,CAAC;IAC7B;EACJ,CAAC;EAED,IAAI,CAACyN,sBAAsB,GAAG,YAAY;IACtC,IAAI,IAAI,CAACjB,gBAAgB,EAAE,IAAI,CAACA,gBAAgB,CAAC,IAAI,CAAC;EAC1D,CAAC;AACL;;AAEA;AACA,SAAStP,SAASA,CAACza,MAAM,EAAE;EACvB,IAAI,CAACirB,SAAS,GAAGR,UAAU,CAAC,CAAC;EAC7B,IAAI,CAACQ,SAAS,EAAE;EAChB,OAAO,IAAI,CAACA,SAAS;EAErB,IAAI,CAAClrB,MAAM,GAAGC,MAAM,CAAC,CAAC;EACtB,IAAI,CAAC2S,MAAM,GAAG7Z,iBAAiB,CAACF,MAAM,GAAG,qBAAqB;EAC9D,IAAI,CAACka,KAAK,GAAG,EAAE,CAAC,CAAC;;EAEjB,IAAI,CAAC+L,WAAW,GAAG,YAAY;IAC3B,IAAI1L,IAAI,GAAG,IAAI;IACf,IAAIpY,IAAI,GAAG;MAAE8Y,KAAK,EAAE,IAAI,CAACf;IAAM,CAAC;IAChC,IAAI,IAAI,CAAC/S,MAAM,EAAEhF,IAAI,CAACiF,MAAM,GAAG,IAAI,CAACD,MAAM;IAE1CxH,QAAQ,CAACG,OAAO,CAAC8a,IAAI,CAAC;MAClBC,GAAG,EAAE,IAAI,CAACd,MAAM;MAChB5X,IAAI,EAAEA,IAAI;MACV6mB,IAAI,EAAE,MAAM;MACZjO,QAAQ,EAAE,MAAM;MAChBkO,KAAK,EAAE,IAAI;MACXjO,OAAO,EAAE,SAASA,OAAOA,CAAC7Y,IAAI,EAAE;QAC5BoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEgU,cAAc,CAACwN,eAAe,CAAC;MACvD,CAAC;MACDxI,IAAI,EAAE,SAASA,IAAIA,CAACC,OAAO,EAAE;QACzBb,IAAI,CAACc,SAAS,CAACD,OAAO,EAAEjF,cAAc,CAACwN,eAAe,CAAC;MAC3D;IACJ,CAAC,CAAC;EACN,CAAC;EAED,IAAI,CAACzI,QAAQ,GAAG,UAAU/Y,IAAI,EAAE4Y,QAAQ,EAAE;IAEtC,IAAI,CAACjB,IAAI,GAAG,EAAE;IACd,KAAK,IAAI9S,CAAC,IAAI7E,IAAI,CAACmwB,SAAS,EAAE;MAC1B,IAAIrrB,IAAI,GAAG9E,IAAI,CAACmwB,SAAS,CAACtrB,CAAC,CAAC;MAC5B,IAAI,CAAC8S,IAAI,CAAC5S,IAAI,CAAC;QACX1F,IAAI,EAAEyF,IAAI,CAAC1E,IAAI;QACfoD,IAAI,EAAEsB,IAAI,CAACf,IAAI;QACfiB,MAAM,EAAEF,IAAI,CAACG,MAAM;QACnB+B,IAAI,EAAElC,IAAI,CAAC6L,IAAI;QACfyf,OAAO,EAAEtrB,IAAI,CAACurB,OAAO;QACrBC,QAAQ,EAAExrB,IAAI,CAACyrB,QAAQ;QACvB7J,IAAI,EAAE5hB,IAAI,CAAC+hB;MACf,CAAC,CAAC;IACN;IAEA,IAAI,IAAI,CAACmI,gBAAgB,EAAE,IAAI,CAACA,gBAAgB,CAAC,IAAI,CAAC;IAEtD,IAAI,CAACY,SAAS,EAAE;EACpB,CAAC;EAED,IAAI,CAAC1W,SAAS,GAAG,UAAUD,OAAO,EAAEL,QAAQ,EAAE,CAAC,CAAC;AACpD;;AAEA;AACA,SAASgH,OAAOA,CAAC3a,MAAM,EAAE;EACrB,IAAI,CAACirB,SAAS,GAAGR,UAAU,CAAC,CAAC;EAC7B,IAAI,CAACQ,SAAS,EAAE;EAChB,OAAO,IAAI,CAACA,SAAS;EAErB,IAAI,CAAClrB,MAAM,GAAGC,MAAM,CAAC,CAAC;EACtB,IAAI,CAAC5F,IAAI,CAAC,CAAC;;EAEX,IAAI,CAACykB,WAAW,GAAG,YAAY;IAC3B,IAAI,CAACnM,IAAI,GAAG,IAAI;IAChB,IAAI,CAACgY,KAAK,GAAG,IAAI;IAEjB,IAAIvX,IAAI,GAAG,IAAI;IACf,IAAIoY,MAAM,GAAGzyB,iBAAiB,CAACD,WAAW,GAAG,qBAAqB,GAAG,IAAI,CAACuB,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC2F,MAAM,GAAG,OAAO;IAC5GqN,OAAO,CAACC,GAAG,CAAC,mCAAmC,EAAEke,MAAM,CAAC;IACxDhzB,QAAQ,CAACG,OAAO,CAAC8a,IAAI,CAAC;MAClBC,GAAG,EAAE8X,MAAM;MACX3J,IAAI,EAAE,KAAK;MACXjO,QAAQ,EAAE,MAAM;MAChBkO,KAAK,EAAE,IAAI;MACXjO,OAAO,EAAE,SAASA,OAAOA,CAAC7Y,IAAI,EAAE;QAC5BoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEgU,cAAc,CAAC4N,aAAa,CAAC;MACrD,CAAC;MACDmF,KAAK,EAAE,SAASA,KAAKA,CAAC9N,OAAO,EAAE;QAC3Bb,IAAI,CAACc,SAAS,CAACD,OAAO,EAAEjF,cAAc,CAAC4N,aAAa,CAAC;MACzD;IACJ,CAAC,CAAC;EACN,CAAC;EAED,IAAI,CAAC7I,QAAQ,GAAG,UAAU/Y,IAAI,EAAE4Y,QAAQ,EAAE;IACtC,IAAI,CAAC5Y,IAAI,CAACywB,GAAG,IAAI,CAACzwB,IAAI,CAACqT,IAAI,EAAE;MACzB,IAAI,CAAC4c,sBAAsB,EAAE;MAC7B;IACJ;IAEA,IAAIvf,MAAM,GAAG1Q,IAAI,CAACqT,IAAI,CAAC3C,MAAM;IAC7B,IAAIxM,KAAK,GAAGlE,IAAI,CAACqT,IAAI,CAACnP,KAAK;IAC3B,IAAIyM,IAAI,GAAG3Q,IAAI,CAACqT,IAAI,CAAC1C,IAAI;IACzB,IAAI1M,GAAG,GAAGjE,IAAI,CAACqT,IAAI,CAACpP,GAAG;IACvB,IAAIysB,IAAI,GAAG1wB,IAAI,CAACqT,IAAI,CAACqd,IAAI;IAEzB,IAAI,CAACA,IAAI,IAAI,CAACzsB,GAAG,IAAI,CAAC0M,IAAI,IAAI,CAACzM,KAAK,IAAI,CAACwM,MAAM,EAAE;MAC7C,IAAI,CAACuf,sBAAsB,EAAE;MAC7B;IACJ;IAEA,IAAIU,QAAQ,GAAG;MACXtxB,IAAI,EAAEW,IAAI,CAACI,IAAI;MAAE;MACjBuG,IAAI,EAAE3G,IAAI,CAACywB,GAAG,CAAChgB,IAAI;MAAE;MACrBmgB,KAAK,EAAE5wB,IAAI,CAACywB,GAAG,CAACvsB,KAAK;MAAE;MACvB4C,MAAM,EAAE9G,IAAI,CAACywB,GAAG,CAACngB,MAAM;MAAE;MACzBtL,MAAM,EAAEhF,IAAI,CAACiF,MAAM;MACnBzB,IAAI,EAAExD,IAAI,CAAC+D,IAAI;MACfqG,IAAI,EAAE,EAAE;MACRymB,SAAS,EAAE,EAAE,CAAC;IAClB,CAAC;;IAED,IAAIC,QAAQ,GAAG,IAAI3zB,KAAK,CAACQ,OAAO,EAAE,CAAC,CAAC;IACpC,IAAIozB,QAAQ,GAAG,CAAC,CAAC,CAAC;IAClB,IAAIC,QAAQ,GAAGvS,IAAI,CAACwS,GAAG,CAACtgB,IAAI,CAAC4H,MAAM,EAAEtU,GAAG,CAACsU,MAAM,EAAEmY,IAAI,CAACnY,MAAM,EAAErU,KAAK,CAACqU,MAAM,EAAE7H,MAAM,CAAC6H,MAAM,CAAC;IAC1F,KAAK,IAAI1T,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGmsB,QAAQ,EAAE,EAAEnsB,CAAC,EAAE;MAC/B,IAAIqsB,KAAK,GAAG;QAAElqB,IAAI,EAAE2J,IAAI,CAAC9L,CAAC,CAAC;QAAEnB,GAAG,EAAEO,GAAG,CAACY,CAAC,CAAC;QAAEssB,IAAI,EAAE,EAAE;QAAExtB,KAAK,EAAEO,KAAK,CAACW,CAAC,CAAC;QAAEkC,MAAM,EAAE2J,MAAM,CAAC7L,CAAC;MAAE,CAAC;MACxF,IAAI6rB,IAAI,CAAC7rB,CAAC,CAAC,KAAK,CAAC,EAAEqsB,KAAK,CAACC,IAAI,GAAG,GAAG,CAAC,KAAK,IAAIT,IAAI,CAAC7rB,CAAC,CAAC,KAAK,CAAC,EAAEqsB,KAAK,CAACC,IAAI,GAAG,GAAG;MAE5E,IAAID,KAAK,CAAClqB,IAAI,GAAG,MAAM,EAAEkqB,KAAK,CAAClqB,IAAI,GAAG,MAAM,CAAC,CAAC;;MAE9C2pB,QAAQ,CAACvmB,IAAI,CAACrF,IAAI,CAACmsB,KAAK,CAAC;MACzB,IAAIE,SAAS;MACb,IAAIN,QAAQ,CAAClnB,GAAG,CAACsnB,KAAK,CAACvtB,KAAK,CAAC,EAAE;QAC3BytB,SAAS,GAAGN,QAAQ,CAAChnB,GAAG,CAAConB,KAAK,CAACvtB,KAAK,CAAC;QACrCytB,SAAS,CAAC1tB,GAAG,IAAIwtB,KAAK,CAACxtB,GAAG,CAAC,CAAC;MAChC,CAAC,MAAM;QACH0tB,SAAS,GAAG;UAAE1tB,GAAG,EAAEwtB,KAAK,CAACxtB,GAAG;UAAEC,KAAK,EAAEutB,KAAK,CAACvtB,KAAK;UAAE0tB,MAAM,EAAE,CAAC;UAAEC,OAAO,EAAE,CAAC;UAAEC,OAAO,EAAE;QAAE,CAAC;QACrFT,QAAQ,CAACjnB,GAAG,CAACqnB,KAAK,CAACvtB,KAAK,EAAEytB,SAAS,CAAC;MACxC;MAEA,IAAIV,IAAI,CAAC7rB,CAAC,CAAC,KAAK,CAAC,EAAEusB,SAAS,CAACC,MAAM,IAAIH,KAAK,CAACxtB,GAAG,CAAC,KAAK,IAAIgtB,IAAI,CAAC7rB,CAAC,CAAC,KAAK,CAAC,EAAEusB,SAAS,CAACE,OAAO,IAAIJ,KAAK,CAACxtB,GAAG,CAAC,KAAK0tB,SAAS,CAACG,OAAO,IAAIL,KAAK,CAACxtB,GAAG;MAE3IqtB,QAAQ,IAAIG,KAAK,CAACxtB,GAAG;IACzB;IAEA,IAAI8tB,2BAA2B,GAAG,IAAI;IACtC,IAAIC,mBAAmB,GAAG,KAAK;IAC/B,IAAIC,gBAAgB,GAAGniB,SAAS;IAEhC,IAAI;MACA,KAAK,IAAIoiB,WAAW,GAAG,CAAC,CAAC,EAAE10B,aAAa,CAACU,OAAO,EAAEmzB,QAAQ,CAAC,EAAEc,OAAO,EAAE,EAAEJ,2BAA2B,GAAG,CAACI,OAAO,GAAGD,WAAW,CAACjiB,IAAI,EAAE,EAAEC,IAAI,CAAC,EAAE6hB,2BAA2B,GAAG,IAAI,EAAE;QAC5K,IAAI1sB,IAAI,GAAG8sB,OAAO,CAACh1B,KAAK;QAExB,IAAIgwB,QAAQ,GAAG9nB,IAAI,CAAC,CAAC,CAAC;QACtB,IAAIisB,QAAQ,GAAG,CAAC,EAAEnE,QAAQ,CAACiF,UAAU,GAAGjF,QAAQ,CAAClpB,GAAG,GAAGqtB,QAAQ;QAC/DJ,QAAQ,CAACE,SAAS,CAAC9rB,IAAI,CAAC6nB,QAAQ,CAAC;MACrC;IACJ,CAAC,CAAC,OAAOhd,GAAG,EAAE;MACV6hB,mBAAmB,GAAG,IAAI;MAC1BC,gBAAgB,GAAG9hB,GAAG;IAC1B,CAAC,SAAS;MACN,IAAI;QACA,IAAI,CAAC4hB,2BAA2B,IAAIG,WAAW,CAAC9hB,MAAM,EAAE;UACpD8hB,WAAW,CAAC9hB,MAAM,EAAE;QACxB;MACJ,CAAC,SAAS;QACN,IAAI4hB,mBAAmB,EAAE;UACrB,MAAMC,gBAAgB;QAC1B;MACJ;IACJ;IAEAf,QAAQ,CAACE,SAAS,CAACiB,IAAI,CAAC,UAAU3wB,CAAC,EAAE4wB,CAAC,EAAE;MACpC,OAAOA,CAAC,CAACpuB,KAAK,GAAGxC,CAAC,CAACwC,KAAK;IAC5B,CAAC,CAAC,CAAC,CAAC;;IAEJ,IAAI,CAACgU,IAAI,GAAGgZ,QAAQ;IAEpB,IAAI,CAACV,sBAAsB,EAAE;EACjC,CAAC;EAED,IAAI,CAAC/W,SAAS,GAAG,UAAUD,OAAO,EAAEL,QAAQ,EAAE;IAC1CvG,OAAO,CAACC,GAAG,CAAC,8BAA8B,GAAG2G,OAAO,CAACgR,MAAM,GAAG,cAAc,GAAGhR,OAAO,CAAC+Y,UAAU,GAAG,gBAAgB,GAAG/Y,OAAO,CAACgZ,YAAY,CAAC;IAE5I,IAAI,CAACtC,KAAK,GAAG;MAAEuC,MAAM,EAAEjZ,OAAO,CAACgR,MAAM;MAAEkI,OAAO,EAAElZ,OAAO,CAACgZ;IAAa,CAAC;IACtE,IAAI,CAAChC,sBAAsB,EAAE;EACjC,CAAC;AACL;;AAEA;AACA,SAASnQ,WAAWA,CAAC7a,MAAM,EAAE;EACzB,IAAI,CAACirB,SAAS,GAAGR,UAAU,CAAC,CAAC;EAC7B,IAAI,CAACQ,SAAS,EAAE;EAChB,OAAO,IAAI,CAACA,SAAS;EAErB,IAAI,CAACtY,MAAM,GAAG7Z,iBAAiB,CAACF,MAAM,GAAG,uBAAuB;EAChE,IAAI,CAACga,QAAQ,GAAG,EAAE,CAAC,CAAC;EACpB,IAAI,CAACua,KAAK,GAAG,CAAC,CAAC,CAAC;EAChB,IAAI,CAACC,UAAU,CAAC,CAAC;EACjB,IAAI,CAACpzB,KAAK,CAAC,CAAC;EACZ,IAAI,CAAC+F,MAAM,GAAGC,MAAM;EACpB,IAAI,CAACqtB,SAAS,GAAG,CAAC,CAAC,CAAC;;EAEpB,IAAI,CAAC5a,KAAK,GAAG,IAAI3Y,KAAK,EAAE,CAAC,CAAC;EAC1B,IAAI,CAAC4Y,IAAI,GAAG,IAAI5Y,KAAK,EAAE,CAAC,CAAC;;EAEzB,IAAI,CAACwzB,QAAQ,CAAC,CAAC;;EAEf,IAAI,CAACC,QAAQ,GAAG,UAAUC,QAAQ,EAAE;IAChC,IAAI,CAAC/a,KAAK,GAAG,IAAI3Y,KAAK,EAAE;IACxB,KAAK,IAAI8F,CAAC,IAAI4tB,QAAQ,EAAE;MACpB,IAAI3tB,IAAI,GAAG2tB,QAAQ,CAAC5tB,CAAC,CAAC;MACtB,IAAId,IAAI,GAAG2S,kBAAkB,CAACE,YAAY,CAAC9R,IAAI,CAAC;MAChD,IAAIf,IAAI,IAAI,IAAI,EAAE;MAElB,IAAI,CAAC2T,KAAK,CAAC3S,IAAI,CAAChB,IAAI,CAAC;IACzB;IACA;;IAEA,OAAO,IAAI,CAAC2T,KAAK,CAACa,MAAM,GAAG,CAAC;EAChC,CAAC;EAED,IAAI,CAACma,QAAQ,GAAG,UAAU7b,OAAO,EAAEjY,KAAK,EAAE;IACtC,IAAI,CAACK,KAAK,GAAG,IAAI;IACjB,IAAI,CAACozB,UAAU,GAAG,IAAI;IAEtB,IAAItuB,IAAI,GAAG2S,kBAAkB,CAACE,YAAY,CAACC,OAAO,CAAC;IACnD,IAAI9S,IAAI,IAAI,IAAI,EAAE,OAAO,KAAK;IAE9B,IAAI,CAACsuB,UAAU,GAAGtuB,IAAI;IACtB,IAAI,CAAC9E,KAAK,GAAGL,KAAK;IAClB,OAAO,IAAI;EACf,CAAC;EAED,IAAI,CAACklB,WAAW,GAAG,YAAY;IAC3B,IAAI,CAACnM,IAAI,GAAG,EAAE;IACd,IAAIS,IAAI,GAAG,IAAI;IAEf5a,QAAQ,CAACG,OAAO,CAAC8a,IAAI,CAAC;MAClBC,GAAG,EAAE,IAAI,CAACd,MAAM;MAChB5X,IAAI,EAAE;QACF,QAAQ,EAAE,IAAI,CAACgF,MAAM;QACrB,OAAO,EAAE,IAAI,CAAC0S,KAAK;QACnB,OAAO,EAAE,IAAI,CAACzY,KAAK;QACnB,YAAY,EAAE,IAAI,CAACozB,UAAU;QAC7B,OAAO,EAAE,IAAI,CAACD,KAAK;QACnB,KAAK,EAAE,IAAI,CAACA,KAAK,GAAG,IAAI,CAACva,QAAQ;QACjC,WAAW,EAAE,IAAI,CAACya;MACtB,CAAC;MACDzL,IAAI,EAAE,MAAM;MACZjO,QAAQ,EAAE,MAAM;MAChBC,OAAO,EAAE,SAASA,OAAOA,CAAC7Y,IAAI,EAAE;QAC5BoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEgU,cAAc,CAACuN,iBAAiB,CAAC;MACzD,CAAC;MACDwF,KAAK,EAAE,SAASA,KAAKA,CAAC9N,OAAO,EAAE;QAC3Bb,IAAI,CAACc,SAAS,CAACD,OAAO,EAAEjF,cAAc,CAACuN,iBAAiB,CAAC;MAC7D;IACJ,CAAC,CAAC;EACN,CAAC;EAED,IAAI,CAACxI,QAAQ,GAAG,UAAU/Y,IAAI,EAAE4Y,QAAQ,EAAE;IACtC,KAAK,IAAI/T,CAAC,IAAI7E,IAAI,CAAC+W,KAAK,EAAE;MACtB,IAAIjS,IAAI,GAAG9E,IAAI,CAAC+W,KAAK,CAAClS,CAAC,CAAC;MACxB,IAAIC,IAAI,CAACG,MAAM,IAAI,IAAI,EAAE;MAEzB,IAAI8R,KAAK,GAAG,IAAIrQ,SAAS,CAAC5B,IAAI,CAACG,MAAM,CAAC;MACtC8R,KAAK,CAAChX,OAAO,CAAC+E,IAAI,CAAC;MAEnB,IAAI,CAAC6S,IAAI,CAAC5S,IAAI,CAACgS,KAAK,CAAC;IACzB;IAEA,IAAI,CAACwb,QAAQ,GAAG;MAAExa,KAAK,EAAE/X,IAAI,CAAC8Y,KAAK;MAAEsZ,KAAK,EAAEpyB,IAAI,CAACoZ,KAAK;MAAEuZ,GAAG,EAAE3yB,IAAI,CAACqZ;IAAI,CAAC;IAEvE,IAAI,OAAO,IAAI,CAAC2V,gBAAgB,IAAI,UAAU,EAAE,IAAI,CAACA,gBAAgB,CAAC,IAAI,CAAC;IAE3E,IAAI,CAACY,SAAS,EAAE,CAAC,CAAC;EACtB,CAAC;;EAED,IAAI,CAAC1W,SAAS,GAAG,UAAU0Z,OAAO,EAAEha,QAAQ,EAAE,CAAC,CAAC;AACpD;;AAEA;AACA,SAASoH,QAAQA,CAAA,EAAG;EAChB,IAAI,CAACkQ,SAAS,GAAGR,UAAU,CAAC,CAAC;EAC7B,IAAI,CAACQ,SAAS,EAAE;EAChB,OAAO,IAAI,CAACA,SAAS;EAErB,IAAI,CAAC2C,SAAS,GAAG,CAAC,CAAC,CAAC;EACpB,IAAI,CAAC9a,KAAK,GAAG,EAAE;EAEf,IAAI,CAACsa,UAAU,GAAG,UAAU,CAAC,CAAC;EAC9B,IAAI,CAACpzB,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC;EACjB,IAAI,CAACyY,KAAK,GAAG,CAAC,QAAQ,EAAE,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,CAAC;EAEnF,IAAI,CAACE,MAAM,GAAG7Z,iBAAiB,CAACF,MAAM,GAAG,oBAAoB;EAE7D,IAAI,CAAC20B,QAAQ,GAAG,UAAU7zB,KAAK,EAAE,CAAC,CAAC;EAEnC,IAAI,CAAC0Y,WAAW,GAAG,YAAY;IAC3B,IAAIe,IAAI,GAAG,IAAI;IAEf5a,QAAQ,CAACG,OAAO,CAAC8a,IAAI,CAAC;MAClBC,GAAG,EAAE,IAAI,CAACd,MAAM;MAChB5X,IAAI,EAAE;QACF,WAAW,EAAE,IAAI,CAAC6yB,SAAS;QAC3B,OAAO,EAAE,CAAC;QACV,KAAK,EAAE,IAAI,CAAC9a,KAAK;QACjB,OAAO,EAAE,IAAI,CAACL,KAAK;QACnB,YAAY,EAAE,IAAI,CAAC2a,UAAU;QAC7B,OAAO,EAAE,IAAI,CAACpzB;MAClB,CAAC;MACD4nB,IAAI,EAAE,MAAM;MACZjO,QAAQ,EAAE,MAAM;MAChBkO,KAAK,EAAE,IAAI;MACXjO,OAAO,EAAE,SAASA,OAAOA,CAAC7Y,IAAI,EAAE;QAC5BoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEgU,cAAc,CAAC8e,cAAc,CAAC;MACtD,CAAC;MACD9Z,IAAI,EAAE,SAASA,IAAIA,CAACC,OAAO,EAAE;QACzBb,IAAI,CAACc,SAAS,CAACD,OAAO,EAAEjF,cAAc,CAAC8e,cAAc,CAAC;MAC1D;IACJ,CAAC,CAAC;EACN,CAAC;EAED,IAAI,CAAC/Z,QAAQ,GAAG,UAAUQ,QAAQ,EAAEX,QAAQ,EAAE;IAC1C,IAAI5Y,IAAI,GAAGuZ,QAAQ;IAEnB,IAAI,CAAC5B,IAAI,GAAG,EAAE;IACd,IAAI,CAACob,QAAQ,GAAG/yB,IAAI,CAAC8Y,KAAK;IAC1B,KAAK,IAAIjU,CAAC,IAAI7E,IAAI,CAAC+W,KAAK,EAAE;MACtB,IAAIjS,IAAI,GAAG9E,IAAI,CAAC+W,KAAK,CAAClS,CAAC,CAAC;MACxB,IAAIC,IAAI,CAAC4N,QAAQ,IAAI,IAAI,EAAE;QACvB,IAAIA,QAAQ,GAAG;UACXxU,IAAI,EAAE4G,IAAI,CAAC4N,QAAQ,CAACE,IAAI;UACxB3U,IAAI,EAAE6G,IAAI,CAAC4N,QAAQ,CAACI,IAAI;UACxB3U,EAAE,EAAE2G,IAAI,CAAC4N,QAAQ,CAACC,EAAE;UACpBvU,SAAS,EAAE0G,IAAI,CAAC4N,QAAQ,CAACG,SAAS;UAClCvU,SAAS,EAAE;YAAEkF,IAAI,EAAEsB,IAAI,CAAC4N,QAAQ,CAACM,SAAS,CAACjP,IAAI;YAAEiB,MAAM,EAAEF,IAAI,CAAC4N,QAAQ,CAACM,SAAS,CAAC/N;UAAO,CAAC;UACzF5G,OAAO,EAAE;YAAEmF,IAAI,EAAEsB,IAAI,CAAC4N,QAAQ,CAACK,OAAO,CAAChP,IAAI;YAAEiB,MAAM,EAAEF,IAAI,CAAC4N,QAAQ,CAACK,OAAO,CAAC9N;UAAO;QACtF,CAAC;MACL;MAAC;MACD,IAAI,CAAC0S,IAAI,CAAC5S,IAAI,CAAC;QACXvB,IAAI,EAAEsB,IAAI,CAACf,IAAI;QACfiB,MAAM,EAAEF,IAAI,CAACG,MAAM;QACnBmC,QAAQ,EAAEtC,IAAI,CAAC8L,QAAQ;QACvBoiB,QAAQ,EAAEluB,IAAI,CAACmuB,QAAQ;QACvBzrB,QAAQ,EAAEkL;MACd,CAAC,CAAC;IACN;IAEA,IAAI,IAAI,CAACsc,gBAAgB,EAAE,IAAI,CAACA,gBAAgB,CAAC,IAAI,CAAC;IAEtD,IAAI,CAACY,SAAS,EAAE;EACpB,CAAC;EAED,IAAI,CAAC1W,SAAS,GAAG,UAAUD,OAAO,EAAEL,QAAQ,EAAE,CAAC,CAAC;AACpD;;AAEA;AACA,SAASsH,WAAWA,CAACjb,MAAM,EAAE;EACzB,IAAI,CAACirB,SAAS,GAAGR,UAAU,CAAC,CAAC;EAC7B,IAAI,CAACQ,SAAS,EAAE;EAChB,OAAO,IAAI,CAACA,SAAS;EAErB,IAAI,CAACtY,MAAM,GAAG7Z,iBAAiB,CAACF,MAAM,GAAG,uBAAuB;EAChE,IAAI,CAACmH,MAAM,GAAG,CAACC,MAAM,CAAC,CAAC,CAAC;EACxB,IAAI,CAAC0S,IAAI,GAAG,EAAE,CAAC,CAAC;;EAEhB,IAAI,CAACmM,WAAW,GAAG,YAAY;IAC3B,IAAI,CAACnM,IAAI,GAAG,EAAE;IACd,IAAIS,IAAI,GAAG,IAAI;IAEf5a,QAAQ,CAACG,OAAO,CAAC8a,IAAI,CAAC;MAClBC,GAAG,EAAE,IAAI,CAACd,MAAM;MAChB5X,IAAI,EAAE;QAAE,QAAQ,EAAE,IAAI,CAACgF;MAAO,CAAC;MAC/B6hB,IAAI,EAAE,MAAM;MACZjO,QAAQ,EAAE,MAAM;MAChBC,OAAO,EAAE,SAASA,OAAOA,CAAC7Y,IAAI,EAAE;QAC5BoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEgU,cAAc,CAAC8N,iBAAiB,CAAC;MACzD,CAAC;MACDiF,KAAK,EAAE,SAASA,KAAKA,CAAC9N,OAAO,EAAE;QAC3Bb,IAAI,CAACc,SAAS,CAACD,OAAO,EAAEjF,cAAc,CAAC8N,iBAAiB,CAAC;MAC7D;IACJ,CAAC,CAAC;EACN,CAAC;EAED,IAAI,CAAC/I,QAAQ,GAAG,UAAU/Y,IAAI,EAAE4Y,QAAQ,EAAE;IACtC,KAAK,IAAI/T,CAAC,IAAI7E,IAAI,CAACiF,MAAM,EAAE;MACvB,IAAIH,IAAI,GAAG;QAAEE,MAAM,EAAEhF,IAAI,CAACiF,MAAM,CAACJ,CAAC,CAAC;QAAEquB,KAAK,EAAElzB,IAAI,CAACmzB,aAAa,CAACtuB,CAAC;MAAE,CAAC;MACnE,IAAI,CAAC8S,IAAI,CAAC5S,IAAI,CAACD,IAAI,CAAC;IACxB;IAEA,IAAI,OAAO,IAAI,CAACkqB,gBAAgB,IAAI,UAAU,EAAE,IAAI,CAACA,gBAAgB,CAAC,IAAI,CAAC;EAC/E,CAAC;EAED,IAAI,CAAC9V,SAAS,GAAG,UAAU0Z,OAAO,EAAEha,QAAQ,EAAE,CAAC,CAAC;AACpD;;AAEA;AACA,SAASwH,cAAcA,CAACnb,MAAM,EAAE;EAC5B,IAAI,CAACirB,SAAS,GAAGR,UAAU,CAAC,CAAC;EAC7B,IAAI,CAACQ,SAAS,EAAE;EAChB,OAAO,IAAI,CAACA,SAAS;EAErB,IAAI,CAAClrB,MAAM,GAAGC,MAAM,CAAC,CAAC;;EAEtB,IAAI,CAAC6e,WAAW,GAAG,YAAY;IAC3B,IAAI,CAACnM,IAAI,GAAG,IAAI;IAChB,IAAI,CAACgY,KAAK,GAAG,IAAI;IAEjB,IAAIvX,IAAI,GAAG,IAAI;IAEf,IAAIoY,MAAM,GAAGzyB,iBAAiB,CAACD,WAAW,GAAG,wBAAwB,GAAG,IAAI,CAACkH,MAAM,GAAG,OAAO;IAC7FqN,OAAO,CAACC,GAAG,CAAC,0CAA0C,EAAEke,MAAM,CAAC;IAC/DhzB,QAAQ,CAACG,OAAO,CAAC8a,IAAI,CAAC;MAClBC,GAAG,EAAE8X,MAAM;MACX3J,IAAI,EAAE,KAAK;MACXjO,QAAQ,EAAE,MAAM;MAChBkO,KAAK,EAAE,IAAI;MACXjO,OAAO,EAAE,SAASA,OAAOA,CAAC7Y,IAAI,EAAE;QAC5BoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEgU,cAAc,CAAC+N,gBAAgB,CAAC;MACxD,CAAC;MACDgF,KAAK,EAAE,SAASA,KAAKA,CAAC9N,OAAO,EAAE;QAC3Bb,IAAI,CAACc,SAAS,CAACD,OAAO,EAAEjF,cAAc,CAAC+N,gBAAgB,CAAC;MAC5D;IACJ,CAAC,CAAC;EACN,CAAC;EAED,IAAI,CAAChJ,QAAQ,GAAG,UAAU/Y,IAAI,EAAE4Y,QAAQ,EAAE;IACtC,IAAI,CAAC5Y,IAAI,CAACiF,MAAM,IAAI,CAACjF,IAAI,CAAC+D,IAAI,EAAE;MAC5B,IAAI,CAACksB,sBAAsB,EAAE;MAC7B;IACJ;IAEA,IAAIvf,MAAM,GAAG1Q,IAAI,CAAC0Q,MAAM;IACxB,IAAI0iB,KAAK,GAAGpzB,IAAI,CAACozB,KAAK;IACtB,IAAIhzB,IAAI,GAAGJ,IAAI,CAACI,IAAI;IACpB,IAAImQ,IAAI,GAAGvQ,IAAI,CAACuQ,IAAI;IACpB,IAAIC,GAAG,GAAGxQ,IAAI,CAACwQ,GAAG;IAClB,IAAIC,IAAI,GAAGzQ,IAAI,CAACyQ,IAAI;IACpB,IAAIxM,GAAG,GAAGjE,IAAI,CAACiE,GAAG;IAClB,IAAIqM,MAAM,GAAGtQ,IAAI,CAACsQ,MAAM;IAExB,IAAI,CAACI,MAAM,IAAI,CAAC0iB,KAAK,IAAI,CAAChzB,IAAI,IAAI,CAACmQ,IAAI,IAAI,CAACC,GAAG,IAAI,CAACC,IAAI,IAAI,CAACxM,GAAG,IAAI,CAACqM,MAAM,EAAE;MACzE,IAAI,CAAC2f,sBAAsB,EAAE;MAC7B;IACJ;IAEA,IAAIoD,WAAW,GAAG;MACdC,UAAU,EAAEtzB,IAAI,CAACuzB,MAAM;MACvBvuB,MAAM,EAAEhF,IAAI,CAACiF,MAAM;MACnBzB,IAAI,EAAExD,IAAI,CAAC+D,IAAI;MACfyvB,KAAK,EAAE;IACX,CAAC;IAED,KAAK,IAAI3uB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGzE,IAAI,CAACmY,MAAM,EAAE,EAAE1T,CAAC,EAAE;MAClC,IAAIC,IAAI,GAAG;QAAEzF,IAAI,EAAEe,IAAI,CAACyE,CAAC,CAAC;QAAEiC,MAAM,EAAEwJ,MAAM,CAACzL,CAAC,CAAC;QAAE8B,IAAI,EAAE8J,IAAI,CAAC5L,CAAC,CAAC;QAAE+B,IAAI,EAAE2J,IAAI,CAAC1L,CAAC,CAAC;QAAEgC,GAAG,EAAE2J,GAAG,CAAC3L,CAAC,CAAC;QAAE+rB,KAAK,EAAEwC,KAAK,CAACvuB,CAAC,CAAC;QAAEnB,GAAG,EAAEO,GAAG,CAACY,CAAC,CAAC;QAAEkC,MAAM,EAAE2J,MAAM,CAAC7L,CAAC;MAAE,CAAC;MAE3IwuB,WAAW,CAACG,KAAK,CAACzuB,IAAI,CAACD,IAAI,CAAC;IAChC;IAEA,IAAI,CAAC6S,IAAI,GAAG0b,WAAW;IAEvB,IAAI,CAACpD,sBAAsB,EAAE;EACjC,CAAC;EAED,IAAI,CAAC/W,SAAS,GAAG,UAAUD,OAAO,EAAEL,QAAQ,EAAE;IAC1CvG,OAAO,CAACC,GAAG,CAAC,qCAAqC,GAAG2G,OAAO,CAACgR,MAAM,GAAG,cAAc,GAAGhR,OAAO,CAAC+Y,UAAU,GAAG,gBAAgB,GAAG/Y,OAAO,CAACgZ,YAAY,CAAC;IAEnJ,IAAI,CAACtC,KAAK,GAAG;MAAEuC,MAAM,EAAEjZ,OAAO,CAACgR,MAAM;MAAEkI,OAAO,EAAElZ,OAAO,CAACgZ;IAAa,CAAC;IACtE,IAAI,CAAChC,sBAAsB,EAAE;EACjC,CAAC;EAED,IAAI,CAACwD,WAAW,GAAG,YAAY;IAC3B,IAAI,CAAC,IAAI,CAAC9b,IAAI,IAAI,CAAC,IAAI,CAACA,IAAI,CAAC6b,KAAK,EAAE,OAAO,EAAE;IAE7C,IAAIE,MAAM,GAAG,IAAI,CAACC,gBAAgB,CAAC,CAAC,CAAC;IACrC,OAAOD,MAAM;EACjB,CAAC;EAED,IAAI,CAACE,YAAY,GAAG,YAAY;IAC5B,IAAI,CAAC,IAAI,CAACjc,IAAI,IAAI,CAAC,IAAI,CAACA,IAAI,CAAC6b,KAAK,EAAE,OAAO,EAAE;IAE7C,IAAIE,MAAM,GAAG,IAAI,CAACC,gBAAgB,CAAC,CAAC,CAAC;IACrC,OAAOD,MAAM;EACjB,CAAC;;EAED;EACA,IAAI,CAACC,gBAAgB,GAAG,UAAUE,MAAM,EAAE;IACtC,IAAIH,MAAM,GAAG,IAAI30B,KAAK,EAAE;IACxB,IAAI+0B,KAAK,GAAG,CAAC;IACb,IAAIC,SAAS,GAAG,CAAC;IACjB,IAAIC,OAAO,GAAG,IAAI;IAClB,KAAK,IAAInvB,CAAC,IAAI,IAAI,CAAC8S,IAAI,CAAC6b,KAAK,EAAE;MAC3B,IAAIS,SAAS,GAAG,KAAK;MACrB,IAAIC,OAAO,GAAG,IAAI,CAACvc,IAAI,CAAC6b,KAAK,CAAC3uB,CAAC,CAAC;MAEhC,QAAQgvB,MAAM;QACV,KAAK,CAAC;UACF;UACA,IAAIM,UAAU,GAAG,IAAI,CAACC,SAAS,CAACF,OAAO,CAAC70B,IAAI,CAAC;UAC7C,IAAI80B,UAAU,IAAIJ,SAAS,EAAE;YACzBE,SAAS,GAAG,IAAI;YAChBF,SAAS,GAAGI,UAAU;UAC1B;UACA;QACJ,KAAK,CAAC;UACF;UACA,IAAI1tB,QAAQ,CAACytB,OAAO,CAAC70B,IAAI,GAAG,GAAG,CAAC,IAAIoH,QAAQ,CAACstB,SAAS,GAAG,GAAG,CAAC,EAAE;YAC3DE,SAAS,GAAG,IAAI;YAChBF,SAAS,GAAGG,OAAO,CAAC70B,IAAI;UAC5B;UACA;QACJ,KAAK,CAAC;UACF;UACA,IAAIoH,QAAQ,CAACytB,OAAO,CAAC70B,IAAI,GAAG,KAAK,CAAC,IAAIoH,QAAQ,CAACstB,SAAS,GAAG,KAAK,CAAC,EAAE;YAC/DE,SAAS,GAAG,IAAI;YAChBF,SAAS,GAAGG,OAAO,CAAC70B,IAAI;UAC5B;UACA;MAAM;MAGd,IAAI40B,SAAS,EAAE;QACXD,OAAO,GAAG,CAAC,CAAC;QACZA,OAAO,CAAC30B,IAAI,GAAG60B,OAAO,CAAC70B,IAAI;QAC3Bq0B,MAAM,CAAC3uB,IAAI,CAACivB,OAAO,CAAC;QAEpB,IAAIE,OAAO,CAACvtB,IAAI,IAAI,IAAI,IAAIutB,OAAO,CAACtD,KAAK,IAAI,IAAI,EAAE;QAEnDoD,OAAO,CAACrtB,IAAI,GAAGutB,OAAO,CAACvtB,IAAI;QAC3BqtB,OAAO,CAACptB,IAAI,GAAGstB,OAAO,CAACttB,IAAI;QAC3BotB,OAAO,CAACntB,GAAG,GAAGqtB,OAAO,CAACrtB,GAAG;QACzBmtB,OAAO,CAACltB,MAAM,GAAGotB,OAAO,CAACptB,MAAM;QAC/BktB,OAAO,CAACpD,KAAK,GAAGsD,OAAO,CAACtD,KAAK;QAC7BoD,OAAO,CAACtwB,GAAG,GAAGwwB,OAAO,CAACxwB,GAAG;QACzBswB,OAAO,CAACjtB,MAAM,GAAGmtB,OAAO,CAACntB,MAAM;MACnC,CAAC,MAAM;QACH,IAAIitB,OAAO,IAAI,IAAI,EAAE;QACrB,IAAIE,OAAO,CAACvtB,IAAI,IAAI,IAAI,IAAIutB,OAAO,CAACtD,KAAK,IAAI,IAAI,EAAE;QAEnD,IAAIoD,OAAO,CAACrtB,IAAI,IAAI,IAAI,IAAIqtB,OAAO,CAACpD,KAAK,IAAI,IAAI,EAAE;UAC/CoD,OAAO,CAACrtB,IAAI,GAAGutB,OAAO,CAACvtB,IAAI;UAC3BqtB,OAAO,CAACptB,IAAI,GAAGstB,OAAO,CAACttB,IAAI;UAC3BotB,OAAO,CAACntB,GAAG,GAAGqtB,OAAO,CAACrtB,GAAG;UACzBmtB,OAAO,CAACltB,MAAM,GAAGotB,OAAO,CAACptB,MAAM;UAC/BktB,OAAO,CAACpD,KAAK,GAAGsD,OAAO,CAACtD,KAAK;UAC7BoD,OAAO,CAACtwB,GAAG,GAAGwwB,OAAO,CAACxwB,GAAG;UACzBswB,OAAO,CAACjtB,MAAM,GAAGmtB,OAAO,CAACntB,MAAM;QACnC,CAAC,MAAM;UACH,IAAIitB,OAAO,CAACptB,IAAI,GAAGstB,OAAO,CAACttB,IAAI,EAAEotB,OAAO,CAACptB,IAAI,GAAGstB,OAAO,CAACttB,IAAI;UAC5D,IAAIotB,OAAO,CAACntB,GAAG,GAAGqtB,OAAO,CAACrtB,GAAG,EAAEmtB,OAAO,CAACntB,GAAG,GAAGqtB,OAAO,CAACrtB,GAAG;UAExDmtB,OAAO,CAACpD,KAAK,GAAGsD,OAAO,CAACtD,KAAK;UAC7BoD,OAAO,CAACtwB,GAAG,IAAIwwB,OAAO,CAACxwB,GAAG;UAC1BswB,OAAO,CAACjtB,MAAM,IAAImtB,OAAO,CAACntB,MAAM;UAChCitB,OAAO,CAAC30B,IAAI,GAAG60B,OAAO,CAAC70B,IAAI;QAC/B;MACJ;IACJ;IAEA,OAAOq0B,MAAM;EACjB,CAAC;EAED,IAAI,CAACU,SAAS,GAAG,UAAUx3B,KAAK,EAAE;IAC9B,IAAIwD,IAAI,GAAG,IAAIf,IAAI,CAACoH,QAAQ,CAAC7J,KAAK,GAAG,KAAK,CAAC,EAAEA,KAAK,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,EAAEA,KAAK,GAAG,GAAG,CAAC;IAChF,IAAI6zB,GAAG,GAAGrwB,IAAI,CAAC4vB,MAAM,EAAE;IACvB,IAAIS,GAAG,IAAI,CAAC,EAAE,OAAO7zB,KAAK;IAE1B,IAAIy3B,SAAS,GAAGj0B,IAAI,CAACk0B,OAAO,EAAE;IAC9B,IAAI7D,GAAG,GAAG,CAAC,EAAE;MACT,IAAI8D,aAAa,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,IAAI,CAAC,GAAG9D,GAAG,CAAC;MACnD4D,SAAS,IAAIE,aAAa;IAC9B,CAAC,MAAM;MACH,IAAIA,aAAa,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,IAAI9D,GAAG,GAAG,CAAC,CAAC;MACnD4D,SAAS,IAAIE,aAAa;IAC9B;IAEAn0B,IAAI,CAACo0B,OAAO,CAACH,SAAS,CAAC;IACvB,IAAIF,UAAU,GAAG/zB,IAAI,CAACq0B,WAAW,EAAE,GAAG,KAAK,GAAG,CAACr0B,IAAI,CAACs0B,QAAQ,EAAE,GAAG,CAAC,IAAI,GAAG,GAAGt0B,IAAI,CAACu0B,OAAO,EAAE;IAC1F,IAAI3jB,IAAI,GAAG5Q,IAAI,CAAC4vB,MAAM,EAAE;IACxB,OAAOmE,UAAU;EACrB,CAAC;AACL;;AAEA;AACA,SAAS7T,iBAAiBA,CAACrb,MAAM,EAAE;EAC/B,IAAI,CAACirB,SAAS,GAAGR,UAAU,CAAC,CAAC;EAC7B,IAAI,CAACQ,SAAS,EAAE;EAChB,OAAO,IAAI,CAACA,SAAS;EAErB,IAAI,CAAClrB,MAAM,GAAGC,MAAM;EACpB,IAAI,CAAC2S,MAAM,GAAG7Z,iBAAiB,CAACF,MAAM,GAAG,qBAAqB;EAE9D,IAAI,CAACimB,WAAW,GAAG,YAAY;IAC3B,IAAI,CAAC,IAAI,CAAC9e,MAAM,EAAE;IAElB,IAAIoT,IAAI,GAAG,IAAI;IACf,IAAIpY,IAAI,GAAG,CAAC,CAAC;IACb,IAAIjB,KAAK,CAAC61B,OAAO,CAAC,IAAI,CAAC5vB,MAAM,CAAC,EAAEhF,IAAI,CAACgF,MAAM,GAAG,IAAI,CAACA,MAAM,CAAC,CAAC;IAAA,KACtDhF,IAAI,CAACgF,MAAM,GAAG,CAAC,IAAI,CAACA,MAAM,CAAC;IAEhCxH,QAAQ,CAACG,OAAO,CAAC8a,IAAI,CAAC;MAClBC,GAAG,EAAE,IAAI,CAACd,MAAM;MAChB5X,IAAI,EAAEA,IAAI;MACV6mB,IAAI,EAAE,MAAM;MACZjO,QAAQ,EAAE,MAAM;MAChBkO,KAAK,EAAE,IAAI;MACXjO,OAAO,EAAE,SAASA,OAAOA,CAAC7Y,IAAI,EAAE;QAC5BoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEgU,cAAc,CAACgO,oBAAoB,CAAC;MAC5D,CAAC;MACDhJ,IAAI,EAAE,SAASA,IAAIA,CAACC,OAAO,EAAE;QACzBb,IAAI,CAACc,SAAS,CAACD,OAAO,EAAEjF,cAAc,CAACgO,oBAAoB,CAAC;MAChE;IACJ,CAAC,CAAC;EACN,CAAC;EAED,IAAI,CAACjJ,QAAQ,GAAG,UAAU/Y,IAAI,EAAE4Y,QAAQ,EAAE;IACtC,IAAI,CAACjB,IAAI,GAAG,IAAI;IAChB,IAAI3X,IAAI,CAAC60B,UAAU,CAACtc,MAAM,IAAI,CAAC,EAAE;IACjC,IAAI,CAACZ,IAAI,GAAG;MAAEmd,GAAG,EAAE,CAAC,CAAC;MAAEjE,SAAS,EAAE;IAAG,CAAC;IACtC,IAAI9Z,KAAK,GAAG/W,IAAI,CAACA,IAAI,CAAC,CAAC,CAAC;IACxB,IAAI,CAAC2X,IAAI,CAACmd,GAAG,GAAG;MAAEz1B,IAAI,EAAE0X,KAAK,CAAC3W,IAAI;MAAE0G,MAAM,EAAEiQ,KAAK,CAACzG,MAAM;MAAE3M,KAAK,EAAEoT,KAAK,CAAC7S,KAAK;MAAER,GAAG,EAAEqT,KAAK,CAAC9S,GAAG;MAAE+C,IAAI,EAAE+P,KAAK,CAACpG;IAAK,CAAC;IAChH,IAAI,CAACgH,IAAI,CAACod,KAAK,GAAG;MAAE/vB,MAAM,EAAE+R,KAAK,CAAC9R,MAAM;MAAEzB,IAAI,EAAEuT,KAAK,CAAChT;IAAK,CAAC;;IAE5D;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;IAEQ,IAAIixB,UAAU,GAAGh1B,IAAI,CAAC60B,UAAU,CAAC,CAAC,CAAC;IACnC,KAAK,IAAIhwB,CAAC,IAAImwB,UAAU,CAAClY,IAAI,EAAE;MAC3B,IAAIhY,IAAI,GAAGkwB,UAAU,CAAClY,IAAI,CAACjY,CAAC,CAAC;MAE7B,IAAIowB,OAAO,GAAG;QAAEtxB,KAAK,EAAEmB,IAAI,CAAC,CAAC,CAAC;QAAEpB,GAAG,EAAEoB,IAAI,CAAC,CAAC,CAAC;QAAEusB,MAAM,EAAEvsB,IAAI,CAAC,CAAC,CAAC;QAAEwsB,OAAO,EAAExsB,IAAI,CAAC,CAAC,CAAC;QAAEysB,OAAO,EAAEzsB,IAAI,CAAC,CAAC;MAAE,CAAC;MACnG,IAAIiS,KAAK,CAAC9S,GAAG,GAAG,CAAC,EAAEgxB,OAAO,CAACpD,UAAU,GAAGoD,OAAO,CAACvxB,GAAG,GAAGqT,KAAK,CAAC9S,GAAG;MAE/D,IAAI,CAAC0T,IAAI,CAACkZ,SAAS,CAAC9rB,IAAI,CAACkwB,OAAO,CAAC;IACrC;IAEA,IAAI,IAAI,CAACjG,gBAAgB,EAAE,IAAI,CAACA,gBAAgB,CAAC,IAAI,CAAC;IAEtD,IAAI,CAACY,SAAS,EAAE;EACpB,CAAC;EAED,IAAI,CAAC1W,SAAS,GAAG,UAAUD,OAAO,EAAEL,QAAQ,EAAE,CAAC,CAAC;AACpD;;AAEA;AACA,SAAS4H,gBAAgBA,CAACvb,MAAM,EAAE;EAC9B,IAAI,CAACirB,SAAS,GAAGR,UAAU,CAAC,CAAC;EAC7B,IAAI,CAACQ,SAAS,EAAE;EAChB,OAAO,IAAI,CAACA,SAAS;EAErB,IAAI,CAAC3N,YAAY,GAAG,KAAK;EACzB,IAAI,CAACvd,MAAM,GAAGC,MAAM,CAAC,CAAC;EACtB,IAAI,CAAC4S,QAAQ,GAAG,EAAE;EAElB,IAAI,CAAC2O,OAAO,GAAG,UAAU0O,SAAS,EAAEC,QAAQ,EAAE;IAC1C,IAAI,CAACxF,KAAK,GAAG,IAAI;IACjB,IAAIvX,IAAI,GAAG,IAAI;IACf,IAAIgB,KAAK,GAAG8b,SAAS,GAAGC,QAAQ;IAChC,IAAI9b,GAAG,GAAGD,KAAK,GAAG+b,QAAQ;IAC1B,IAAI3E,MAAM,GAAGzyB,iBAAiB,CAACF,MAAM,GAAG,kBAAkB;IAC1DwU,OAAO,CAACC,GAAG,CAAC,sCAAsC,GAAGke,MAAM,GAAG,UAAU,GAAGpX,KAAK,GAAG,SAAS,GAAGC,GAAG,CAAC;IAEnG7b,QAAQ,CAACG,OAAO,CAAC8a,IAAI,CAAC;MAClBC,GAAG,EAAE8X,MAAM;MACXxwB,IAAI,EAAE;QACF,QAAQ,EAAE,IAAI,CAACgF,MAAM;QACrB,OAAO,EAAEoU,KAAK;QACd,KAAK,EAAEC;MACX,CAAC;MACDwN,IAAI,EAAE,MAAM;MACZjO,QAAQ,EAAE,MAAM;MAChBkO,KAAK,EAAE,IAAI;MACXjO,OAAO,EAAE,SAASA,OAAOA,CAAC7Y,IAAI,EAAE;QAC5BoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,EAAEgU,cAAc,CAACiO,kBAAkB,CAAC;MAC1D,CAAC;MACD8E,KAAK,EAAE,SAASA,KAAKA,CAAC9N,OAAO,EAAE;QAC3Bb,IAAI,CAACc,SAAS,CAACD,OAAO,EAAEjF,cAAc,CAACiO,kBAAkB,CAAC;MAC9D;IACJ,CAAC,CAAC;EACN,CAAC;EAED,IAAI,CAAC6B,WAAW,GAAG;EAAY;EAC/B;IACI,IAAI,CAACnM,IAAI,GAAG;MAAEvN,IAAI,EAAE,EAAE;MAAE2N,KAAK,EAAE,CAAC;MAAEqd,OAAO,EAAE;QAAEtd,SAAS,EAAE;MAAE,CAAC;MAAEud,QAAQ,EAAE,CAAC;IAAE,CAAC;IAC3E,IAAI,CAAC7O,OAAO,CAAC,CAAC,EAAE,IAAI,CAAC3O,QAAQ,CAAC;EAClC,CAAC;EAED,IAAI,CAACyd,WAAW,GAAG,UAAUJ,SAAS,EAAE;IACpC,IAAI,CAAC,IAAI,CAACvd,IAAI,EAAE,IAAI,CAACA,IAAI,GAAG;MAAEvN,IAAI,EAAE,EAAE;MAAE2N,KAAK,EAAE;IAAE,CAAC;IAClD,IAAI,CAACJ,IAAI,CAACyd,OAAO,GAAG;MAAEtd,SAAS,EAAEod;IAAU,CAAC;IAC5C,IAAI,CAACvd,IAAI,CAAC0d,QAAQ,GAAG,CAAC,CAAC;IAEvB,IAAIjc,KAAK,GAAG8b,SAAS,GAAG,IAAI,CAACrd,QAAQ;IACrC,IAAIwB,GAAG,GAAGD,KAAK,GAAG,IAAI,CAACvB,QAAQ;IAC/B;IACA,IAAI0d,MAAM,GAAG,IAAI;IACjB,KAAK,IAAI1wB,CAAC,GAAGuU,KAAK,EAAEvU,CAAC,GAAGwU,GAAG,EAAE,EAAExU,CAAC,EAAE;MAC9B,IAAI,CAAC,IAAI,CAAC8S,IAAI,CAACvN,IAAI,CAACvF,CAAC,CAAC,EAAE;QACpB0wB,MAAM,GAAG,KAAK;QACd;MACJ;IACJ;IAEA,IAAIA,MAAM,EAAE;MACR,IAAI,CAAC5d,IAAI,CAAC0d,QAAQ,GAAG;QAAEjD,KAAK,EAAEhZ,KAAK;QAAEuZ,GAAG,EAAEtZ;MAAI,CAAC;MAC/C,IAAI,CAAC4W,sBAAsB,EAAE;IACjC,CAAC,MAAM;MACH,IAAI,CAACzJ,OAAO,CAAC0O,SAAS,EAAE,IAAI,CAACrd,QAAQ,CAAC;IAC1C;EACJ,CAAC;EAED,IAAI,CAACkB,QAAQ,GAAG,UAAU/Y,IAAI,EAAE4Y,QAAQ,EAAE;IACtC,IAAI,CAACjB,IAAI,CAACI,KAAK,GAAG/X,IAAI,CAAC8Y,KAAK;IAC5B,IAAI,CAAC9Y,IAAI,CAACw1B,MAAM,EAAE;MACd,IAAI,CAACvF,sBAAsB,EAAE;MAC7B;IACJ;IAEA,IAAI,CAACtY,IAAI,CAACmd,GAAG,GAAG;MAAEhuB,MAAM,EAAE9G,IAAI,CAACsQ,MAAM;MAAE3J,IAAI,EAAE3G,IAAI,CAACyQ,IAAI;MAAEmgB,KAAK,EAAE5wB,IAAI,CAACkE,KAAK;MAAE7E,IAAI,EAAEW,IAAI,CAACI;IAAK,CAAC;IAC5F,IAAI,CAACuX,IAAI,CAACod,KAAK,GAAG;MAAE/vB,MAAM,EAAEhF,IAAI,CAACiF,MAAM;MAAEzB,IAAI,EAAExD,IAAI,CAAC+D;IAAK,CAAC;IAE1D,IAAIqV,KAAK,GAAGpZ,IAAI,CAACoZ,KAAK;IACtB,KAAK,IAAIvU,CAAC,GAAG,CAAC,EAAEivB,KAAK,GAAG1a,KAAK,EAAEvU,CAAC,GAAG7E,IAAI,CAACw1B,MAAM,CAACjd,MAAM,EAAE,EAAE1T,CAAC,EAAE,EAAEivB,KAAK,EAAE;MACjE,IAAIhvB,IAAI,GAAG9E,IAAI,CAACw1B,MAAM,CAAC3wB,CAAC,CAAC;MACzB,IAAI4wB,UAAU,GAAG;QAAEzuB,IAAI,EAAElC,IAAI,CAAC,CAAC,CAAC;QAAEnB,KAAK,EAAEmB,IAAI,CAAC,CAAC,CAAC;QAAEpB,GAAG,EAAEoB,IAAI,CAAC,CAAC,CAAC;QAAEiC,MAAM,EAAEjC,IAAI,CAAC,CAAC,CAAC;QAAEqsB,IAAI,EAAE;MAAG,CAAC;MAC3F,IAAIrsB,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE2wB,UAAU,CAACtE,IAAI,GAAG,GAAG,CAAC,KAAK,IAAIrsB,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE2wB,UAAU,CAACtE,IAAI,GAAG,GAAG;MAEtF,IAAI,CAACxZ,IAAI,CAACvN,IAAI,CAAC0pB,KAAK,CAAC,GAAG2B,UAAU;IACtC;IAEA,IAAI,CAAC9d,IAAI,CAAC0d,QAAQ,GAAG;MAAEjD,KAAK,EAAEpyB,IAAI,CAACoZ,KAAK;MAAEuZ,GAAG,EAAE3yB,IAAI,CAACqZ;IAAI,CAAC;IACzD,IAAI,CAAC4W,sBAAsB,EAAE;EACjC,CAAC;EAED,IAAI,CAAC/W,SAAS,GAAG,UAAUD,OAAO,EAAEL,QAAQ,EAAE;IAC1CvG,OAAO,CAACC,GAAG,CAAC,uCAAuC,GAAG2G,OAAO,CAACgR,MAAM,GAAG,cAAc,GAAGhR,OAAO,CAAC+Y,UAAU,GAAG,gBAAgB,GAAG/Y,OAAO,CAACgZ,YAAY,CAAC;IAErJ,IAAI,CAACtC,KAAK,GAAG;MAAEuC,MAAM,EAAEjZ,OAAO,CAACgR,MAAM;MAAEkI,OAAO,EAAElZ,OAAO,CAACgZ;IAAa,CAAC;IACtE,IAAI,CAAChC,sBAAsB,EAAE;EACjC,CAAC;AACL;;AAEA;AACA,SAASvP,aAAaA,CAAA,EAAG;EACrB,IAAI,CAACwP,SAAS,GAAGR,UAAU,CAAC,CAAC;EAC7B,IAAI,CAACQ,SAAS,EAAE;EAChB,OAAO,IAAI,CAACA,SAAS;EAErB,IAAI,CAACtY,MAAM,GAAG7Z,iBAAiB,CAACF,MAAM,GAAG,uBAAuB;EAChE,IAAI,CAAC63B,UAAU,CAAC,CAAC;EACjB,IAAI,CAAChnB,KAAK,GAAG,EAAE,CAAC,CAAC;EACjB,IAAI,CAACinB,UAAU,GAAG,EAAE,CAAC,CAAC;;EAEtB,IAAI,CAAC7R,WAAW,GAAG,YAAY;IAC3B,IAAI1L,IAAI,GAAG,IAAI;IACf5a,QAAQ,CAACG,OAAO,CAAC8a,IAAI,CAAC;MAClBC,GAAG,EAAEN,IAAI,CAACR,MAAM;MAChB5X,IAAI,EAAE;QACF,YAAY,EAAEoY,IAAI,CAACsd,UAAU;QAC7B,OAAO,EAAEtd,IAAI,CAAC1J,KAAK;QACnB,QAAQ,EAAE0J,IAAI,CAACud;MACnB,CAAC;MACD9O,IAAI,EAAE,MAAM;MACZjO,QAAQ,EAAE,MAAM;MAChBkO,KAAK,EAAE,IAAI;MACXjO,OAAO,EAAE,SAASA,OAAOA,CAAC7Y,IAAI,EAAE;QAC5BoY,IAAI,CAACW,QAAQ,CAAC/Y,IAAI,CAAC;MACvB,CAAC;MACD+mB,KAAK,EAAE,SAASA,KAAKA,CAAC9N,OAAO,EAAE;QAC3Bb,IAAI,CAACc,SAAS,CAACD,OAAO,CAAC;MAC3B;IACJ,CAAC,CAAC;EACN,CAAC;EAED,IAAI,CAACF,QAAQ,GAAG,UAAUQ,QAAQ,EAAE;IAChC,IAAI,CAAC5B,IAAI,GAAG,CAAC,CAAC;IACd;IACA,IAAI3X,IAAI,GAAGuZ,QAAQ;IACnB,IAAIvZ,IAAI,CAAC8Y,KAAK,IAAI,CAAC,EAAE;IAErB,IAAI9Y,IAAI,CAACmF,OAAO,EAAE;MACd;MACA;MACA,IAAIywB,WAAW,GAAG,EAAE;MACpB,KAAK,IAAI/wB,CAAC,IAAI7E,IAAI,CAACmF,OAAO,CAACnF,IAAI,EAAE;QAC7B,IAAI8E,IAAI,GAAG9E,IAAI,CAACmF,OAAO,CAACnF,IAAI,CAAC6E,CAAC,CAAC;QAC/B,IAAIgxB,IAAI,GAAG,CAAC,CAAC;QACbA,IAAI,CAACryB,IAAI,GAAGsB,IAAI,CAAC,CAAC,CAAC;QACnB+wB,IAAI,CAAC7wB,MAAM,GAAGF,IAAI,CAAC,CAAC,CAAC;QACrB+wB,IAAI,CAACC,KAAK,GAAGhxB,IAAI,CAAC,CAAC,CAAC;QACpB+wB,IAAI,CAAC9d,KAAK,GAAGjT,IAAI,CAAC,CAAC,CAAC;QACpB+wB,IAAI,CAACzuB,QAAQ,GAAGtC,IAAI,CAAC,CAAC,CAAC;QACvB+wB,IAAI,CAAClyB,KAAK,GAAGmB,IAAI,CAAC,CAAC,CAAC;QACpB+wB,IAAI,CAAC5kB,KAAK,GAAGnM,IAAI,CAAC,CAAC,CAAC;QACpB+wB,IAAI,CAAC1kB,KAAK,GAAGrM,IAAI,CAAC,CAAC,CAAC;QACpB8wB,WAAW,CAAC7wB,IAAI,CAAC8wB,IAAI,CAAC;MAC1B;MACA,IAAI,CAACle,IAAI,CAACnT,OAAO,GAAGoxB,WAAW;IACnC;IACA,IAAI51B,IAAI,CAAC+1B,WAAW,EAAE;MAClB;MACA,IAAI,CAACpe,IAAI,CAACqe,WAAW,GAAGh2B,IAAI,CAAC+1B,WAAW;IAC5C;IACA,IAAI/1B,IAAI,CAAC4E,QAAQ,EAAE;MACf;MACA,IAAI,CAAC+S,IAAI,CAACrT,QAAQ,GAAGtE,IAAI,CAAC4E,QAAQ;IACtC;IACA,IAAI5E,IAAI,CAACyT,QAAQ,EAAE;MACf;MACA,IAAI,CAACkE,IAAI,CAACse,QAAQ,GAAGj2B,IAAI,CAACyT,QAAQ;IACtC;IACA,IAAIzT,IAAI,CAACkF,MAAM,EAAE;MACb;MACA,IAAI,CAACyS,IAAI,CAACpT,MAAM,GAAGvE,IAAI,CAACkF,MAAM;IAClC;;IAEA;IACA,IAAI,IAAI,CAAC8pB,gBAAgB,EAAE,IAAI,CAACA,gBAAgB,CAAC,IAAI,CAAC;EAC1D,CAAC;EAED,IAAI,CAAC9V,SAAS,GAAG,UAAUD,OAAO,EAAE;IAChC5G,OAAO,CAACC,GAAG,CAAC2G,OAAO,CAAC;EACxB,CAAC;AACL;AAEA,IAAIiR,YAAY,GAAG;EACfgM,EAAE,EAAE,KAAK;EACTC,EAAE,EAAE,KAAK;EACTzwB,EAAE,EAAE,KAAK;EACT0wB,IAAI,EAAE,MAAM;EAAE;EACdC,KAAK,EAAE,MAAM;EAAE;EACfC,GAAG,EAAE,MAAM;EAAE;EACbC,IAAI,EAAE,MAAM;EAAE;EACdC,GAAG,EAAE,MAAM;EAAE;;EAEbC,KAAK,EAAE,SAASA,KAAKA,CAACrwB,WAAW;EAAE;EACnC;IACI,IAAI,CAACA,WAAW,EAAE,OAAO,KAAK;IAC9B,OAAOA,WAAW,CAACE,OAAO,CAAC,IAAI,CAACkwB,GAAG,CAAC,GAAG,CAAC;EAC5C,CAAC;EAEDE,IAAI,EAAE,SAASA,IAAIA,CAACtwB,WAAW,EAAE;IAC7B;IACA,IAAIuwB,GAAG,GAAGvwB,WAAW,CAACmS,MAAM,GAAG,IAAI,CAAC2d,EAAE,CAAC3d,MAAM;IAC7C,IAAIqG,IAAI,GAAGxY,WAAW,CAACE,OAAO,CAAC,IAAI,CAAC4vB,EAAE,CAAC;IACvC,OAAOtX,IAAI,IAAI+X,GAAG;EACtB,CAAC;EAEDC,IAAI,EAAE,SAASA,IAAIA,CAACxwB,WAAW,EAAE;IAC7B,IAAIuwB,GAAG,GAAGvwB,WAAW,CAACmS,MAAM,GAAG,IAAI,CAAC4d,EAAE,CAAC5d,MAAM;IAC7C,IAAIqG,IAAI,GAAGxY,WAAW,CAACE,OAAO,CAAC,IAAI,CAAC6vB,EAAE,CAAC;IACvC,OAAOvX,IAAI,IAAI+X,GAAG;EACtB,CAAC;EAEDrxB,IAAI,EAAE,SAASA,IAAIA,CAACc,WAAW,EAAE;IAC7B,IAAIuwB,GAAG,GAAGvwB,WAAW,CAACmS,MAAM,GAAG,IAAI,CAAC7S,EAAE,CAAC6S,MAAM;IAC7C,IAAIqG,IAAI,GAAGxY,WAAW,CAACE,OAAO,CAAC,IAAI,CAACZ,EAAE,CAAC;IACvC,OAAOkZ,IAAI,IAAI+X,GAAG;EACtB,CAAC;EAEDE,MAAM,EAAE,SAASA,MAAMA,CAACzwB,WAAW,EAAE;IACjC,OAAOA,WAAW,CAACE,OAAO,CAAC,IAAI,CAAC8vB,IAAI,CAAC,GAAG,CAAC;EAC7C,CAAC;EAEDU,OAAO,EAAE,SAASA,OAAOA,CAAC1wB,WAAW,EAAE;IACnC,OAAOA,WAAW,CAACE,OAAO,CAAC,IAAI,CAAC+vB,KAAK,CAAC,GAAG,CAAC;EAC9C,CAAC;EAEDU,KAAK,EAAE,SAASA,KAAKA,CAAC3wB,WAAW,EAAE;IAC/B,OAAOA,WAAW,CAACE,OAAO,CAAC,IAAI,CAACgwB,GAAG,CAAC,GAAG,CAAC;EAC5C,CAAC;EAEDU,MAAM,EAAE,SAASA,MAAMA,CAAC5wB,WAAW,EAAE;IACjC,OAAOA,WAAW,CAACE,OAAO,CAAC,IAAI,CAACiwB,IAAI,CAAC,GAAG,CAAC;EAC7C,CAAC;EAEDU,cAAc,EAAE,SAASA,cAAcA,CAAC7wB,WAAW;EAAE;EACrD;IACI,OAAO,IAAI,CAAC0wB,OAAO,CAAC1wB,WAAW,CAAC,IAAI,IAAI,CAAC4wB,MAAM,CAAC5wB,WAAW,CAAC,IAAI,IAAI,CAAC2wB,KAAK,CAAC3wB,WAAW,CAAC,IAAI,IAAI,CAACywB,MAAM,CAACzwB,WAAW,CAAC;EACvH,CAAC;EAED8wB,MAAM,EAAE,SAASA,MAAMA,CAAC9wB,WAAW;EAAE;EACrC;IACI,OAAO,IAAI,CAACwwB,IAAI,CAACxwB,WAAW,CAAC,IAAI,IAAI,CAACswB,IAAI,CAACtwB,WAAW,CAAC;EAC3D,CAAC;EAED+wB,UAAU,EAAE,SAASA,UAAUA,CAAC/wB,WAAW;EAAE;EAC7C;IACI,IAAI,CAACA,WAAW,EAAE,OAAO,KAAK;IAE9B,IAAI,IAAI,CAACswB,IAAI,CAACtwB,WAAW,CAAC;MAAE;MACxB;QACI,IAAIA,WAAW,CAACI,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,IAAIJ,WAAW,CAACI,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE,OAAO,IAAI;MACjF,CAAC,MAAM,IAAI,IAAI,CAACowB,IAAI,CAACxwB,WAAW,CAAC;MAAE;MACnC;QACI,IAAIA,WAAW,CAACI,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,KAAKJ,WAAW,CAACI,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,IAAIJ,WAAW,CAACI,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,IAAIJ,WAAW,CAACI,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,IAAIJ,WAAW,CAACI,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,EAAE,OAAO,IAAI;MACnL;IAEJ,OAAO,KAAK;EAChB,CAAC;EAED4wB,WAAW,EAAE,SAASA,WAAWA,CAACnyB,MAAM;EAAE;EAC1C;IACI,IAAI,CAACA,MAAM,EAAE,OAAO,KAAK;IACzB,IAAImB,WAAW,GAAGnB,MAAM,CAACoB,WAAW,EAAE;IACtC,IAAI,IAAI,CAACqwB,IAAI,CAACtwB,WAAW,CAAC,EAAE;MACxB,IAAIixB,IAAI,GAAGjxB,WAAW,CAACG,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;MACzC,IAAIH,WAAW,CAACI,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,IAAIC,QAAQ,CAAC4wB,IAAI,CAAC,IAAI,IAAI,EAAE,OAAO,IAAI;IAC3E,CAAC,MAAM,IAAI,IAAI,CAACT,IAAI,CAACxwB,WAAW,CAAC,EAAE;MAC/B,IAAIA,WAAW,CAACI,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,IAAIJ,WAAW,CAACI,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE,OAAO,IAAI;IACjF,CAAC,MAAM,IAAIJ,WAAW,CAACE,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC;MAAE;MACvC;QACI,OAAO,IAAI;MACf;IAEJ,OAAO,KAAK;EAChB,CAAC;EAEDgxB,YAAY,EAAE,SAASA,YAAYA,CAACryB,MAAM;EAAE;EAC5C;IACI,IAAI,CAACA,MAAM,EAAE,OAAO,KAAK;IACzB,IAAImB,WAAW,GAAGnB,MAAM,CAACoB,WAAW,EAAE;IACtC,IAAI,IAAI,CAACqwB,IAAI,CAACtwB,WAAW,CAAC,EAAE;MACxB,IAAIixB,IAAI,GAAGjxB,WAAW,CAACG,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;MACzC,IAAIH,WAAW,CAACI,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE,OAAO,IAAI;IACjD,CAAC,MAAM,IAAI,IAAI,CAACowB,IAAI,CAACxwB,WAAW,CAAC,EAAE;MAC/B,IAAIA,WAAW,CAACI,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE;QAC9B,IAAIJ,WAAW,CAACI,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,IAAIJ,WAAW,CAACI,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE,OAAO,IAAI,CAAC,CAAC;QAC/E,IAAIJ,WAAW,CAACI,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,IAAIJ,WAAW,CAACI,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE,OAAO,IAAI;MACjF;IACJ;IAEA,OAAO,KAAK;EAChB,CAAC;EAED+wB,aAAa,EAAE,SAASA,aAAaA,CAACtyB,MAAM;EAAE;EAC9C;IACI,IAAI,CAACA,MAAM,EAAE,OAAO,KAAK;IACzB,IAAImB,WAAW,GAAGnB,MAAM,CAACoB,WAAW,EAAE;IACtC,IAAI,CAAC,IAAI,CAACqwB,IAAI,CAACtwB,WAAW,CAAC,EAAE,OAAO,KAAK;IACzC,IAAIA,WAAW,CAACI,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,IAAIJ,WAAW,CAACI,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,IAAIJ,WAAW,CAACI,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE,OAAO,IAAI;IAE7G,OAAO,KAAK;EAChB,CAAC;EAED2jB,eAAe,EAAE,SAASA,eAAeA,CAACllB,MAAM;EAAE;EAClD;IACI,IAAI,CAACA,MAAM,EAAE,OAAO,CAAC;IACrB,IAAImB,WAAW,GAAGnB,MAAM,CAACoB,WAAW,EAAE;IACtC,IAAI,IAAI,CAACowB,KAAK,CAACrwB,WAAW,CAAC,EAAE;MACzB,IAAIoxB,OAAO,GAAGC,YAAY,CAAC,CAAC,CAAC,CAAC;MAC9BhH,GAAG,GAAG+G,OAAO,CAACxH,MAAM,EAAE,EAAErf,IAAI,GAAG6mB,OAAO,CAAC1H,QAAQ,EAAE,GAAG,GAAG,GAAG0H,OAAO,CAACzH,UAAU,EAAE;MAC9E,IAAIU,GAAG,IAAI,CAAC,IAAIA,GAAG,IAAI,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC;;MAEpC;MACA,IAAI9f,IAAI,GAAG,IAAI,EAAE,OAAO,CAAC;MACzB,IAAIA,IAAI,GAAG,GAAG,EAAE,OAAO,CAAC;MAExB,OAAO,CAAC;IACZ,CAAC,MAAM;MAEH,IAAI+mB,OAAO,GAAG,IAAIr4B,IAAI,EAAE;QACpBoxB,GAAG,GAAGiH,OAAO,CAAC1H,MAAM,EAAE;QACtBrf,IAAI,GAAG+mB,OAAO,CAAC5H,QAAQ,EAAE,GAAG,GAAG,GAAG4H,OAAO,CAAC3H,UAAU,EAAE;MAC1D,IAAIU,GAAG,IAAI,CAAC,IAAIA,GAAG,IAAI,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC;;MAEpC;MACA,IAAI9f,IAAI,GAAG,IAAI,EAAE,OAAO,CAAC;MACzB,IAAIA,IAAI,GAAG,GAAG,EAAE,OAAO,CAAC;MACxB,OAAO,CAAC;IACZ;EACJ;AACJ,CAAC;;AAED;;AAGA;AACAhU,OAAO,CAACgB,OAAO,IAAIL,qBAAqB,GAAG;EACvCq6B,WAAW,EAAE3gB,OAAO,CAACkI,IAAI;EACzBlX,gBAAgB,EAAEA,gBAAgB;EAElC;EACAgP,OAAO,EAAEA,OAAO;EAChBF,SAAS,EAAEA;AACf,CAAC,EAAE,CAAC,CAAC,EAAEha,gBAAgB,CAACa,OAAO,EAAEL,qBAAqB,EAAE,kBAAkB,EAAE0K,gBAAgB,CAAC,EAAE,CAAC,CAAC,EAAElL,gBAAgB,CAACa,OAAO,EAAEL,qBAAqB,EAAE,gBAAgB,EAAE0W,cAAc,CAAC,EAAE1W,qBAAqB,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}