{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nvar echarts = require(\"echarts\");\nexport default {\n  data() {\n    return {\n      //数据模型 time0 open1 close2 min3 max4 vol5 tag6 macd7 dif8 dea9\n      //['2019-10-18',18.56,18.25,18.19,18.56,55.00,0,-0.00,0.08,0.09]\n      data: [[\"2019-3-16\", 18.4, 18.58, 18.33, 18.79, 67.0, 1, 0.04, 0.11, 0.09], [\"2019-3-19\", 18.56, 18.25, 18.19, 18.56, 55.0, 0, -0.0, 0.08, 0.09], [\"2019-3-20\", 18.3, 18.22, 18.05, 18.41, 37.0, 0, 0.01, 0.09, 0.09], [\"2019-3-21\", 18.18, 18.69, 18.02, 18.98, 89.0, 0, 0.03, 0.1, 0.08], [\"2019-3-22\", 18.42, 18.29, 18.22, 18.48, 43.0, 0, -0.06, 0.05, 0.08], [\"2019-3-23\", 18.26, 18.19, 18.08, 18.36, 46.0, 0, -0.1, 0.03, 0.09], [\"2019-3-26\", 18.33, 18.07, 17.98, 18.35, 65.0, 0, -0.15, 0.03, 0.1], [\"2019-3-27\", 18.08, 18.04, 17.88, 18.13, 37.0, 0, -0.19, 0.03, 0.12], [\"2019-3-28\", 17.96, 17.86, 17.82, 17.99, 35.0, 0, -0.24, 0.03, 0.15], [\"2019-3-29\", 17.85, 17.81, 17.8, 17.93, 27.0, 0, -0.24, 0.06, 0.18], [\"2019-3-30\", 17.79, 17.93, 17.78, 18.08, 43.0, 0, -0.22, 0.11, 0.22], [\"2019-4-02\", 17.78, 17.83, 17.78, 18.04, 27.0, 0, -0.2, 0.15, 0.25], [\"2019-4-03\", 17.84, 17.9, 17.84, 18.06, 34.0, 0, -0.12, 0.22, 0.28], [\"2019-4-04\", 17.97, 18.36, 17.85, 18.39, 62.0, 0, -0.0, 0.3, 0.3], [\"2019-4-05\", 18.3, 18.57, 18.18, 19.08, 177.0, 0, 0.07, 0.33, 0.3], [\"2019-4-06\", 18.53, 18.68, 18.3, 18.71, 95.0, 0, 0.12, 0.35, 0.29], [\"2019-4-09\", 18.75, 19.08, 18.75, 19.98, 202.0, 1, 0.16, 0.35, 0.27], [\"2019-4-10\", 18.85, 18.64, 18.56, 18.99, 85.0, 0, 0.09, 0.29, 0.25], [\"2019-4-11\", 18.64, 18.44, 18.31, 18.64, 50.0, 0, 0.06, 0.27, 0.23], [\"2019-4-12\", 18.55, 18.27, 18.17, 18.57, 43.0, 0, 0.05, 0.25, 0.23], [\"2019-4-13\", 18.13, 18.14, 18.09, 18.34, 35.0, 0, 0.05, 0.24, 0.22], [\"2019-4-16\", 18.01, 18.1, 17.93, 18.17, 34.0, 0, 0.07, 0.25, 0.21], [\"2019-4-17\", 18.2, 18.14, 18.08, 18.45, 58.0, 0, 0.11, 0.25, 0.2], [\"2019-4-18\", 18.23, 18.16, 18.0, 18.45, 47.0, 0, 0.13, 0.25, 0.19], [\"2019-4-19\", 18.08, 18.2, 18.05, 18.25, 32.0, 0, 0.15, 0.24, 0.17], [\"2019-4-20\", 18.15, 18.15, 18.11, 18.29, 36.0, 0, 0.13, 0.21, 0.15], [\"2019-4-23\", 18.16, 18.19, 18.12, 18.34, 47.0, 0, 0.11, 0.18, 0.13], [\"2019-4-24\", 18.23, 17.88, 17.7, 18.23, 62.0, 0, 0.03, 0.13, 0.11], [\"2019-4-25\", 17.85, 17.73, 17.56, 17.85, 66.0, 0, -0.03, 0.09, 0.11], [\"2019-4-26\", 17.79, 17.53, 17.5, 17.92, 63.0, 0, -0.1, 0.06, 0.11], [\"2019-4-27\", 17.51, 17.04, 16.9, 17.51, 67.0, 0, -0.16, 0.05, 0.13], [\"2019-4-30\", 17.07, 17.2, 16.98, 17.32, 55.0, 0, -0.12, 0.09, 0.15], [\"2019-5-01\", 17.28, 17.11, 16.91, 17.28, 39.0, 0, -0.09, 0.12, 0.16], [\"2019-5-02\", 17.13, 17.91, 17.05, 17.99, 102.0, 0, -0.01, 0.17, 0.18], [\"2019-5-03\", 17.8, 17.78, 17.61, 17.98, 71.0, 0, -0.09, 0.14, 0.18], [\"2019-5-04\", 17.6, 17.25, 17.13, 17.69, 51.0, 0, -0.18, 0.1, 0.19], [\"2019-5-07\", 17.2, 17.39, 17.15, 17.45, 43.0, 0, -0.19, 0.12, 0.22], [\"2019-5-08\", 17.3, 17.42, 17.18, 17.62, 45.0, 0, -0.23, 0.13, 0.24], [\"2019-5-09\", 17.33, 17.39, 17.32, 17.59, 44.0, 0, -0.29, 0.13, 0.28], [\"2019-5-10\", 17.39, 17.26, 17.21, 17.65, 44.0, 0, -0.37, 0.13, 0.32], [\"2019-5-11\", 17.23, 16.92, 16.66, 17.26, 114.0, 1, -0.44, 0.15, 0.37], [\"2019-5-14\", 16.75, 17.06, 16.5, 17.09, 94.0, 0, -0.44, 0.21, 0.44], [\"2019-5-15\", 17.03, 17.03, 16.9, 17.06, 46.0, 0, -0.44, 0.28, 0.5], [\"2019-5-16\", 17.08, 16.96, 16.87, 17.09, 30.0, 0, -0.4, 0.36, 0.56], [\"2019-5-17\", 17.0, 17.1, 16.95, 17.12, 50.0, 0, -0.3, 0.47, 0.62], [\"2019-5-18\", 17.09, 17.52, 17.04, 18.06, 156.0, 0, -0.14, 0.59, 0.66], [\"2019-5-21\", 17.43, 18.23, 17.35, 18.45, 152.0, 1, 0.02, 0.69, 0.68], [\"2019-5-22\", 18.14, 18.27, 18.06, 18.32, 94.0, 0, 0.08, 0.72, 0.68], [\"2019-5-23\", 18.28, 18.19, 18.17, 18.71, 108.0, 0, 0.13, 0.73, 0.67], [\"2019-5-24\", 18.18, 18.14, 18.01, 18.31, 37.0, 0, 0.19, 0.74, 0.65], [\"2019-5-25\", 18.22, 18.33, 18.2, 18.36, 48.0, 0, 0.26, 0.75, 0.62], [\"2019-5-28\", 18.35, 17.84, 17.8, 18.39, 48.0, 0, 0.27, 0.72, 0.59], [\"2019-5-29\", 17.83, 17.94, 17.71, 17.97, 36.0, 0, 0.36, 0.73, 0.55], [\"2019-5-30\", 17.9, 18.26, 17.55, 18.3, 71.0, 1, 0.43, 0.71, 0.5], [\"2019-5-31\", 18.12, 17.99, 17.91, 18.33, 72.0, 0, 0.4, 0.63, 0.43], [\"2019-6-04\", 17.91, 17.28, 17.16, 17.95, 37.0, 1, 0.34, 0.55, 0.38], [\"2019-6-05\", 17.17, 17.23, 17.0, 17.55, 51.0, 0, 0.37, 0.51, 0.33], [\"2019-6-06\", 17.2, 17.31, 17.06, 17.33, 31.0, 0, 0.37, 0.46, 0.28], [\"2019-6-07\", 17.15, 16.67, 16.51, 17.15, 19.0, 0, 0.3, 0.37, 0.22], [\"2019-6-08\", 16.8, 16.81, 16.61, 17.06, 60.0, 0, 0.29, 0.32, 0.18], [\"2019-6-11\", 16.68, 16.04, 16.0, 16.68, 65.0, 0, 0.2, 0.24, 0.14], [\"2019-6-12\", 16.03, 15.98, 15.88, 16.25, 46.0, 0, 0.2, 0.21, 0.11], [\"2019-6-13\", 16.21, 15.87, 15.78, 16.21, 57.0, 0, 0.2, 0.18, 0.08], [\"2019-6-14\", 15.55, 15.89, 15.52, 15.96, 42.0, 0, 0.2, 0.16, 0.05], [\"2019-6-15\", 15.87, 15.48, 15.45, 15.92, 34.0, 1, 0.17, 0.11, 0.02], [\"2019-6-18\", 15.39, 15.42, 15.36, 15.7, 26.0, 0, 0.21, 0.1, -0.0], [\"2019-6-19\", 15.58, 15.71, 15.35, 15.77, 38.0, 0, 0.25, 0.09, -0.03], [\"2019-6-20\", 15.56, 15.52, 15.24, 15.68, 38.0, 0, 0.23, 0.05, -0.07], [\"2019-6-21\", 15.41, 15.3, 15.28, 15.68, 35.0, 0, 0.21, 0.0, -0.1], [\"2019-6-22\", 15.48, 15.28, 15.13, 15.49, 30.0, 0, 0.21, -0.02, -0.13], [\"2019-6-25\", 15.29, 15.48, 15.2, 15.49, 21.0, 0, 0.2, -0.06, -0.16], [\"2019-6-26\", 15.33, 14.86, 14.78, 15.39, 30.0, 0, 0.12, -0.13, -0.19], [\"2019-6-27\", 14.96, 15.0, 14.84, 15.22, 51.0, 0, 0.13, -0.14, -0.2], [\"2019-6-28\", 14.96, 14.72, 14.62, 15.06, 25.0, 0, 0.1, -0.17, -0.22], [\"2019-6-29\", 14.75, 14.99, 14.62, 15.08, 36.0, 0, 0.13, -0.17, -0.24], [\"2019-7-01\", 14.98, 14.72, 14.48, 15.18, 27.0, 0, 0.1, -0.21, -0.26], [\"2019-7-02\", 14.65, 14.85, 14.65, 14.95, 18.0, 0, 0.11, -0.21, -0.27], [\"2019-7-03\", 14.72, 14.67, 14.55, 14.8, 23.0, 0, 0.1, -0.24, -0.29], [\"2019-7-04\", 14.79, 14.88, 14.69, 14.93, 22.0, 0, 0.13, -0.24, -0.3], [\"2019-7-05\", 14.9, 14.86, 14.78, 14.93, 16.0, 0, 0.12, -0.26, -0.32], [\"2019-7-15\", 14.5, 14.66, 14.47, 14.82, 19.0, 0, 0.11, -0.28, -0.34], [\"2019-7-16\", 14.77, 14.94, 14.72, 15.05, 26.0, 0, 0.14, -0.28, -0.35], [\"2019-7-17\", 14.95, 15.03, 14.88, 15.07, 38.0, 0, 0.12, -0.31, -0.37], [\"2019-7-18\", 14.95, 14.9, 14.87, 15.06, 28.0, 0, 0.07, -0.35, -0.39], [\"2019-7-19\", 14.9, 14.75, 14.68, 14.94, 22.0, 0, 0.03, -0.38, -0.4], [\"2019-7-22\", 14.88, 15.01, 14.79, 15.11, 38.0, 1, 0.01, -0.4, -0.4], [\"2019-7-23\", 15.01, 14.83, 14.72, 15.01, 24.0, 0, -0.09, -0.45, -0.4]]\n    };\n  },\n  mounted() {\n    // 这里实现的是一个比较简单的，可以按照需求将函数移动到methods函数中\n    var data0 = splitData(this.data);\n    // macd计算\n    function splitData(rawData) {\n      var categoryData = [];\n      var values = [];\n      var macds = [];\n      var difs = [];\n      var deas = [];\n      for (var i = 0; i < rawData.length; i++) {\n        categoryData.push(rawData[i].splice(0, 1)[0]);\n        values.push(rawData[i]);\n        macds.push(rawData[i][6]);\n        difs.push(rawData[i][7]);\n        deas.push(rawData[i][8]);\n      }\n      return {\n        categoryData: categoryData,\n        values: values,\n        macds: macds,\n        difs: difs,\n        deas: deas\n      };\n    }\n    // ma均线函数\n    function calculateMA(dayCount) {\n      var result = [];\n      for (var i = 0, len = data0.values.length; i < len; i++) {\n        if (i < dayCount) {\n          result.push(\"-\");\n          continue;\n        }\n        var sum = 0;\n        for (var j = 0; j < dayCount; j++) {\n          sum += data0.values[i - j][1];\n        }\n        result.push(sum / dayCount);\n      }\n      return result;\n    }\n    // k线配置项\n    var option = {\n      backgroundColor: \"#ffffff\",\n      tooltip: {\n        trigger: \"axis\",\n        axisPointer: {\n          type: \"cross\"\n        }\n      },\n      grid: [{\n        left: \"3%\",\n        top: \"0\",\n        height: \"75%\"\n      }, {\n        left: \"3%\",\n        right: \"10%\",\n        top: \"80%\",\n        height: \"10%\"\n      }],\n      xAxis: [{\n        type: \"category\",\n        data: data0.categoryData,\n        scale: true,\n        boundaryGap: false,\n        axisLine: {\n          onZero: false,\n          lineStyle: {\n            color: \"red\"\n          }\n        },\n        splitLine: {\n          show: false\n        },\n        splitNumber: 20\n      }, {\n        type: \"category\",\n        gridIndex: 1,\n        data: data0.categoryData,\n        axisLabel: {\n          show: false\n        }\n      }],\n      yAxis: [{\n        scale: true,\n        splitArea: {\n          show: true\n        },\n        axisLine: {\n          lineStyle: {\n            color: \"red\"\n          }\n        },\n        position: \"right\"\n      }, {\n        gridIndex: 1,\n        splitNumber: 3,\n        axisLine: {\n          onZero: false\n        },\n        axisTick: {\n          show: false\n        },\n        splitLine: {\n          show: false\n        },\n        axisLabel: {\n          show: true\n        },\n        axisLine: {\n          lineStyle: {\n            color: \"red\"\n          }\n        },\n        position: \"right\"\n      }],\n      dataZoom: [{\n        type: \"inside\",\n        start: 100,\n        end: 80\n      }, {\n        show: true,\n        type: \"slider\",\n        y: \"90%\",\n        start: 50,\n        end: 100\n      }, {\n        show: false,\n        xAxisIndex: [0, 1],\n        type: \"slider\",\n        start: 20,\n        end: 100\n      }],\n      series: [{\n        name: \"555\",\n        type: \"candlestick\",\n        data: data0.values,\n        markPoint: {\n          data: [{\n            name: \"XX标点\"\n          }]\n        },\n        markLine: {\n          silent: true,\n          data: [{\n            yAxis: 2222\n          }]\n        }\n      }, {\n        name: \"MA5\",\n        type: \"line\",\n        data: calculateMA(5),\n        smooth: true,\n        lineStyle: {\n          normal: {\n            opacity: 0.5\n          }\n        }\n      }, {\n        name: \"MA10\",\n        type: \"line\",\n        data: calculateMA(10),\n        smooth: true,\n        lineStyle: {\n          normal: {\n            opacity: 0.5\n          }\n        }\n      }, {\n        name: \"MA20\",\n        type: \"line\",\n        data: calculateMA(20),\n        smooth: true,\n        lineStyle: {\n          normal: {\n            opacity: 0.5\n          }\n        }\n      }, {\n        name: \"MA30\",\n        type: \"line\",\n        data: calculateMA(30),\n        smooth: true,\n        lineStyle: {\n          normal: {\n            opacity: 0.5\n          }\n        }\n      }, {\n        name: \"MACD\",\n        type: \"bar\",\n        xAxisIndex: 1,\n        yAxisIndex: 1,\n        data: data0.macds,\n        itemStyle: {\n          normal: {\n            color: function (params) {\n              var colorList;\n              if (params.data >= 0) {\n                colorList = \"#ef232a\";\n              } else {\n                colorList = \"#14b143\";\n              }\n              return colorList;\n            }\n          }\n        }\n      }, {\n        name: \"DIF\",\n        type: \"line\",\n        xAxisIndex: 1,\n        yAxisIndex: 1,\n        data: data0.difs\n      }, {\n        name: \"DEA\",\n        type: \"line\",\n        xAxisIndex: 1,\n        yAxisIndex: 1,\n        data: data0.deas\n      }]\n    };\n    // 进行初始化\n    var charts = echarts.init(this.$refs.echartContainer);\n    charts.setOption(option);\n  }\n};","map":{"version":3,"names":["echarts","require","data","mounted","data0","splitData","rawData","categoryData","values","macds","difs","deas","i","length","push","splice","calculateMA","dayCount","result","len","sum","j","option","backgroundColor","tooltip","trigger","axisPointer","type","grid","left","top","height","right","xAxis","scale","boundaryGap","axisLine","onZero","lineStyle","color","splitLine","show","splitNumber","gridIndex","axisLabel","yAxis","splitArea","position","axisTick","dataZoom","start","end","y","xAxisIndex","series","name","markPoint","markLine","silent","smooth","normal","opacity","yAxisIndex","itemStyle","params","colorList","charts","init","$refs","echartContainer","setOption"],"sources":["src/components/k.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h1>Echarts绘制k线图</h1>\r\n    <div id=\"echartContainer\" ref=\"echartContainer\" style=\"width:100%; height:400px\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nvar echarts = require(\"echarts\");\r\nexport default {\r\n  data() {\r\n    return {\r\n      //数据模型 time0 open1 close2 min3 max4 vol5 tag6 macd7 dif8 dea9\r\n      //['2019-10-18',18.56,18.25,18.19,18.56,55.00,0,-0.00,0.08,0.09]\r\n      data: [\r\n        [\"2019-3-16\", 18.4, 18.58, 18.33, 18.79, 67.0, 1, 0.04, 0.11, 0.09],\r\n        [\"2019-3-19\", 18.56, 18.25, 18.19, 18.56, 55.0, 0, -0.0, 0.08, 0.09],\r\n        [\"2019-3-20\", 18.3, 18.22, 18.05, 18.41, 37.0, 0, 0.01, 0.09, 0.09],\r\n        [\"2019-3-21\", 18.18, 18.69, 18.02, 18.98, 89.0, 0, 0.03, 0.1, 0.08],\r\n        [\"2019-3-22\", 18.42, 18.29, 18.22, 18.48, 43.0, 0, -0.06, 0.05, 0.08],\r\n        [\"2019-3-23\", 18.26, 18.19, 18.08, 18.36, 46.0, 0, -0.1, 0.03, 0.09],\r\n        [\"2019-3-26\", 18.33, 18.07, 17.98, 18.35, 65.0, 0, -0.15, 0.03, 0.1],\r\n        [\"2019-3-27\", 18.08, 18.04, 17.88, 18.13, 37.0, 0, -0.19, 0.03, 0.12],\r\n        [\"2019-3-28\", 17.96, 17.86, 17.82, 17.99, 35.0, 0, -0.24, 0.03, 0.15],\r\n        [\"2019-3-29\", 17.85, 17.81, 17.8, 17.93, 27.0, 0, -0.24, 0.06, 0.18],\r\n        [\"2019-3-30\", 17.79, 17.93, 17.78, 18.08, 43.0, 0, -0.22, 0.11, 0.22],\r\n        [\"2019-4-02\", 17.78, 17.83, 17.78, 18.04, 27.0, 0, -0.2, 0.15, 0.25],\r\n        [\"2019-4-03\", 17.84, 17.9, 17.84, 18.06, 34.0, 0, -0.12, 0.22, 0.28],\r\n        [\"2019-4-04\", 17.97, 18.36, 17.85, 18.39, 62.0, 0, -0.0, 0.3, 0.3],\r\n        [\"2019-4-05\", 18.3, 18.57, 18.18, 19.08, 177.0, 0, 0.07, 0.33, 0.3],\r\n        [\"2019-4-06\", 18.53, 18.68, 18.3, 18.71, 95.0, 0, 0.12, 0.35, 0.29],\r\n        [\"2019-4-09\", 18.75, 19.08, 18.75, 19.98, 202.0, 1, 0.16, 0.35, 0.27],\r\n        [\"2019-4-10\", 18.85, 18.64, 18.56, 18.99, 85.0, 0, 0.09, 0.29, 0.25],\r\n        [\"2019-4-11\", 18.64, 18.44, 18.31, 18.64, 50.0, 0, 0.06, 0.27, 0.23],\r\n        [\"2019-4-12\", 18.55, 18.27, 18.17, 18.57, 43.0, 0, 0.05, 0.25, 0.23],\r\n        [\"2019-4-13\", 18.13, 18.14, 18.09, 18.34, 35.0, 0, 0.05, 0.24, 0.22],\r\n        [\"2019-4-16\", 18.01, 18.1, 17.93, 18.17, 34.0, 0, 0.07, 0.25, 0.21],\r\n        [\"2019-4-17\", 18.2, 18.14, 18.08, 18.45, 58.0, 0, 0.11, 0.25, 0.2],\r\n        [\"2019-4-18\", 18.23, 18.16, 18.0, 18.45, 47.0, 0, 0.13, 0.25, 0.19],\r\n        [\"2019-4-19\", 18.08, 18.2, 18.05, 18.25, 32.0, 0, 0.15, 0.24, 0.17],\r\n        [\"2019-4-20\", 18.15, 18.15, 18.11, 18.29, 36.0, 0, 0.13, 0.21, 0.15],\r\n        [\"2019-4-23\", 18.16, 18.19, 18.12, 18.34, 47.0, 0, 0.11, 0.18, 0.13],\r\n        [\"2019-4-24\", 18.23, 17.88, 17.7, 18.23, 62.0, 0, 0.03, 0.13, 0.11],\r\n        [\"2019-4-25\", 17.85, 17.73, 17.56, 17.85, 66.0, 0, -0.03, 0.09, 0.11],\r\n        [\"2019-4-26\", 17.79, 17.53, 17.5, 17.92, 63.0, 0, -0.1, 0.06, 0.11],\r\n        [\"2019-4-27\", 17.51, 17.04, 16.9, 17.51, 67.0, 0, -0.16, 0.05, 0.13],\r\n        [\"2019-4-30\", 17.07, 17.2, 16.98, 17.32, 55.0, 0, -0.12, 0.09, 0.15],\r\n        [\"2019-5-01\", 17.28, 17.11, 16.91, 17.28, 39.0, 0, -0.09, 0.12, 0.16],\r\n        [\"2019-5-02\", 17.13, 17.91, 17.05, 17.99, 102.0, 0, -0.01, 0.17, 0.18],\r\n        [\"2019-5-03\", 17.8, 17.78, 17.61, 17.98, 71.0, 0, -0.09, 0.14, 0.18],\r\n        [\"2019-5-04\", 17.6, 17.25, 17.13, 17.69, 51.0, 0, -0.18, 0.1, 0.19],\r\n        [\"2019-5-07\", 17.2, 17.39, 17.15, 17.45, 43.0, 0, -0.19, 0.12, 0.22],\r\n        [\"2019-5-08\", 17.3, 17.42, 17.18, 17.62, 45.0, 0, -0.23, 0.13, 0.24],\r\n        [\"2019-5-09\", 17.33, 17.39, 17.32, 17.59, 44.0, 0, -0.29, 0.13, 0.28],\r\n        [\"2019-5-10\", 17.39, 17.26, 17.21, 17.65, 44.0, 0, -0.37, 0.13, 0.32],\r\n        [\"2019-5-11\", 17.23, 16.92, 16.66, 17.26, 114.0, 1, -0.44, 0.15, 0.37],\r\n        [\"2019-5-14\", 16.75, 17.06, 16.5, 17.09, 94.0, 0, -0.44, 0.21, 0.44],\r\n        [\"2019-5-15\", 17.03, 17.03, 16.9, 17.06, 46.0, 0, -0.44, 0.28, 0.5],\r\n        [\"2019-5-16\", 17.08, 16.96, 16.87, 17.09, 30.0, 0, -0.4, 0.36, 0.56],\r\n        [\"2019-5-17\", 17.0, 17.1, 16.95, 17.12, 50.0, 0, -0.3, 0.47, 0.62],\r\n        [\"2019-5-18\", 17.09, 17.52, 17.04, 18.06, 156.0, 0, -0.14, 0.59, 0.66],\r\n        [\"2019-5-21\", 17.43, 18.23, 17.35, 18.45, 152.0, 1, 0.02, 0.69, 0.68],\r\n        [\"2019-5-22\", 18.14, 18.27, 18.06, 18.32, 94.0, 0, 0.08, 0.72, 0.68],\r\n        [\"2019-5-23\", 18.28, 18.19, 18.17, 18.71, 108.0, 0, 0.13, 0.73, 0.67],\r\n        [\"2019-5-24\", 18.18, 18.14, 18.01, 18.31, 37.0, 0, 0.19, 0.74, 0.65],\r\n        [\"2019-5-25\", 18.22, 18.33, 18.2, 18.36, 48.0, 0, 0.26, 0.75, 0.62],\r\n        [\"2019-5-28\", 18.35, 17.84, 17.8, 18.39, 48.0, 0, 0.27, 0.72, 0.59],\r\n        [\"2019-5-29\", 17.83, 17.94, 17.71, 17.97, 36.0, 0, 0.36, 0.73, 0.55],\r\n        [\"2019-5-30\", 17.9, 18.26, 17.55, 18.3, 71.0, 1, 0.43, 0.71, 0.5],\r\n        [\"2019-5-31\", 18.12, 17.99, 17.91, 18.33, 72.0, 0, 0.4, 0.63, 0.43],\r\n        [\"2019-6-04\", 17.91, 17.28, 17.16, 17.95, 37.0, 1, 0.34, 0.55, 0.38],\r\n        [\"2019-6-05\", 17.17, 17.23, 17.0, 17.55, 51.0, 0, 0.37, 0.51, 0.33],\r\n        [\"2019-6-06\", 17.2, 17.31, 17.06, 17.33, 31.0, 0, 0.37, 0.46, 0.28],\r\n        [\"2019-6-07\", 17.15, 16.67, 16.51, 17.15, 19.0, 0, 0.3, 0.37, 0.22],\r\n        [\"2019-6-08\", 16.8, 16.81, 16.61, 17.06, 60.0, 0, 0.29, 0.32, 0.18],\r\n        [\"2019-6-11\", 16.68, 16.04, 16.0, 16.68, 65.0, 0, 0.2, 0.24, 0.14],\r\n        [\"2019-6-12\", 16.03, 15.98, 15.88, 16.25, 46.0, 0, 0.2, 0.21, 0.11],\r\n        [\"2019-6-13\", 16.21, 15.87, 15.78, 16.21, 57.0, 0, 0.2, 0.18, 0.08],\r\n        [\"2019-6-14\", 15.55, 15.89, 15.52, 15.96, 42.0, 0, 0.2, 0.16, 0.05],\r\n        [\"2019-6-15\", 15.87, 15.48, 15.45, 15.92, 34.0, 1, 0.17, 0.11, 0.02],\r\n        [\"2019-6-18\", 15.39, 15.42, 15.36, 15.7, 26.0, 0, 0.21, 0.1, -0.0],\r\n        [\"2019-6-19\", 15.58, 15.71, 15.35, 15.77, 38.0, 0, 0.25, 0.09, -0.03],\r\n        [\"2019-6-20\", 15.56, 15.52, 15.24, 15.68, 38.0, 0, 0.23, 0.05, -0.07],\r\n        [\"2019-6-21\", 15.41, 15.3, 15.28, 15.68, 35.0, 0, 0.21, 0.0, -0.1],\r\n        [\"2019-6-22\", 15.48, 15.28, 15.13, 15.49, 30.0, 0, 0.21, -0.02, -0.13],\r\n        [\"2019-6-25\", 15.29, 15.48, 15.2, 15.49, 21.0, 0, 0.2, -0.06, -0.16],\r\n        [\"2019-6-26\", 15.33, 14.86, 14.78, 15.39, 30.0, 0, 0.12, -0.13, -0.19],\r\n        [\"2019-6-27\", 14.96, 15.0, 14.84, 15.22, 51.0, 0, 0.13, -0.14, -0.2],\r\n        [\"2019-6-28\", 14.96, 14.72, 14.62, 15.06, 25.0, 0, 0.1, -0.17, -0.22],\r\n        [\"2019-6-29\", 14.75, 14.99, 14.62, 15.08, 36.0, 0, 0.13, -0.17, -0.24],\r\n        [\"2019-7-01\", 14.98, 14.72, 14.48, 15.18, 27.0, 0, 0.1, -0.21, -0.26],\r\n        [\"2019-7-02\", 14.65, 14.85, 14.65, 14.95, 18.0, 0, 0.11, -0.21, -0.27],\r\n        [\"2019-7-03\", 14.72, 14.67, 14.55, 14.8, 23.0, 0, 0.1, -0.24, -0.29],\r\n        [\"2019-7-04\", 14.79, 14.88, 14.69, 14.93, 22.0, 0, 0.13, -0.24, -0.3],\r\n        [\"2019-7-05\", 14.9, 14.86, 14.78, 14.93, 16.0, 0, 0.12, -0.26, -0.32],\r\n        [\"2019-7-15\", 14.5, 14.66, 14.47, 14.82, 19.0, 0, 0.11, -0.28, -0.34],\r\n        [\"2019-7-16\", 14.77, 14.94, 14.72, 15.05, 26.0, 0, 0.14, -0.28, -0.35],\r\n        [\"2019-7-17\", 14.95, 15.03, 14.88, 15.07, 38.0, 0, 0.12, -0.31, -0.37],\r\n        [\"2019-7-18\", 14.95, 14.9, 14.87, 15.06, 28.0, 0, 0.07, -0.35, -0.39],\r\n        [\"2019-7-19\", 14.9, 14.75, 14.68, 14.94, 22.0, 0, 0.03, -0.38, -0.4],\r\n        [\"2019-7-22\", 14.88, 15.01, 14.79, 15.11, 38.0, 1, 0.01, -0.4, -0.4],\r\n        [\"2019-7-23\", 15.01, 14.83, 14.72, 15.01, 24.0, 0, -0.09, -0.45, -0.4]\r\n      ]\r\n    };\r\n  },\r\n  mounted() {\r\n    // 这里实现的是一个比较简单的，可以按照需求将函数移动到methods函数中\r\n    var data0 = splitData(this.data);\r\n    // macd计算\r\n    function splitData(rawData) {\r\n      var categoryData = [];\r\n      var values = [];\r\n      var macds = [];\r\n      var difs = [];\r\n      var deas = [];\r\n      for (var i = 0; i < rawData.length; i++) {\r\n        categoryData.push(rawData[i].splice(0, 1)[0]);\r\n        values.push(rawData[i]);\r\n        macds.push(rawData[i][6]);\r\n        difs.push(rawData[i][7]);\r\n        deas.push(rawData[i][8]);\r\n      }\r\n      return {\r\n        categoryData: categoryData,\r\n        values: values,\r\n        macds: macds,\r\n        difs: difs,\r\n        deas: deas\r\n      };\r\n    }\r\n    // ma均线函数\r\n    function calculateMA(dayCount) {\r\n      var result = [];\r\n      for (var i = 0, len = data0.values.length; i < len; i++) {\r\n        if (i < dayCount) {\r\n          result.push(\"-\");\r\n          continue;\r\n        }\r\n        var sum = 0;\r\n        for (var j = 0; j < dayCount; j++) {\r\n          sum += data0.values[i - j][1];\r\n        }\r\n        result.push(sum / dayCount);\r\n      }\r\n      return result;\r\n    }\r\n    // k线配置项\r\n    var option = {\r\n      backgroundColor:\"#ffffff\",\r\n      tooltip: {\r\n        trigger: \"axis\",\r\n        axisPointer: {\r\n          type: \"cross\"\r\n        }\r\n      },\r\n\r\n      grid: [\r\n        {\r\n          left: \"3%\",\r\n          top: \"0\",\r\n          height: \"75%\"\r\n        },\r\n        {\r\n          left: \"3%\",\r\n          right: \"10%\",\r\n          top: \"80%\",\r\n          height: \"10%\"\r\n        }\r\n      ],\r\n      xAxis: [\r\n        {\r\n          type: \"category\",\r\n          data: data0.categoryData,\r\n          scale: true,\r\n          boundaryGap: false,\r\n          axisLine: {\r\n            onZero: false,\r\n            lineStyle: {\r\n              color: \"red\"\r\n            }\r\n          },\r\n          splitLine: {\r\n            show: false\r\n          },\r\n          splitNumber: 20\r\n        },\r\n        {\r\n          type: \"category\",\r\n          gridIndex: 1,\r\n          data: data0.categoryData,\r\n          axisLabel: { show: false }\r\n        }\r\n      ],\r\n      yAxis: [\r\n        {\r\n          scale: true,\r\n          splitArea: {\r\n            show: true\r\n          },\r\n          axisLine: {\r\n            lineStyle: {\r\n              color: \"red\"\r\n            }\r\n          },\r\n          position: \"right\"\r\n        },\r\n        {\r\n          gridIndex: 1,\r\n          splitNumber: 3,\r\n          axisLine: { onZero: false },\r\n          axisTick: { show: false },\r\n          splitLine: { show: false },\r\n          axisLabel: { show: true },\r\n          axisLine: {\r\n            lineStyle: {\r\n              color: \"red\"\r\n            }\r\n          },\r\n          position: \"right\"\r\n        }\r\n      ],\r\n      dataZoom: [\r\n        {\r\n          type: \"inside\",\r\n          start: 100,\r\n          end: 80\r\n        },\r\n        {\r\n          show: true,\r\n          type: \"slider\",\r\n          y: \"90%\",\r\n          start: 50,\r\n          end: 100\r\n        },\r\n        {\r\n          show: false,\r\n          xAxisIndex: [0, 1],\r\n          type: \"slider\",\r\n          start: 20,\r\n          end: 100\r\n        }\r\n      ],\r\n      series: [\r\n        {\r\n          name: \"555\",\r\n          type: \"candlestick\",\r\n          data: data0.values,\r\n          markPoint: {\r\n            data: [\r\n              {\r\n                name: \"XX标点\"\r\n              }\r\n            ]\r\n          },\r\n          markLine: {\r\n            silent: true,\r\n            data: [\r\n              {\r\n                yAxis: 2222\r\n              }\r\n            ]\r\n          }\r\n        },\r\n        {\r\n          name: \"MA5\",\r\n          type: \"line\",\r\n          data: calculateMA(5),\r\n          smooth: true,\r\n          lineStyle: {\r\n            normal: {\r\n              opacity: 0.5\r\n            }\r\n          }\r\n        },\r\n        {\r\n          name: \"MA10\",\r\n          type: \"line\",\r\n          data: calculateMA(10),\r\n          smooth: true,\r\n          lineStyle: {\r\n            normal: {\r\n              opacity: 0.5\r\n            }\r\n          }\r\n        },\r\n        {\r\n          name: \"MA20\",\r\n          type: \"line\",\r\n          data: calculateMA(20),\r\n          smooth: true,\r\n          lineStyle: {\r\n            normal: {\r\n              opacity: 0.5\r\n            }\r\n          }\r\n        },\r\n        {\r\n          name: \"MA30\",\r\n          type: \"line\",\r\n          data: calculateMA(30),\r\n          smooth: true,\r\n          lineStyle: {\r\n            normal: {\r\n              opacity: 0.5\r\n            }\r\n          }\r\n        },\r\n        {\r\n          name: \"MACD\",\r\n          type: \"bar\",\r\n          xAxisIndex: 1,\r\n          yAxisIndex: 1,\r\n          data: data0.macds,\r\n          itemStyle: {\r\n            normal: {\r\n              color: function(params) {\r\n                var colorList;\r\n                if (params.data >= 0) {\r\n                  colorList = \"#ef232a\";\r\n                } else {\r\n                  colorList = \"#14b143\";\r\n                }\r\n                return colorList;\r\n              }\r\n            }\r\n          }\r\n        },\r\n        {\r\n          name: \"DIF\",\r\n          type: \"line\",\r\n          xAxisIndex: 1,\r\n          yAxisIndex: 1,\r\n          data: data0.difs\r\n        },\r\n        {\r\n          name: \"DEA\",\r\n          type: \"line\",\r\n          xAxisIndex: 1,\r\n          yAxisIndex: 1,\r\n          data: data0.deas\r\n        }\r\n      ]\r\n    };\r\n    // 进行初始化\r\n    var charts = echarts.init(this.$refs.echartContainer);\r\n    charts.setOption(option);\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n"],"mappings":";AAQA,IAAAA,OAAA,GAAAC,OAAA;AACA;EACAC,KAAA;IACA;MACA;MACA;MACAA,IAAA,GACA,qEACA,sEACA,qEACA,qEACA,uEACA,sEACA,sEACA,uEACA,uEACA,sEACA,uEACA,sEACA,sEACA,oEACA,qEACA,qEACA,uEACA,sEACA,sEACA,sEACA,sEACA,qEACA,oEACA,qEACA,qEACA,sEACA,sEACA,qEACA,uEACA,qEACA,sEACA,sEACA,uEACA,wEACA,sEACA,qEACA,sEACA,sEACA,uEACA,uEACA,wEACA,sEACA,qEACA,sEACA,oEACA,wEACA,uEACA,sEACA,uEACA,sEACA,qEACA,qEACA,sEACA,mEACA,qEACA,sEACA,qEACA,qEACA,qEACA,qEACA,oEACA,qEACA,qEACA,qEACA,sEACA,oEACA,uEACA,uEACA,oEACA,wEACA,sEACA,wEACA,sEACA,uEACA,wEACA,uEACA,wEACA,sEACA,uEACA,uEACA,uEACA,wEACA,wEACA,uEACA,sEACA,sEACA;IAEA;EACA;EACAC,QAAA;IACA;IACA,IAAAC,KAAA,GAAAC,SAAA,MAAAH,IAAA;IACA;IACA,SAAAG,UAAAC,OAAA;MACA,IAAAC,YAAA;MACA,IAAAC,MAAA;MACA,IAAAC,KAAA;MACA,IAAAC,IAAA;MACA,IAAAC,IAAA;MACA,SAAAC,CAAA,MAAAA,CAAA,GAAAN,OAAA,CAAAO,MAAA,EAAAD,CAAA;QACAL,YAAA,CAAAO,IAAA,CAAAR,OAAA,CAAAM,CAAA,EAAAG,MAAA;QACAP,MAAA,CAAAM,IAAA,CAAAR,OAAA,CAAAM,CAAA;QACAH,KAAA,CAAAK,IAAA,CAAAR,OAAA,CAAAM,CAAA;QACAF,IAAA,CAAAI,IAAA,CAAAR,OAAA,CAAAM,CAAA;QACAD,IAAA,CAAAG,IAAA,CAAAR,OAAA,CAAAM,CAAA;MACA;MACA;QACAL,YAAA,EAAAA,YAAA;QACAC,MAAA,EAAAA,MAAA;QACAC,KAAA,EAAAA,KAAA;QACAC,IAAA,EAAAA,IAAA;QACAC,IAAA,EAAAA;MACA;IACA;IACA;IACA,SAAAK,YAAAC,QAAA;MACA,IAAAC,MAAA;MACA,SAAAN,CAAA,MAAAO,GAAA,GAAAf,KAAA,CAAAI,MAAA,CAAAK,MAAA,EAAAD,CAAA,GAAAO,GAAA,EAAAP,CAAA;QACA,IAAAA,CAAA,GAAAK,QAAA;UACAC,MAAA,CAAAJ,IAAA;UACA;QACA;QACA,IAAAM,GAAA;QACA,SAAAC,CAAA,MAAAA,CAAA,GAAAJ,QAAA,EAAAI,CAAA;UACAD,GAAA,IAAAhB,KAAA,CAAAI,MAAA,CAAAI,CAAA,GAAAS,CAAA;QACA;QACAH,MAAA,CAAAJ,IAAA,CAAAM,GAAA,GAAAH,QAAA;MACA;MACA,OAAAC,MAAA;IACA;IACA;IACA,IAAAI,MAAA;MACAC,eAAA;MACAC,OAAA;QACAC,OAAA;QACAC,WAAA;UACAC,IAAA;QACA;MACA;MAEAC,IAAA,GACA;QACAC,IAAA;QACAC,GAAA;QACAC,MAAA;MACA,GACA;QACAF,IAAA;QACAG,KAAA;QACAF,GAAA;QACAC,MAAA;MACA,EACA;MACAE,KAAA,GACA;QACAN,IAAA;QACAzB,IAAA,EAAAE,KAAA,CAAAG,YAAA;QACA2B,KAAA;QACAC,WAAA;QACAC,QAAA;UACAC,MAAA;UACAC,SAAA;YACAC,KAAA;UACA;QACA;QACAC,SAAA;UACAC,IAAA;QACA;QACAC,WAAA;MACA,GACA;QACAf,IAAA;QACAgB,SAAA;QACAzC,IAAA,EAAAE,KAAA,CAAAG,YAAA;QACAqC,SAAA;UAAAH,IAAA;QAAA;MACA,EACA;MACAI,KAAA,GACA;QACAX,KAAA;QACAY,SAAA;UACAL,IAAA;QACA;QACAL,QAAA;UACAE,SAAA;YACAC,KAAA;UACA;QACA;QACAQ,QAAA;MACA,GACA;QACAJ,SAAA;QACAD,WAAA;QACAN,QAAA;UAAAC,MAAA;QAAA;QACAW,QAAA;UAAAP,IAAA;QAAA;QACAD,SAAA;UAAAC,IAAA;QAAA;QACAG,SAAA;UAAAH,IAAA;QAAA;QACAL,QAAA;UACAE,SAAA;YACAC,KAAA;UACA;QACA;QACAQ,QAAA;MACA,EACA;MACAE,QAAA,GACA;QACAtB,IAAA;QACAuB,KAAA;QACAC,GAAA;MACA,GACA;QACAV,IAAA;QACAd,IAAA;QACAyB,CAAA;QACAF,KAAA;QACAC,GAAA;MACA,GACA;QACAV,IAAA;QACAY,UAAA;QACA1B,IAAA;QACAuB,KAAA;QACAC,GAAA;MACA,EACA;MACAG,MAAA,GACA;QACAC,IAAA;QACA5B,IAAA;QACAzB,IAAA,EAAAE,KAAA,CAAAI,MAAA;QACAgD,SAAA;UACAtD,IAAA,GACA;YACAqD,IAAA;UACA;QAEA;QACAE,QAAA;UACAC,MAAA;UACAxD,IAAA,GACA;YACA2C,KAAA;UACA;QAEA;MACA,GACA;QACAU,IAAA;QACA5B,IAAA;QACAzB,IAAA,EAAAc,WAAA;QACA2C,MAAA;QACArB,SAAA;UACAsB,MAAA;YACAC,OAAA;UACA;QACA;MACA,GACA;QACAN,IAAA;QACA5B,IAAA;QACAzB,IAAA,EAAAc,WAAA;QACA2C,MAAA;QACArB,SAAA;UACAsB,MAAA;YACAC,OAAA;UACA;QACA;MACA,GACA;QACAN,IAAA;QACA5B,IAAA;QACAzB,IAAA,EAAAc,WAAA;QACA2C,MAAA;QACArB,SAAA;UACAsB,MAAA;YACAC,OAAA;UACA;QACA;MACA,GACA;QACAN,IAAA;QACA5B,IAAA;QACAzB,IAAA,EAAAc,WAAA;QACA2C,MAAA;QACArB,SAAA;UACAsB,MAAA;YACAC,OAAA;UACA;QACA;MACA,GACA;QACAN,IAAA;QACA5B,IAAA;QACA0B,UAAA;QACAS,UAAA;QACA5D,IAAA,EAAAE,KAAA,CAAAK,KAAA;QACAsD,SAAA;UACAH,MAAA;YACArB,KAAA,WAAAA,CAAAyB,MAAA;cACA,IAAAC,SAAA;cACA,IAAAD,MAAA,CAAA9D,IAAA;gBACA+D,SAAA;cACA;gBACAA,SAAA;cACA;cACA,OAAAA,SAAA;YACA;UACA;QACA;MACA,GACA;QACAV,IAAA;QACA5B,IAAA;QACA0B,UAAA;QACAS,UAAA;QACA5D,IAAA,EAAAE,KAAA,CAAAM;MACA,GACA;QACA6C,IAAA;QACA5B,IAAA;QACA0B,UAAA;QACAS,UAAA;QACA5D,IAAA,EAAAE,KAAA,CAAAO;MACA;IAEA;IACA;IACA,IAAAuD,MAAA,GAAAlE,OAAA,CAAAmE,IAAA,MAAAC,KAAA,CAAAC,eAAA;IACAH,MAAA,CAAAI,SAAA,CAAAhD,MAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}