{"ast":null,"code":"import HQChart from \"hqchart\";\n// import HQChart from \"node_modules/hqchart\"\nfunction DefaultData() {}\nDefaultData.GetKLineOption = function () {\n  let data = {\n    Type: \"历史K线图\",\n    //窗口指标\n    Windows: [{\n      Index: \"MA\",\n      Modify: false,\n      Change: false\n    }, {\n      Index: \"VOL\",\n      Modify: false,\n      Change: false\n    }],\n    IsShowCorssCursorInfo: true,\n    //边框\n    Border: {\n      Left: 1,\n      Right: 1,\n      //右边间距\n      Top: 25,\n      Bottom: 25\n    },\n    KLine: {\n      Right: 1,\n      //复权 0 不复权 1 前复权 2 后复权\n      Period: 0,\n      //周期: 0 日线 1 周线 2 月线 3 年线\n      PageSize: 70,\n      IsShowTooltip: true\n    }\n  };\n  return data;\n};\nexport default {\n  data() {\n    var data = {\n      Symbol: \"600000.sh\",\n      KLine: {\n        JSChart: null,\n        Option: DefaultData.GetKLineOption()\n      }\n    };\n    return data;\n  },\n  created() {\n    console.log(58);\n  },\n  mounted() {\n    console.log(60);\n    this.OnSize();\n    window.onresize = () => {\n      this.OnSize();\n    };\n    this.CreateKLineChart();\n  },\n  methods: {\n    OnSize() {\n      var chartHeight = window.innerHeight - 30;\n      var chartWidth = window.innerWidth - 30;\n      var kline = this.$refs.kline;\n      kline.style.width = chartWidth + \"px\";\n      kline.style.height = chartHeight + \"px\";\n      if (this.KLine.JSChart) this.KLine.JSChart.OnSize();\n    },\n    CreateKLineChart() {\n      //创建K线图\n      if (this.KLine.JSChart) {\n        return;\n      }\n      this.KLine.Option.Symbol = this.Symbol;\n      let chart = HQChart.Chart.JSChart.Init(this.$refs.kline);\n      chart.SetOption(this.KLine.Option);\n      this.KLine.JSChart = chart;\n      console.log(89, chart);\n    }\n  }\n};","map":{"version":3,"names":["HQChart","DefaultData","GetKLineOption","data","Type","Windows","Index","Modify","Change","IsShowCorssCursorInfo","Border","Left","Right","Top","Bottom","KLine","Period","PageSize","IsShowTooltip","Symbol","JSChart","Option","created","console","log","mounted","OnSize","window","onresize","CreateKLineChart","methods","chartHeight","innerHeight","chartWidth","innerWidth","kline","$refs","style","width","height","chart","Chart","Init","SetOption"],"sources":["src/views/test2.vue"],"sourcesContent":["<template>\r\n  <div id=\"app2\">\r\n    <div id=\"kline\" ref=\"kline\" style=\"width: 300px; height: 300px\"></div>\r\n    <span>111 </span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport HQChart from \"hqchart\";\r\n// import HQChart from \"node_modules/hqchart\"\r\nfunction DefaultData() {}\r\n\r\nDefaultData.GetKLineOption = function () {\r\n  let data = {\r\n    Type: \"历史K线图\",\r\n\r\n    //窗口指标\r\n    Windows: [\r\n      { Index: \"MA\", Modify: false, Change: false },\r\n      { Index: \"VOL\", Modify: false, Change: false },\r\n    ],\r\n\r\n    IsShowCorssCursorInfo: true,\r\n\r\n    //边框\r\n    Border: {\r\n      Left: 1,\r\n      Right: 1, //右边间距\r\n      Top: 25,\r\n      Bottom: 25,\r\n    },\r\n\r\n    KLine: {\r\n      Right: 1, //复权 0 不复权 1 前复权 2 后复权\r\n      Period: 0, //周期: 0 日线 1 周线 2 月线 3 年线\r\n      PageSize: 70,\r\n      IsShowTooltip: true,\r\n    },\r\n  };\r\n\r\n  return data;\r\n};\r\n\r\nexport default {\r\n  data() {\r\n    var data = {\r\n      Symbol: \"600000.sh\",\r\n      KLine: {\r\n        JSChart: null,\r\n        Option: DefaultData.GetKLineOption(),\r\n      },\r\n    };\r\n\r\n    return data;\r\n  },\r\n\r\n  created() {\r\n    console.log(58)\r\n  },\r\n\r\n  mounted() {\r\n    console.log(60)\r\n    this.OnSize();\r\n\r\n    window.onresize = () => {\r\n      this.OnSize();\r\n    };\r\n\r\n    this.CreateKLineChart();\r\n  },\r\n\r\n  methods: {\r\n    OnSize() {\r\n      var chartHeight = window.innerHeight - 30;\r\n      var chartWidth = window.innerWidth - 30;\r\n\r\n      var kline = this.$refs.kline;\r\n      kline.style.width = chartWidth + \"px\";\r\n      kline.style.height = chartHeight + \"px\";\r\n      if (this.KLine.JSChart) this.KLine.JSChart.OnSize();\r\n    },\r\n\r\n    CreateKLineChart() { //创建K线图\r\n      if (this.KLine.JSChart) {\r\n        return;\r\n      }\r\n      this.KLine.Option.Symbol = this.Symbol;\r\n      let chart = HQChart.Chart.JSChart.Init(this.$refs.kline);\r\n      chart.SetOption(this.KLine.Option);\r\n      this.KLine.JSChart = chart;\r\n\r\n      console.log(89, chart)\r\n    },\r\n  },\r\n};\r\n</script>"],"mappings":"AAQA,OAAAA,OAAA;AACA;AACA,SAAAC,YAAA;AAEAA,WAAA,CAAAC,cAAA;EACA,IAAAC,IAAA;IACAC,IAAA;IAEA;IACAC,OAAA,GACA;MAAAC,KAAA;MAAAC,MAAA;MAAAC,MAAA;IAAA,GACA;MAAAF,KAAA;MAAAC,MAAA;MAAAC,MAAA;IAAA,EACA;IAEAC,qBAAA;IAEA;IACAC,MAAA;MACAC,IAAA;MACAC,KAAA;MAAA;MACAC,GAAA;MACAC,MAAA;IACA;IAEAC,KAAA;MACAH,KAAA;MAAA;MACAI,MAAA;MAAA;MACAC,QAAA;MACAC,aAAA;IACA;EACA;EAEA,OAAAf,IAAA;AACA;AAEA;EACAA,KAAA;IACA,IAAAA,IAAA;MACAgB,MAAA;MACAJ,KAAA;QACAK,OAAA;QACAC,MAAA,EAAApB,WAAA,CAAAC,cAAA;MACA;IACA;IAEA,OAAAC,IAAA;EACA;EAEAmB,QAAA;IACAC,OAAA,CAAAC,GAAA;EACA;EAEAC,QAAA;IACAF,OAAA,CAAAC,GAAA;IACA,KAAAE,MAAA;IAEAC,MAAA,CAAAC,QAAA;MACA,KAAAF,MAAA;IACA;IAEA,KAAAG,gBAAA;EACA;EAEAC,OAAA;IACAJ,OAAA;MACA,IAAAK,WAAA,GAAAJ,MAAA,CAAAK,WAAA;MACA,IAAAC,UAAA,GAAAN,MAAA,CAAAO,UAAA;MAEA,IAAAC,KAAA,QAAAC,KAAA,CAAAD,KAAA;MACAA,KAAA,CAAAE,KAAA,CAAAC,KAAA,GAAAL,UAAA;MACAE,KAAA,CAAAE,KAAA,CAAAE,MAAA,GAAAR,WAAA;MACA,SAAAhB,KAAA,CAAAK,OAAA,OAAAL,KAAA,CAAAK,OAAA,CAAAM,MAAA;IACA;IAEAG,iBAAA;MAAA;MACA,SAAAd,KAAA,CAAAK,OAAA;QACA;MACA;MACA,KAAAL,KAAA,CAAAM,MAAA,CAAAF,MAAA,QAAAA,MAAA;MACA,IAAAqB,KAAA,GAAAxC,OAAA,CAAAyC,KAAA,CAAArB,OAAA,CAAAsB,IAAA,MAAAN,KAAA,CAAAD,KAAA;MACAK,KAAA,CAAAG,SAAA,MAAA5B,KAAA,CAAAM,MAAA;MACA,KAAAN,KAAA,CAAAK,OAAA,GAAAoB,KAAA;MAEAjB,OAAA,CAAAC,GAAA,KAAAgB,KAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}