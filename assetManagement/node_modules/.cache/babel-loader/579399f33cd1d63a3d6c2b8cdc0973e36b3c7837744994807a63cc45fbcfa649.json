{"ast":null,"code":"export default {\n  data() {\n    return {\n      isCollapse: false,\n      status: false,\n      code: null,\n      msg: null\n    };\n  },\n  methods: {\n    startInterval() {\n      if (this.timerId) {\n        this.clearInterval(this.timerId);\n      }\n      this.timerId = setInterval(() => {\n        this.$axios.post(\"http://39.101.141.53:8090//checkTaskState\", {}).then(response => {\n          this.code = response.data.code;\n          this.msg = response.data.msg;\n          if (this.code == 200) {\n            this.$message({\n              message: \"数据库更新成功\",\n              type: \"success\"\n            });\n            this.status = false;\n            workerTimers.clearInterval(this.timerId);\n          }\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }, 5000);\n    },\n    handleOpen(key, keyPath) {\n      console.log(key, keyPath);\n    },\n    handleClose(key, keyPath) {\n      console.log(key, keyPath);\n    },\n    clickMenu(item) {\n      console.log(item);\n    },\n    updata_Database() {\n      this.status = true;\n      this.$axios.post(\"http://39.101.141.53:8090//updateDatas\", {}).then(response => {\n        console.log(\"finish\");\n        this.code = response.data.code;\n        this.msg = response.data.msg;\n        if (this.code == 202) {\n          this.$message(\"开始更新\");\n          this.startInterval();\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["data","isCollapse","status","code","msg","methods","startInterval","timerId","clearInterval","setInterval","$axios","post","then","response","$message","message","type","workerTimers","catch","error","console","log","handleOpen","key","keyPath","handleClose","clickMenu","item","updata_Database"],"sources":["src/components/Aside2.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-menu\r\n      default-active=\"1-4-1\"\r\n      class=\"el-menu-vertical\"\r\n      @open=\"handleOpen\"\r\n      @close=\"handleClose\"\r\n      :collapse=\"isCollapse\"\r\n      background-color=\"#545c64\"\r\n      text-color=\"#fff\"\r\n      active-text-color=\"#ffd04b\"\r\n      :router=\"true\"\r\n    >\r\n      <h3 align=\"center\">知识图谱查询</h3>\r\n      <el-submenu index=\"0\">\r\n        <span slot=\"title\">知识图谱查询</span>\r\n        <el-submenu index=\"1\">\r\n        <span slot=\"title\">F10数据库查询</span>\r\n        <el-menu-item-group>\r\n          <el-menu-item index=\"/company\">查公司</el-menu-item>\r\n          <el-menu-item index=\"/person\">查人</el-menu-item>\r\n          <el-menu-item index=\"/stock\">查股票</el-menu-item>\r\n        </el-menu-item-group>\r\n        </el-submenu>\r\n        <el-submenu index=\"2\">\r\n        <span slot=\"title\">产业链查询</span>\r\n        <el-menu-item-group>\r\n          <el-menu-item index=\"/product\">查下游</el-menu-item>\r\n          <el-menu-item index=\"/product2\">查上游</el-menu-item>\r\n        </el-menu-item-group>\r\n        </el-submenu>\r\n      </el-submenu>\r\n\r\n     <el-menu-item-group>\r\n          <el-menu-item ><a href=\"http://localhost:3000/task\" class=\"no-link-style\">实体对齐</a></el-menu-item>\r\n      </el-menu-item-group>\r\n\r\n\r\n\r\n    </el-menu>\r\n    <div style=\"text-align: center\" class=\"A\">\r\n      <el-button class=\"B\" @click.native=\"updata_Database\" :loading=\"status\"\r\n        >更新数据库</el-button\r\n      >\r\n    </div>\r\n  </div>\r\n</template>\r\n  \r\n  \r\n    \r\n  <style lang=\"less\">\r\n\r\n.no-link-style {\r\n  text-decoration: none;\r\n  color: inherit; /* 继承父元素的颜色 */\r\n  cursor: pointer; /* 添加指针样式以表示可点击 */\r\n}\r\n\r\n.A {\r\n  .B {\r\n    background: #696969;\r\n    border-color: #696969;;\r\n    color: #FFFFFF;\r\n  }\r\n}\r\n.el-menu-vertical:not(.el-menu--collapse) {\r\n  width: 200px;\r\n}\r\n.el-menu-vertical {\r\n  padding-top: 20px;\r\n  height: 93vh;\r\n  h3 {\r\n    color: #fff;\r\n    padding-bottom: 10px;\r\n    letter-spacing: 0.2px\r\n  }\r\n  span {\r\n    vertical-align: middle;\r\n  }\r\n  .el-menu-item {\r\n    vertical-align: 15%;\r\n  }\r\n  .el-submenu .el-menu-item {\r\n    height: 45px;\r\n    line-height: 45px;\r\n  }\r\n  .el-menu-item-group__title {\r\n    padding: 0 0 0 20px;\r\n  }\r\n  .el-menu {\r\n    background-color: #f8f8f8;\r\n    border: none;\r\n  }\r\n}\r\n</style>\r\n    \r\n  <script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      isCollapse: false,\r\n      status: false,\r\n      code: null,\r\n      msg: null,\r\n    };\r\n  },\r\n  methods: {\r\n    startInterval() {\r\n      if (this.timerId) {\r\n        this.clearInterval(this.timerId);\r\n      }\r\n      this.timerId = setInterval(() => {\r\n        this.$axios\r\n          .post(\"http://39.101.141.53:8090//checkTaskState\", {})\r\n          .then((response) => {\r\n            this.code = response.data.code;\r\n            this.msg = response.data.msg;\r\n            if (this.code == 200) {\r\n              this.$message({\r\n                message: \"数据库更新成功\",\r\n                type: \"success\",\r\n              });\r\n              this.status = false;\r\n              workerTimers.clearInterval(this.timerId);\r\n            }\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          });\r\n      }, 5000);\r\n    },\r\n    handleOpen(key, keyPath) {\r\n      console.log(key, keyPath);\r\n    },\r\n    handleClose(key, keyPath) {\r\n      console.log(key, keyPath);\r\n    },\r\n    clickMenu(item) {\r\n      console.log(item);\r\n    },\r\n    updata_Database() {\r\n      this.status = true;\r\n      this.$axios\r\n        .post(\"http://39.101.141.53:8090//updateDatas\", {})\r\n        .then((response) => {\r\n          console.log(\"finish\");\r\n          this.code = response.data.code;\r\n          this.msg = response.data.msg;\r\n          if (this.code == 202) {\r\n            this.$message(\"开始更新\");\r\n            this.startInterval();\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>"],"mappings":"AAiGA;EACAA,KAAA;IACA;MACAC,UAAA;MACAC,MAAA;MACAC,IAAA;MACAC,GAAA;IACA;EACA;EACAC,OAAA;IACAC,cAAA;MACA,SAAAC,OAAA;QACA,KAAAC,aAAA,MAAAD,OAAA;MACA;MACA,KAAAA,OAAA,GAAAE,WAAA;QACA,KAAAC,MAAA,CACAC,IAAA,kDACAC,IAAA,CAAAC,QAAA;UACA,KAAAV,IAAA,GAAAU,QAAA,CAAAb,IAAA,CAAAG,IAAA;UACA,KAAAC,GAAA,GAAAS,QAAA,CAAAb,IAAA,CAAAI,GAAA;UACA,SAAAD,IAAA;YACA,KAAAW,QAAA;cACAC,OAAA;cACAC,IAAA;YACA;YACA,KAAAd,MAAA;YACAe,YAAA,CAAAT,aAAA,MAAAD,OAAA;UACA;QACA,GACAW,KAAA,WAAAC,KAAA;UACAC,OAAA,CAAAC,GAAA,CAAAF,KAAA;QACA;MACA;IACA;IACAG,WAAAC,GAAA,EAAAC,OAAA;MACAJ,OAAA,CAAAC,GAAA,CAAAE,GAAA,EAAAC,OAAA;IACA;IACAC,YAAAF,GAAA,EAAAC,OAAA;MACAJ,OAAA,CAAAC,GAAA,CAAAE,GAAA,EAAAC,OAAA;IACA;IACAE,UAAAC,IAAA;MACAP,OAAA,CAAAC,GAAA,CAAAM,IAAA;IACA;IACAC,gBAAA;MACA,KAAA1B,MAAA;MACA,KAAAQ,MAAA,CACAC,IAAA,+CACAC,IAAA,CAAAC,QAAA;QACAO,OAAA,CAAAC,GAAA;QACA,KAAAlB,IAAA,GAAAU,QAAA,CAAAb,IAAA,CAAAG,IAAA;QACA,KAAAC,GAAA,GAAAS,QAAA,CAAAb,IAAA,CAAAI,GAAA;QACA,SAAAD,IAAA;UACA,KAAAW,QAAA;UACA,KAAAR,aAAA;QACA;MACA,GACAY,KAAA,WAAAC,KAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,KAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}