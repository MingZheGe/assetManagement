{"ast":null,"code":"import k from \"./k.vue\";\nimport { categoryes } from \"../types/types\"; //只导入特定的属性，变量\nimport axios from \"axios\";\nexport default {\n  components: {\n    k\n  },\n  props: {\n    ifshowDrawer: Boolean,\n    type: String,\n    billData: Object,\n    loanData: Object\n  },\n  watch: {\n    ifshowDrawer(newValue, oldValue) {\n      if (newValue !== oldValue) {\n        console.log(\"向父组件传递改变的值原来\", oldValue);\n        console.log(\"向父组件传递改变的值现在\", newValue);\n        if (this.type == \"stock\") this.drawerSize = \"60%\";\n        this.showDrawer = newValue;\n        //this.$emit('dialog-form-visible-changed', newValue);\n      } else {\n        console.log(\"111\");\n      }\n    },\n    showDrawer(newValue, oldValue) {\n      if (newValue !== oldValue) {\n        console.log(\"drawer原来\", oldValue);\n        console.log(\"drawer现在\", newValue);\n        this.$emit(\"drawerFalse\", newValue);\n      }\n    }\n  },\n  data() {\n    return {\n      category: categoryes,\n      showDrawer: false,\n      drawerSize: \"30%\",\n      dialog: false,\n      loading: false,\n      gridData: [{\n        date: \"2016-05-02\",\n        name: \"王小虎\",\n        address: \"上海市普陀区金沙江路 1518 弄\"\n      }, {\n        date: \"2016-05-04\",\n        name: \"王小虎\",\n        address: \"上海市普陀区金沙江路 1518 弄\"\n      }, {\n        date: \"2016-05-01\",\n        name: \"王小虎\",\n        address: \"上海市普陀区金沙江路 1518 弄\"\n      }, {\n        date: \"2016-05-03\",\n        name: \"王小虎\",\n        address: \"上海市普陀区金沙江路 1518 弄\"\n      }],\n      timer: null\n    };\n  },\n  methods: {\n    handleClose(done) {\n      if (this.loading) {\n        return;\n      }\n      this.$confirm(\"确定要提交表单吗？\").then(_ => {\n        this.loading = true;\n        this.timer = setTimeout(() => {\n          done();\n          // 动画关闭需要一定的时间\n          setTimeout(() => {\n            this.loading = false;\n          }, 400);\n        }, 2000);\n      }).catch(_ => {});\n    },\n    deleteBill() {\n      axios.post(\"/deleteBill\", this.billData) //event_id是envent_id\n      .then(response => {\n        console.log(response.data);\n        //this.billData=response.data.data[0]\n        //this.$router.push('/bill')\n        this.showDrawer = false;\n        this.$emit(\"deleteBill\", \"true\");\n        this.$message({\n          message: \"删除成功\",\n          type: \"success\"\n        });\n      });\n    },\n    deleteLoan() {\n      axios.post(\"/deleteLoan\", this.loanData).then(response => {\n        console.log(response.data);\n        this.showDrawer = false;\n        //this.billData=response.data.data[0]\n        //this.$router.push('/bill')\n        this.$emit(\"deleteLoan\", \"true\");\n        this.$message({\n          message: \"删除成功\",\n          type: \"success\"\n        });\n      });\n    },\n    cancelForm() {\n      this.loading = false;\n      this.dialog = false;\n      clearTimeout(this.timer);\n    }\n  },\n  computed: {\n    descriptionTitle() {\n      return this.type === \"loan\" ? \"贷款详情\" : this.type === \"bill\" ? \"账单详情\" : this.type === \"stock\" ? \"股票详情\" : this.type === \"fund\" ? \"基金详情\" : \"未知详情\"; // 你可以根据需要添加更多类型\n    }\n  }\n};","map":{"version":3,"names":["k","categoryes","axios","components","props","ifshowDrawer","Boolean","type","String","billData","Object","loanData","watch","newValue","oldValue","console","log","drawerSize","showDrawer","$emit","data","category","dialog","loading","gridData","date","name","address","timer","methods","handleClose","done","$confirm","then","_","setTimeout","catch","deleteBill","post","response","$message","message","deleteLoan","cancelForm","clearTimeout","computed","descriptionTitle"],"sources":["src/components/drawer.vue"],"sourcesContent":["\r\n<template>\r\n  <el-drawer\r\n    :title=\"descriptionTitle\"\r\n    :visible.sync=\"showDrawer\"\r\n    direction=\"rtl\"\r\n    :size=\"this.drawerSize\"\r\n  >\r\n    <!--\r\n   <el-table :data=\"gridData\">\r\n      <el-table-column property=\"date\" label=\"日期\" width=\"150\"></el-table-column>\r\n      <el-table-column property=\"name\" label=\"姓名\" width=\"200\"></el-table-column>\r\n      <el-table-column property=\"address\" label=\"地址\"></el-table-column>\r\n    </el-table>\r\n  -->\r\n    <div v-if=\"type === 'bill'\" style=\"margin-top: 30%; padding: 1rem\">\r\n      <el-descriptions :column=\"1\" border>\r\n        <el-descriptions-item label=\"账单类型\">\r\n          <span v-if=\"this.billData.type === 'expend'\">支出</span>\r\n          <span v-else-if=\"this.billData.type === 'income'\">收入</span>\r\n          <span v-else>其他类型</span\r\n          ><!--{{ this.billData.type }}--></el-descriptions-item\r\n        >\r\n\r\n        <el-descriptions-item label=\"账单金额\">{{\r\n          this.billData.amount\r\n        }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"类型\"\r\n          ><!--{{ this.billData.category }}-->{{\r\n            this.category[this.billData.category].name\r\n          }}</el-descriptions-item\r\n        >\r\n        <el-descriptions-item label=\"创建账单日期\">{{\r\n          this.billData.date\r\n        }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"备注\" :span=\"2\">{{\r\n          this.billData.remark\r\n        }}</el-descriptions-item>\r\n      </el-descriptions>\r\n      <div style=\"display: flex; justify-content: center; margin-top: 20px\">\r\n        <el-button type=\"danger\" round @click=\"deleteBill\">删除</el-button>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"type === 'loan'\" style=\"margin-top: 10%; padding: 1rem\">\r\n      <el-descriptions :column=\"1\" border>\r\n        <el-descriptions-item label=\"每月支付本息\"\r\n          >{{ this.loanData.monthPayment }}元</el-descriptions-item\r\n        >\r\n        <el-descriptions-item label=\"累计支付利息\"\r\n          >{{ this.loanData.totalInterestPaid }}元</el-descriptions-item\r\n        >\r\n        <el-descriptions-item label=\"累计还款总额\"\r\n          >{{ this.loanData.totalRepaymentAmount }}元</el-descriptions-item\r\n        >\r\n\r\n        <el-descriptions-item label=\"贷款类型\">{{\r\n          this.loanData.loanType\r\n        }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"贷款金额\">{{\r\n          this.loanData.loanAmount\r\n        }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"贷款期限\">{{\r\n          this.loanData.loanTerm\r\n        }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"还款方式\">{{\r\n          this.loanData.repaymentMethod\r\n        }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"年化利率\">{{\r\n          this.loanData.annualInterestRate\r\n        }}</el-descriptions-item>\r\n        <el-descriptions-item label=\"贷款日期\">{{\r\n          this.loanData.loanDate\r\n        }}</el-descriptions-item>\r\n      </el-descriptions>\r\n      <div style=\"display: flex; justify-content: center; margin-top: 20px\">\r\n        <el-button type=\"danger\" round @click=\"deleteLoan\">删除</el-button>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"type === 'stock'\" style=\"padding: 1rem\">\r\n      <div\r\n        style=\"\r\n          display: flex;\r\n          flex-direction: column;\r\n          justify-content: center;\r\n          align-items: center;\r\n    \r\n        \"\r\n      >\r\n        <div style=\"font-size: 20px;font-weight: bold; color:#000\"><span>中国长城</span><span> 000066</span></div>\r\n        <div style=\"font-size: 1rem; color:#000\">今日盈亏</div>\r\n        <div style=\"font-size: 20px; color:rgb(255, 0, 0); font-weight: bold;\">+2685.00</div>\r\n        <div style=\"font-size: 1rem; color:#000\">持仓盈亏</div>\r\n        <div style=\"font-size: 20px; color:rgb(255, 0, 0); font-weight: bold;\">+2685.00</div>\r\n      </div>\r\n      <div style=\"border: 1px solid #000; padding: 3rem; display: flex;margin-left: 40px;\">\r\n        <div class=\"info\">\r\n          <div class=\"name\">\r\n            <span>10.95</span\r\n            ><!---<span style=\"color: rgb(162, 162, 167); font-weight: normal; margin-left: 10px\">{{ data.remark || this.label }}</span>-->\r\n          </div>\r\n          <div>+1.86%</div>\r\n        </div>\r\n        <div class=\"ooo\">\r\n          <div>\r\n            <span>最高价</span><span>10.98</span>\r\n            <div style=\"margin-top: 1rem\">\r\n              <span>最低价</span><span>10.66</span>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <span>开盘价</span><span>10.77</span>\r\n            <div style=\"margin-top: 1rem\">\r\n              <span>换手率</span><span>0.84%</span>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <span>成交量</span><span>26.28万手</span>\r\n            <div style=\"margin-top: 1rem\">\r\n              <span>成交额</span><span>2.85亿</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        </div>\r\n        <div\r\n          id=\"echartContainer\"\r\n          ref=\"echartContainer\"        \r\n          style=\"\r\n          height: 400px; \r\n          width:100%;\r\n          border: 1px solid #000;\r\n        \"\r\n        >\r\n          <k></k>\r\n        </div>\r\n    \r\n    </div>\r\n  </el-drawer>\r\n</template>\r\n      \r\n      \r\n      <script>\r\n      import k from \"./k.vue\";\r\nimport { categoryes } from \"../types/types\"; //只导入特定的属性，变量\r\nimport axios from \"axios\";\r\nexport default {\r\n  components: {\r\n    k,\r\n  },\r\n  props: {\r\n    ifshowDrawer: Boolean,\r\n    type: String,\r\n    billData: Object,\r\n    loanData: Object,\r\n  },\r\n  watch: {\r\n    ifshowDrawer(newValue, oldValue) {\r\n      if (newValue !== oldValue) {\r\n        console.log(\"向父组件传递改变的值原来\", oldValue);\r\n        console.log(\"向父组件传递改变的值现在\", newValue);\r\n        if (this.type == \"stock\") this.drawerSize = \"60%\";\r\n        this.showDrawer = newValue;\r\n        //this.$emit('dialog-form-visible-changed', newValue);\r\n      } else {\r\n        console.log(\"111\");\r\n      }\r\n    },\r\n    showDrawer(newValue, oldValue) {\r\n      if (newValue !== oldValue) {\r\n        console.log(\"drawer原来\", oldValue);\r\n        console.log(\"drawer现在\", newValue);\r\n        this.$emit(\"drawerFalse\", newValue);\r\n      }\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      category: categoryes,\r\n      showDrawer: false,\r\n      drawerSize: \"30%\",\r\n      dialog: false,\r\n      loading: false,\r\n      gridData: [\r\n        {\r\n          date: \"2016-05-02\",\r\n          name: \"王小虎\",\r\n          address: \"上海市普陀区金沙江路 1518 弄\",\r\n        },\r\n        {\r\n          date: \"2016-05-04\",\r\n          name: \"王小虎\",\r\n          address: \"上海市普陀区金沙江路 1518 弄\",\r\n        },\r\n        {\r\n          date: \"2016-05-01\",\r\n          name: \"王小虎\",\r\n          address: \"上海市普陀区金沙江路 1518 弄\",\r\n        },\r\n        {\r\n          date: \"2016-05-03\",\r\n          name: \"王小虎\",\r\n          address: \"上海市普陀区金沙江路 1518 弄\",\r\n        },\r\n      ],\r\n\r\n      timer: null,\r\n    };\r\n  },\r\n  methods: {\r\n    handleClose(done) {\r\n      if (this.loading) {\r\n        return;\r\n      }\r\n      this.$confirm(\"确定要提交表单吗？\")\r\n        .then((_) => {\r\n          this.loading = true;\r\n          this.timer = setTimeout(() => {\r\n            done();\r\n            // 动画关闭需要一定的时间\r\n            setTimeout(() => {\r\n              this.loading = false;\r\n            }, 400);\r\n          }, 2000);\r\n        })\r\n        .catch((_) => {});\r\n    },\r\n    deleteBill() {\r\n      axios\r\n        .post(\"/deleteBill\", this.billData) //event_id是envent_id\r\n        .then((response) => {\r\n          console.log(response.data);\r\n          //this.billData=response.data.data[0]\r\n          //this.$router.push('/bill')\r\n          this.showDrawer = false;\r\n          this.$emit(\"deleteBill\", \"true\");\r\n          this.$message({\r\n            message: \"删除成功\",\r\n            type: \"success\",\r\n          });\r\n        });\r\n    },\r\n    deleteLoan() {\r\n      axios.post(\"/deleteLoan\", this.loanData).then((response) => {\r\n        console.log(response.data);\r\n        this.showDrawer = false;\r\n        //this.billData=response.data.data[0]\r\n        //this.$router.push('/bill')\r\n        this.$emit(\"deleteLoan\", \"true\");\r\n        this.$message({\r\n          message: \"删除成功\",\r\n          type: \"success\",\r\n        });\r\n      });\r\n    },\r\n    cancelForm() {\r\n      this.loading = false;\r\n      this.dialog = false;\r\n      clearTimeout(this.timer);\r\n    },\r\n  },\r\n  computed: {\r\n    descriptionTitle() {\r\n      return this.type === \"loan\"\r\n        ? \"贷款详情\"\r\n        : this.type === \"bill\"\r\n        ? \"账单详情\"\r\n        : this.type === \"stock\"\r\n        ? \"股票详情\"\r\n        : this.type === \"fund\"\r\n        ? \"基金详情\"\r\n        : \"未知详情\"; // 你可以根据需要添加更多类型\r\n    },\r\n  },\r\n};\r\n</script>\r\n      \r\n   <style lang=\"less\" scoped>\r\n@import \"../styles/common.less\";\r\n/deep/.el-drawer__header {\r\n  text-align: center;\r\n  //background-color: #409EFF; /* 背景颜色 */\r\n  color: #000000; /* 文字颜色 */\r\n  font-size: 20px; /* 字体大小 */\r\n  border-bottom: 1px solid #e0e0e0; /* 下边框线 */\r\n  margin-bottom:0%;\r\n}\r\n\r\n.info {\r\n  color: @gray-1;\r\n  font-size: 20px;\r\n  .name {\r\n    font-size: 24px;\r\n    color: @gray-10;\r\n    font-weight: 600;\r\n  }\r\n}\r\n\r\n.ooo {\r\n  display: flex;\r\n  width: 90%;\r\n  //margin-left: 3rem;\r\n  gap: 0.5rem;\r\n  align-items: flex-start;\r\n  justify-content: space-between;\r\n  font-size: 0.8rem;\r\n  color: #000;\r\n  font-size: 1rem;\r\n  color: #000;\r\n  font-weight: bold;\r\n  margin-left: 3rem;\r\n}\r\n\r\n::v-deep .el-drawer {\r\n  background: linear-gradient(30deg, #baebe7, #14c4b8) !important\r\n}\r\n\r\n</style>\r\n      "],"mappings":"AA+IA,OAAAA,CAAA;AACA,SAAAC,UAAA;AACA,OAAAC,KAAA;AACA;EACAC,UAAA;IACAH;EACA;EACAI,KAAA;IACAC,YAAA,EAAAC,OAAA;IACAC,IAAA,EAAAC,MAAA;IACAC,QAAA,EAAAC,MAAA;IACAC,QAAA,EAAAD;EACA;EACAE,KAAA;IACAP,aAAAQ,QAAA,EAAAC,QAAA;MACA,IAAAD,QAAA,KAAAC,QAAA;QACAC,OAAA,CAAAC,GAAA,iBAAAF,QAAA;QACAC,OAAA,CAAAC,GAAA,iBAAAH,QAAA;QACA,SAAAN,IAAA,kBAAAU,UAAA;QACA,KAAAC,UAAA,GAAAL,QAAA;QACA;MACA;QACAE,OAAA,CAAAC,GAAA;MACA;IACA;IACAE,WAAAL,QAAA,EAAAC,QAAA;MACA,IAAAD,QAAA,KAAAC,QAAA;QACAC,OAAA,CAAAC,GAAA,aAAAF,QAAA;QACAC,OAAA,CAAAC,GAAA,aAAAH,QAAA;QACA,KAAAM,KAAA,gBAAAN,QAAA;MACA;IACA;EACA;EACAO,KAAA;IACA;MACAC,QAAA,EAAApB,UAAA;MACAiB,UAAA;MACAD,UAAA;MACAK,MAAA;MACAC,OAAA;MACAC,QAAA,GACA;QACAC,IAAA;QACAC,IAAA;QACAC,OAAA;MACA,GACA;QACAF,IAAA;QACAC,IAAA;QACAC,OAAA;MACA,GACA;QACAF,IAAA;QACAC,IAAA;QACAC,OAAA;MACA,GACA;QACAF,IAAA;QACAC,IAAA;QACAC,OAAA;MACA,EACA;MAEAC,KAAA;IACA;EACA;EACAC,OAAA;IACAC,YAAAC,IAAA;MACA,SAAAR,OAAA;QACA;MACA;MACA,KAAAS,QAAA,cACAC,IAAA,CAAAC,CAAA;QACA,KAAAX,OAAA;QACA,KAAAK,KAAA,GAAAO,UAAA;UACAJ,IAAA;UACA;UACAI,UAAA;YACA,KAAAZ,OAAA;UACA;QACA;MACA,GACAa,KAAA,CAAAF,CAAA;IACA;IACAG,WAAA;MACAnC,KAAA,CACAoC,IAAA,qBAAA7B,QAAA;MAAA,CACAwB,IAAA,CAAAM,QAAA;QACAxB,OAAA,CAAAC,GAAA,CAAAuB,QAAA,CAAAnB,IAAA;QACA;QACA;QACA,KAAAF,UAAA;QACA,KAAAC,KAAA;QACA,KAAAqB,QAAA;UACAC,OAAA;UACAlC,IAAA;QACA;MACA;IACA;IACAmC,WAAA;MACAxC,KAAA,CAAAoC,IAAA,qBAAA3B,QAAA,EAAAsB,IAAA,CAAAM,QAAA;QACAxB,OAAA,CAAAC,GAAA,CAAAuB,QAAA,CAAAnB,IAAA;QACA,KAAAF,UAAA;QACA;QACA;QACA,KAAAC,KAAA;QACA,KAAAqB,QAAA;UACAC,OAAA;UACAlC,IAAA;QACA;MACA;IACA;IACAoC,WAAA;MACA,KAAApB,OAAA;MACA,KAAAD,MAAA;MACAsB,YAAA,MAAAhB,KAAA;IACA;EACA;EACAiB,QAAA;IACAC,iBAAA;MACA,YAAAvC,IAAA,cACA,SACA,KAAAA,IAAA,cACA,SACA,KAAAA,IAAA,eACA,SACA,KAAAA,IAAA,cACA,SACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}