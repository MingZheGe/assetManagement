!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("vue-class-component")):"function"==typeof define&&define.amd?define(["exports","vue-class-component"],e):e(t.VueTimers={},t["vue-class-component"])}(this,function(t,e){"use strict";var i=function(){function t(t,e,i,s){void 0===e&&(e=1e3),void 0===i&&(i=!1),this.repeat=!1,this.interval=1e3,this.timerId=-1,this.repeat=i,this.interval=e,this.methodName=t,this.state="created",this.args=s}return t.prototype.start=function(){var t=this;"running"!==this.state&&"expired"!==this.state&&(this.repeat?this.timerId=setInterval(function(){t.args?t.method.apply(t,t.args()):t.method()},this.interval):this.timerId=setTimeout(function(){t.args?t.method.apply(t,t.args()):t.method(),t.state="expired"},this.interval),this.state="running")},t.prototype.stop=function(){this.repeat?clearInterval(this.timerId):clearTimeout(this.timerId),this.state="stopped"},t.prototype.setVM=function(t){if(this.vm=t,!this.vm[this.methodName])throw new Error("ERR_METHOD_NOT_FOUND: Method name in timer is probably wrong");this.method=this.vm[this.methodName].bind(this.vm),this.args&&(this.args=this.args.bind(this.vm))},t}(),s={data:function(){var e=this;return this.$options.timers?{timers:Object.keys(this.$options.timers).map(function(t){return new i(t,e.$options.timers[t].interval,e.$options.timers[t].repeat,e.$options.timers[t].args)})}:{}},created:function(){if(this.timers){var e=this,t=this.timers;t.forEach(function(t){return t.setVM(e)}),e.$timers={start:function(){t.forEach(function(t){console.log("start: "+t.methodName+" "+t.state),t.start()})},stop:function(){t.forEach(function(t){console.log("stop: "+t.methodName+" "+t.state),t.stop()})}}}},mounted:function(){this.timers&&this.$timers.start()},beforeDestroy:function(){this.timers&&this.$timers.stop()}};t.VueTimersMixin=s,t.default=function(t){t.mixin(s)},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=index.min.js.map
