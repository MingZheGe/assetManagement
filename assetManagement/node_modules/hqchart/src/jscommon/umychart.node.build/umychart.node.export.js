

////////////////////////////////////////////////////////////////////
//  后台不能用ajax, 改用request
//
///////////////////////////////////////////////////////////////////
const clientHttp  = require('request');

function JSNetwork() { }
JSNetwork.HttpRequest=function(obj) //对请求进行封装
{
    var options = 
    {
        url: obj.url,
        method: obj.type,
        body: obj.data,
        json: true,     // Use,If you are sending JSON data
    }

    clientHttp(options, function (err, res, recvData) 
    {
        if (err) 
        {
            if (obj.error) obj.error(null,res,err);
        }
        else
        {
            obj.success(recvData);
        }
    });
}


//把给外界调用的方法暴露出来
module.exports={
    //指标编译器
    ScriptIndexConsole:ScriptIndexConsole,  //指标执行 无UI
    HQ_DATA_TYPE:HQ_DATA_TYPE,
    JSIndexScript:JSIndexScript,            //系统指标
}